+++
date = 2022-04-28
tags = ["zig"]
+++

# zig その2

再度使ってみるべく環境整備から。

## zls の master を使う

どうやら @import std 以外がうまく動かないらしく、 最新版を試してみたい。

```
const glfw = @import("glfw");
```

zls の最新判を試すには、 zig の最新版(0.9.1じゃなくてmaster)が必要。
zig のビルドには static build の llvm-13 が必要。
Windows では頓挫した。
しかし、最近 gentoo を育成しているのでこっちでやってみる。

```
cmake -B build -S .
```

してみたが、最後にリンクエラーが出る。

```
undefined reference to clang::SourceManager::getFilename
```

しかし、 gentoo の emerge に `dev-lang/zig-9999` があった。
これを使って zls がビルドできた。
`glfw` のインテリセンスも動作した。

## OpenGL やってく

- https://github.com/hexops/mach-glfw

を起点にやってみる。
前回は `@cImport` を使っているサンプルでインテリセンス効かなくて、続かなかった。
`@import` + `最新版zls` で進めていけば慣れるかな。

