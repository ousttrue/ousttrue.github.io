<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>三次元日誌</title>

    

  <script src="https://ousttrue.github.io/plugins/elasticlunr.min.js" defer></script>
  <script src="https://ousttrue.github.io/search_index.en.js" defer></script>
  <script src="https://ousttrue.github.io/js/search.js" defer></script>

    

     
    <link rel="stylesheet" href="https://ousttrue.github.io/main.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
      />
    
  </head>

  <body class="container">
    <a class="site_title" href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;">
      <div>三次元日誌</div>
    </a>

    <nav class="nav">
      <a class="item" href="/tags/">tags</a>
      <a class="item" href="https://github.com/ousttrue" aria-label="github">
        <i class="fab fa-github fa-lg"></i>
      </a>
      

        
            <form class="navbar-form">
                <input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
                    aria-label="Search docs..." autocomplete="off">
                <div id="suggestions" class="shadow bg-white rounded"></div>
            </form>
        
    </nav>

    <main class="main">
<div class="page">
<div class="content">
  <div class="headline">
  
  

  
  <a class="headline_title" href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;linux&#x2F;gentoo-xorg&#x2F;"> GentooでX11を設定する 
  

  
  </a>

  

  <div>
    <ul class="tags">
      <li class="headline_date">
        <div class="year">2017</div>
        <div class="md">0905</div>
      </li>
      
      


    <li class="tag"><a href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;tags&#x2F;linux&#x2F;">linux</a></li>




    </ul>
  </div>
</div>
 <p>デスクトップの構築メモ。</p>
<p>xorg-server</p>
<p>https://wiki.gentoo.org/wiki/Xorg/Guide</p>
<p>/etc/portage/make.conf
INPUT_DEVICE=&quot;libinput&quot;
VIDEO_CARDS=&quot;radeon&quot;</p>
<h1 id="emerge-av-xorg-server">emerge -av xorg-server</h1>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">
# xのアプリを入れる

```shell
$ startx

とすると何もないのですぐに終わってしまう。
古のアプリを入れてみる。
# emerge -av twm xclock xterm 

動作を確認できた。
Plasma5

https://wiki.gentoo.org/wiki/KDE/Plasma_5_upgrade
https://wiki.gentoo.org/wiki/KDE#Plasma

# eselect profile list
Available profile symlink targets:
  [1]   default/linux/amd64/13.0 *
  [2]   default/linux/amd64/13.0/selinux
  [3]   default/linux/amd64/13.0/desktop
  [4]   default/linux/amd64/13.0/desktop/gnome
  [5]   default/linux/amd64/13.0/desktop/gnome/systemd
  [6]   default/linux/amd64/13.0/desktop/plasma
  [7]   default/linux/amd64/13.0/desktop/plasma/systemd
  [8]   default/linux/amd64/13.0/developer
  [9]   default/linux/amd64/13.0/no-multilib
  [10]  default/linux/amd64/13.0/systemd
  [11]  default/linux/amd64/13.0/x32
  [12]  hardened/linux/amd64
  [13]  hardened/linux/amd64/selinux
  [14]  hardened/linux/amd64/no-multilib
  [15]  hardened/linux/amd64/no-multilib/selinux
  [16]  hardened/linux/amd64/x32
  [17]  hardened/linux/musl/amd64
  [18]  hardened/linux/musl/amd64/x32
  [19]  default/linux/uclibc/amd64
  [20]  hardened/linux/uclibc/amd64

[6]   default/linux/amd64/13.0/desktop/plasmaを採用する。
# eselect profile set 6
# emerge --ask --changed-use --newrepo --deep world
# emerge --ask kde-plasma/plasma-meta

Widgets
# emerge --ask kde-plasma/kdeplasma-addons

Apps
# # 時間かかる
# emerge -av kde-apps/kdecore-meta

# emerge -av kde-apps/kdemultimedia-meta

xdm設定
起動時に自動でXのログイン画面が起動するようにする
# rc-update add xdm default
# vim /etc/conf.d/xdm
sddm

# /etc/init.d/xdm restart

s
Windows上にX-Server

https://sourceforge.net/projects/vcxsrv/
https://wiki.archlinuxjp.org/index.php/SDDM

SDDMはXDMCPサポートは無い？

https://wiki.gentoo.org/wiki/Display_manager

LightDMに乗り換え
VNC

https://wiki.gentoo.org/wiki/TigerVNC

日本語フォント
# emerge --ask noto
# emerge --ask Ricty

日本語入力
# emerge -av fcitx-anthy
# emerge -av kcm-fcitx

.bash_profile
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx

alsa
$ aplay -l
**** List of PLAYBACK Hardware Devices ****
card 0: HDMI [HDA ATI HDMI], device 3: HDMI 0 [HDMI 0]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: Generic [HD-Audio Generic], device 0: ALC887-VD Analog [ALC887-VD Analog]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: Generic [HD-Audio Generic], device 1: ALC887-VD Digital [ALC887-VD Digital]
  Subdevices: 1/1
  Subdevice #0: subdevice #0

3番目のALC887-VD Digitalに出力するように設定
/etc/asound.conf
defaluts.pcm.card 1
defaults.pcm.device 1
defaults.ctl.card 1

pcm.!default {
    type plug
    slave.pcm &quot;hw:1,1&quot;
}


# rc-update add alsasound boot

browser
ビルド時間長いのでバイナリを入れとく
# emerge -av google-chrome
# emerge -av firefox-bin

</span></code></pre>
</div>

<nav class="toc">

<div class="toc_fix">
<ul>
    
        <li>
            <a href="https://ousttrue.github.io/linux/gentoo-xorg/#emerge-av-xorg-server">emerge -av xorg-server</a>
            
        </li>
    
</ul>
</div>


</nav>
</div>
</main>

    <footer class="footer">Powered by <a href="https://www.getzola.org/">Zola</a> <a href="https://github.com/ousttrue/zola/tree/custom">custom</a></footer>

  </body>
</html>
