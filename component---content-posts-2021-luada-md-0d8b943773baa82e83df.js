"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5463],{6842:function(e,n,t){t.r(n);var l=t(1151),a=t(7294);function u(e){const n=Object.assign({p:"p",code:"code",h1:"h1",h2:"h2",ul:"ul",li:"li",pre:"pre",h3:"h3",a:"a"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"vscode ã® lua ãƒ‡ãƒãƒƒã‚¬ãƒ¼ã«"),"\n",a.createElement(n.p,null,"https://marketplace.visualstudio.com/items?itemName=tomblind.local-lua-debugger-vscode ã‚’ä½¿ã£ã¦ã„ãŸã®ã ãŒã€"),"\n",a.createElement(n.p,null,a.createElement(n.code,null,"launch.json")," ã® ",a.createElement(n.code,null,"args")," ã« ",a.createElement(n.code,null,"\\\\")," ãŒå…¥ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã§èµ·å‹•ã§ããªã„ã€‚\nWindows ã§ä½œæ¥­ã—ã¦ã„ã‚‹ã®ã§ã€ç¨€ã«ã‚ˆããƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®æŒ‡å®šã« ",a.createElement(n.code,null,"\\\\")," ãŒå…¥ã‚‹ã€‚"),"\n",a.createElement(n.h1,null,"DebugAdapter ã‚’ä½œã£ã¦ã„ãŸã‚‰ã€ç›´ã—æ–¹ãŒã‚ã‹ã£ãŸ"),"\n",a.createElement(n.p,null,"https://github.com/ousttrue/local-lua-debugger-vscode/commit/0f3974b73964b2e34f90a21de9757a57d6746eb4"),"\n",a.createElement(n.h2,null,"PR"),"\n",a.createElement(n.p,null,"https://github.com/tomblind/local-lua-debugger-vscode/pull/37"),"\n",a.createElement(n.p,null,"Linux ã§ã¯å‹•ã‹ã‚“ã‹ã£ãŸã‚‰ã—ãã€åˆ¥ã®æ–¹æ³•ã§ä¿®æ­£ã—ã¦ãã‚ŒãŸã€‚"),"\n",a.createElement(n.p,null,"ğŸ‘ ",a.createElement(n.code,null,"0.2.2")," https://github.com/tomblind/local-lua-debugger-vscode/blob/master/CHANGELOG.md"),"\n",a.createElement(n.h1,null,"è‡ªå‰ã§ ",a.createElement(n.code,null,"DebugAdapter")," ä½œã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ãŸã€‚"),"\n",a.createElement(n.p,null,"https://github.com/ousttrue/luada"),"\n",a.createElement(n.p,null,"é€”ä¸­ã¾ã§å®Ÿè£…ã—ãŸã®ã ãŒã€"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"luajit.exe + luada.lua"),"\n"),"\n",a.createElement(n.p,null,"ã¨ã„ã†æ§‹æˆã‚ˆã‚Šã¯ã€"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"luada.exe"),"\n"),"\n",a.createElement(n.p,null,"ã®æ–¹ãŒå–ã‚Šå›ã—ãŒã‚ˆãã¦ã€ãã‚Œãªã‚‰ lua æˆåˆ†ã‚’ã‚‚ã£ã¨æ¸›ã‚‰ã—ã¦ JSON-RPC åˆ¶å¾¡ã‚‚ ",a.createElement(n.code,null,"c++")," ãªã‚Š ",a.createElement(n.code,null,"rust")," ãªã‚Šã«ã—ã¦\nlua åŸ‹ã‚è¾¼ã¿å‹ã® exe ãŒä½œã‚Šã‚„ã™ãã†ã€‚\nå…ƒã€…ã€ ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ã® lua ã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã† lua ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã„ã†æ–¹å‘æ€§ã§å®Ÿè£…ã—ã¦ã„ãŸã®ã ãŒã€\n",a.createElement(n.code,null,"luajit-2.1.0-beta3")," ä¸€è¾ºå€’ã«ãªã‚Šã¤ã¤ã‚ã‚‹ã®ã§æ°—åˆ†ãŒå¤‰ã‚ã£ã¦ããŸã®ã§ã‚ã£ãŸã€‚\nã“ã‚Œã«é–¢ã—ã¦ã¯ã€ä»Šã®æ§‹æˆã§ã§ãã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã£ã¦ã¿ã‚ˆã†ã€‚"),"\n",a.createElement(n.h1,null,"VSCode ã® Extension ã‚’ä½œã‚‹"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://code.visualstudio.com/api/get-started/your-first-extension"),"\n"),"\n",a.createElement(n.p,null,"æ‰‹é †é€šã‚Šã«åˆæœŸåŒ–ã—ãŸã€‚npm ã¯æœ€æ–°ç‰ˆã«æ›´æ–°ã—ãŸã»ã†ãŒã‚ˆã„ã½ã„ã€‚"),"\n",a.createElement(n.h1,null,"MockDebug"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://code.visualstudio.com/api/extension-guides/debugger-extension"),"\n"),"\n",a.createElement(n.p,null,"ã‚’èª­ã‚€ã€‚"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://github.com/microsoft/vscode-mock-debug"),"\n"),"\n",a.createElement(n.p,null,"ã¨ã„ã†ã‚µãƒ³ãƒ—ãƒ«ãŒã‚ã‚‹ã€‚"),"\n",a.createElement(n.p,null,"ã„ãã¤ã‹ã®æ©Ÿèƒ½ã‚’ã¾ã¨ã‚ã¦æä¾›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã€‚"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"launch.json ã®è¨­å®š"),"\n",a.createElement(n.li,null,"DebugAdapter æœ¬ä½“"),"\n",a.createElement(n.li,null,"DebugAdapter ã‚’èµ·å‹•ã™ã‚‹"),"\n"),"\n",a.createElement(n.h1,null,"å®Ÿè£…ã—ã¦ã¿ã‚‹"),"\n",a.createElement(n.h2,null,"Extension ã® activate"),"\n",a.createElement(n.p,null,"é©å½“ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™»éŒ²ã—ã¦"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-json"},'    // package.json\n    "activationEvents": [\n        "onDebug",\n        "onDebugInitialConfigurations",\n        "onDebugDynamicConfigurations",\n        "onDebugResolve:lua",\n        "onLanguage:lua"\n    ],\n')),"\n",a.createElement(n.p,null,a.createElement(n.code,null,"activate")," ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-ts"},"// src/extension.ts\nexport function activate(context: vscode.ExtensionContext) {\n    console.log('activate luada');\n}\n")),"\n",a.createElement(n.h2,null,"Launch"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-json"},'    "contributes": {\n        "breakpoints": [\n            {\n                "language": "lua"\n            }\n        ],\n        "debuggers": [\n            {\n                "type": "luada",\n                "label": "LuaDA",\n                "languages": [\n                    "lua"\n                ],\n                // launch.json ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ\n                "initialConfigurations": [\n                    {\n                        "type": "luada",\n                        "name": "launch luada",\n                        "request": "launch",\n                        "program": "${workspaceFolder}/main.lua",\n                        "args": []\n                    }\n                ],\n                // request: launch ã«å¯¾ã—ã¦å¯èƒ½ãª property ã®å®šç¾©\n                "configurationAttributes": {\n                    "launch": {\n                        "properties": {\n                            "program": {\n                                "type": "string",\n                                "markdownDescription": "Lua program to debug - set this to the path of the script",\n                                "default": "${workspaceFolder}/main.lua"\n                            },                            \n                            "arg": {\n                                "type": "array",\n                                "markdownDescription": "Command line argument, arg[1] ... arg[n]",\n                                "default": []\n                            }                            \n                        }\n                    }\n                }\n            }\n        ]\n    },\n')),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"activate ã§ DebugAdapterDescriptorFactory ã‚’ç™»éŒ²"),"\n",a.createElement(n.li,null,"launch ã§ createDebugAdapterDescriptor ã‚’å®Ÿè¡Œã™ã‚‹"),"\n"),"\n",a.createElement(n.p,null,a.createElement(n.code,null,"src/extensions.ts")),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-ts"},"import * as vscode from 'vscode';\n\n\nfunction createDebugAdapterDescriptorFactory(context: vscode.ExtensionContext): vscode.DebugAdapterDescriptorFactory {\n    return {\n        createDebugAdapterDescriptor(\n            session: vscode.DebugSession,\n            executable: vscode.DebugAdapterExecutable | undefined\n        ): vscode.ProviderResult<vscode.DebugAdapterDescriptor> {\n            console.log('launch luada');\n            const runtime = \"exe\";\n            const runtimeArgs: string[] = [];\n            //\n            // ãƒ‡ãƒãƒƒã‚°ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’èµ·å‹•ã™ã‚‹\n            // èµ·å‹•ã—ãŸã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¨ vscode ã¯ã€æ¨™æº–å…¥å‡ºåŠ›ã§ JSON-RPC ã«ã‚ˆã‚Š DebugAdapterProtocol ã§é€šä¿¡ã™ã‚‹ã€‚\n            //\n            return new vscode.DebugAdapterExecutable(runtime, runtimeArgs);\n        }\n    };\n}\n\nexport function activate(context: vscode.ExtensionContext) {\n    console.log('activate luada');\n    context.subscriptions.push(vscode.debug.registerDebugAdapterDescriptorFactory('luada', createDebugAdapterDescriptorFactory(context)));\n}\n\nexport function deactivate() { }\n")),"\n",a.createElement(n.h2,null,"Debug Adapter ã®å®Ÿè£…"),"\n",a.createElement(n.p,null,"https://microsoft.github.io/debug-adapter-protocol/specification"),"\n",a.createElement(n.p,null,"ã‚’è¦‹ã¦ç²›ã€…ã¨å®Ÿè£…ã™ã‚‹ã€‚"),"\n",a.createElement(n.h3,null,a.createElement(n.a,{href:"https://microsoft.github.io/debug-adapter-protocol/specification#Events_Output"},"Output Event")),"\n",a.createElement(n.p,null,"vscode ã® DebugConsole ã«å‡ºåŠ›ã•ã‚Œã‚‹ã®ã§æ—©æœŸã«ä½œã‚‹ã¨ print debug ã®åŠ©ã‘ã«ãªã‚‹ã€‚"),"\n",a.createElement(n.h3,null,"Logger"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"DebugAdapterProtocol ã®ã‚„ã‚Šã¨ã‚Šã™ã¹ã¦ã‚’è¨˜éŒ²ã™ã‚‹æ©Ÿèƒ½ã‚’ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼å´ã§ä½œã‚‹ã¹ã—ã€‚ç„¡ã„ã¨ãƒ‡ãƒãƒƒã‚°å›°é›£ã«ã€‚"),"\n"),"\n",a.createElement(n.p,null,"ä¾‹"),"\n",a.createElement(n.p,null,"https://github.com/Microsoft/vscode-debugadapter-node/blob/main/adapter/src/loggingDebugSession.ts"),"\n",a.createElement(n.h2,null,"VSIX ã«å‡ºåŠ›"),"\n",a.createElement(n.p,null,"https://code.visualstudio.com/api/working-with-extensions/publishing-extension"),"\n",a.createElement(n.p,null,"vsce ã‚’ä½¿ã†ã€‚"),"\n",a.createElement(n.p,null,"package.json ã«è¿½åŠ ã€‚"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-json"},'    "publisher": "ousttrue",\n    "repository": {\n        "type": "git",\n        "url": "https://github.com/ousttrue/luada.git"\n    },\n')),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"$ npx vsce package\n")),"\n",a.createElement(n.h1,null,"å‚è€ƒ"),"\n",a.createElement(n.h2,null,"https://github.com/actboy168/lua-debug"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"vscode.DebugAdapterExecutable"),"\n"),"\n",a.createElement(n.h2,null,"https://github.com/tomblind/local-lua-debugger-vscode"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"vscode.DebugAdapterServer"),"\n",a.createElement(n.li,null,"TypeScript ã§ vscode.DebugAdapterServer ã‚’ new"),"\n",a.createElement(n.li,null,"vscode ã¨ DebugAdapterServer ãŒ DAP ã§é€šä¿¡"),"\n",a.createElement(n.li,null,"DebugAdapterServer ãŒ lua ã‚’ spawn ã‚‚ã—ã¦ã„ã‚‹"),"\n"))}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(u,e)):u(e)}},1151:function(e,n,t){t.d(n,{ah:function(){return u}});var l=t(7294);const a=l.createContext({});function u(e){const n=l.useContext(a);return l.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);
//# sourceMappingURL=component---content-posts-2021-luada-md-0d8b943773baa82e83df.js.map