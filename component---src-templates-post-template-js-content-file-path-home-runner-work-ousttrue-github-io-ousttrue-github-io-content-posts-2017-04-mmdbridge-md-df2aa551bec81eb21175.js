"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5732],{4038:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var l=n(1151),r=n(7294);function a(e){const t=Object.assign({p:"p",a:"a"},(0,l.ah)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.p,null,"MmdBridgeがよさげなのでビルドしてみる。"),"\n",r.createElement(t.p,null,"最初はプロジェクトと同じPython-3.4 + VS2010でがんばったのだが、 Windows10(64bit)でVS2010(64bit)環境を作るのが困難であることがわかった。ちょっと違うがPython-3.5 + VS2015でやってみる。\nPython3.5のビルド(不要)\nDebug版でもBoost.PythonがRelease版のPython.dllにリンクするとわかった。\n普通のインストーラーでインストールするとデバッグ版が手に入らぬ。せっかくなので自前ビルド。"),"\n",r.createElement(t.p,null,"Windows上でPython3.5をビルドする\nBoost.PythonのデバッグビルドがリンクするPython.dll"),"\n",r.createElement(t.p,null,"Boost.Python\n手元のboost-1.61.0を使う。\n$HOME/user-config.jam\nusing python\n: 3.5.3\n: D:\\usr\\src\\Python-3.5.3\\PCBuild\\python # cmd-or-prefix\n: D:\\usr\\src\\Python-3.5.3\\include\n: D:\\usr\\src\\Python-3.5.3\\PCBuild\\amd64\n;"),"\n",r.createElement(t.p,null,"memo: Jamroot.jam\nboost_1_61_0> bootstrap.bat\nboost_1_61_0> b2 -j2 --with-python3 address-model=64 toolset=msvc-14.0 threading=multi variant=debug,release link=static runtime-link=static,shared --stagedir=stage/x86_64 include=D:\\usr\\src\\Python-3.5.3\\PC"),"\n",r.createElement(t.p,null,"include=D:\\usr\\src\\Python-3.5.3\\PCはpyconfig.hの場所。user-config.jamに2個目のincludeパスを記述する方法がわからなかったのでコマンドライン投入。\nDXSDK_Jun10のインストール\nd3dx9のあるDirectXはダウンロードしてインストールする必要がある。 April 2006を使っているそうなのだけどネット上に見つからなかったので手に入ったバージョンを使った。ビルド時にエラーが出るので下記の記事に沿ってd3dx9core.hを修正する。"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://gist.github.com/t-mat/1540248"},"https://gist.github.com/t-mat/1540248")),"\n",r.createElement(t.p,null,"VS2015\npremake5でVS2015向けにプロジェクトを作ってビルドしたところkンパイルエラーになった。VS2015固有の問題のようなのでコードを修正。"),"\n",r.createElement(t.p,null,"VS 2015 で std::codecvt_utf8 がリンクできない場合の対処法\nsrc/umbase/UMStringUtil.h"),"\n",r.createElement(t.p,null,"動作確認する"),"\n",r.createElement(t.p,null,"Mmdを展開する\nmmdBridgeのd3d9.dllとd3dx9_43.dllをMmdディレクトリにコピーする(ビルド結果)\nmmdBridgeのpythonスクリプトをMmdディレクトリにコピーする(mmdbridge/Release/Win32フォルダにある)\npython.dllをMmdディレクトリにコピーする。もしくはパスを通す(普通にインストールしたPython3でよい)\nMmdディレクトリにoutディレクトリを作成する"),"\n",r.createElement(t.p,null,"以上で、mmdbridge_vmd.pyの動作を確認できた。"))}var o=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.ah)(),e.components);return t?r.createElement(t,e,r.createElement(a,e)):a(e)},c=n(8678),m=n(1883),s=n(8838);const u={code:e=>{let{children:t,className:n}=e;return n?r.createElement(s.Z,{className:n},t):r.createElement("code",null,t)}};function d(e){let{data:t,children:n}=e;const a=t.mdx.frontmatter;return r.createElement(c.Z,null,r.createElement("h1",null,a.title),r.createElement("div",{className:"tags-index"},a.tags&&a.tags.length>0&&a.tags.map((e=>r.createElement(m.rU,{to:"/tags/"+e+"/",itemProp:"url"},r.createElement("button",null,e))))),r.createElement(l.Zo,{components:u},n))}function i(e){return r.createElement(d,e,r.createElement(o,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2017-04-mmdbridge-md-df2aa551bec81eb21175.js.map