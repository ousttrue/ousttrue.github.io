"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8250],{1040:function(e,l,n){n.r(l),n.d(l,{default:function(){return d}});var t=n(1151),a=n(7294);function c(e){const l=Object.assign({p:"p",h2:"h2",span:"span",ul:"ul",li:"li",h3:"h3"},(0,t.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(l.p,null,"Windows10。"),"\n",a.createElement(l.h2,null,"vcpkgでCの関連ライブラリをインストール"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ vcpkg install --triplet x64-windows geos gdal</code></pre></div>'}}),"\n",a.createElement(l.p,null,"30分くらいかかった。"),"\n",a.createElement(l.p,null,"環境変数、 ",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">GDAL_DATA</code>'}})," に ",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">%VCPKG_DIR%\\installed\\x64-windows\\share\\gdal</code>'}})," ビルド先のフォルダを指定する。"),"\n",a.createElement(l.h2,null,"GDAL"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"https://gdal.org/"),"\n"),"\n",a.createElement(l.h3,null,"python"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"https://pypi.org/project/GDAL/"),"\n"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ pip install gdal\nfatal error C1083: Cannot open include file: \'cpl_port.h\': No such file or directory</code></pre></div>'}}),"\n",a.createElement(l.p,null,"事前にVCPKGでビルドしてある。 ",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">INLUCDE</code>'}})," を指し示す。"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ pip install --global-option=build_ext --global-option="-IC:\\vcpkg\\installed\\x64-windows\\include" gdal\n\'GDALGetSpatialRef\': identifier not found</code></pre></div>'}}),"\n",a.createElement(l.p,null,"バージョンをCのGDALに合わせる。vcpkg でインストールしたのは ",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2.4.1</code>'}})," だった。\ngdalの ",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2.4.1</code>'}})," は欠番みたいなので、 ",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2.4.2</code>'}})," にしてみた。"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ pip install --global-option=build_ext --global-option="-IC:\\vcpkg\\installed\\x64-windows\\include" --global-option="-LC:\\vcpkg\\installed\\x64-windows\\lib" \'gdal==2.4.2\'\nLINK : fatal error LNK1181: cannot open input file \'gdal_i.lib\'</code></pre></div>'}}),"\n",a.createElement(l.p,null,a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">gdal_i.lib</code>'}})," inline の static library かな？\n探したら、 ",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">vcpkg</code>'}})," のビルドフォルダにあったので lib にコピーする。"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ copy C:\\vcpkg\\buildtrees\\gdal\\src-x64-windows-release\\gdal-2.4.1\\gdal_i.lib C:\\vcpkg\\installed\\x64-windows\\lib\\\n$ pip install --global-option=build_ext --global-option="-IC:\\vcpkg\\installed\\x64-windows\\include" --global-option="-LC:\\vcpkg\\installed\\x64-windows\\lib" \'gdal==2.4.2\'\nSuccessfully installed gdal-2.4.2</code></pre></div>'}}),"\n",a.createElement(l.p,null,"OK"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"https://www.gis-py.com/entry/py-gdal"),"\n",a.createElement(l.li,null,"https://pcjericks.github.io/py-gdalogr-cookbook/index.html"),"\n"))}var s=function(e){void 0===e&&(e={});const{wrapper:l}=Object.assign({},(0,t.ah)(),e.components);return l?a.createElement(l,e,a.createElement(c,e)):c(e)},r=n(8678),g=n(8838);const o={code:e=>{let{children:l,className:n}=e;return n?a.createElement(g.Z,{className:n},l):a.createElement("code",null,l)}};function i(e){let{data:l,children:n}=e;return a.createElement(r.Z,null,a.createElement("h1",null,l.mdx.frontmatter.title),a.createElement(t.Zo,{components:o},n))}function d(e){return a.createElement(i,e,a.createElement(s,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2019-python-gis-md-4734247542212d65aced.js.map