"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3996],{664:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var l=t(1151),a=t(7294);function c(e){const n=Object.assign({p:"p",code:"code",h1:"h1",h2:"h2",pre:"pre",ul:"ul",li:"li"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"最近、 rust を再開したので、\n",a.createElement(n.code,null,"Static Site Generator")," を go 製の hugo から rust 製の zola に変更してみた。"),"\n",a.createElement(n.p,null,"https://www.getzola.org/"),"\n",a.createElement(n.h1,null,"hugo のからの引っ越し"),"\n",a.createElement(n.h2,null,"zola インストール"),"\n",a.createElement(n.h2,null,"初期化"),"\n",a.createElement(n.h2,null,"config.toml を hugo 版から zola 版に書き換える。"),"\n",a.createElement(n.p,null,"最低限 base_url。"),"\n",a.createElement(n.h2,null,"プレビューしてみる"),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"$ zola serve\n")),"\n",a.createElement(n.p,null,"一部の記事でエラーが出る。"),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"Reason: There is a link that is missing a URL\n")),"\n",a.createElement(n.p,null,"どの記事がまずいかはわかるが、何行目とか場所はわからないのかしら。\n適当になおす。"),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"$ zola check\n")),"\n",a.createElement(n.p,null,"の方がデバッグ向け。\nいくつかなおしたら、エラーは出なくなった。"),"\n",a.createElement(n.h1,null,"テンプレートを用意する"),"\n",a.createElement(n.p,null,"https://www.getzola.org/documentation/getting-started/overview/"),"\n",a.createElement(n.p,null,"に従って基本的なテンプレートを作成。\nindex.html, section.html, page.html の3種類のテンプレートがサーチされる。\nsection.html と page.html は、section のフロントマター、 ",a.createElement(n.code,null,"template"),", ",a.createElement(n.code,null,"page_template")," で変更できる。"),"\n",a.createElement(n.h1,null,"zola の content 構成"),"\n",a.createElement(n.p,null,"section(フォルダ) に page が所属するという構成みたい。\nsection とうのは単なるフォルダではなくて、folder/index.md もしくは folder/_index.md をさす。"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"root => index.html","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"section","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"_index.md (セクションになる) => section.html"),"\n",a.createElement(n.li,null,"page1.md => page.html"),"\n",a.createElement(n.li,null,"page2.md => page.html"),"\n",a.createElement(n.li,null,"subsection (_index.md が無いのでセクションでは無い) => レンダリングされない","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"page3.md (orphan page) => page.html"),"\n",a.createElement(n.li,null,"page4.md (orphan page) => page.html"),"\n"),"\n"),"\n"),"\n"),"\n"),"\n"),"\n"),"\n",a.createElement(n.p,null,"セクションに所属しない page は orphan page となり、 ",a.createElement(n.code,null,"section.pages")," のように列挙することができなくなる。\nすべてのフォルダに ",a.createElement(n.code,null,"_index.md")," を配置してセクション化するという設計思想のようだ。"),"\n",a.createElement(n.p,null,"セクションが木構造になっていて、page が leaf になる。"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"section","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"subsections"),"\n",a.createElement(n.li,null,"pages"),"\n"),"\n"),"\n"),"\n",a.createElement(n.p,null,"が再帰的に続く。"),"\n",a.createElement(n.h2,null,"zola を改造してみた。"),"\n",a.createElement(n.p,null,"orphan page が section.pages に入るようになる。\nhttps://github.com/ousttrue/zola/commit/7842d0b2d05eb15400dbe20b20791b57af077de1"),"\n",a.createElement(n.h1,null,"zola 設定 config.toml"),"\n",a.createElement(n.p,null,"https://www.getzola.org/documentation/getting-started/configuration/"),"\n",a.createElement(n.h1,null,"Tera テンプレート"),"\n",a.createElement(n.p,null,"https://tera.netlify.app/docs"),"\n",a.createElement(n.h2,null,"extends"),"\n",a.createElement(n.p,null,"別ファイルを部分的に override する\nhttps://tera.netlify.app/docs/#inheritance"),"\n",a.createElement(n.h2,null,"include"),"\n",a.createElement(n.p,null,"別ファイルの部品を読み込む\nhttps://tera.netlify.app/docs/#include"),"\n",a.createElement(n.h2,null,"date format"),"\n",a.createElement(n.p,null,"https://tera.netlify.app/docs/#include"),"\n",a.createElement(n.h1,null,"とりあえずメンテナンス中・・・"),"\n",a.createElement(n.p,null,"hugo に比べて template の構成がシンプルでわかりやすいような気がする\n(hugo に慣れているせいかもしれない)。\nそもそも hugo の時点でちゃんと管理してなかったので、\nぼちぼち続きをやる。"))}var r=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(c,e)):c(e)};t(8678);function u(e){let{data:n,children:t}=e;return a.createElement(a.Fragment,null,a.createElement("h1",null,n.mdx.frontmatter.title),a.createElement(l.Zo,null,t))}function o(e){return a.createElement(u,e,a.createElement(r,e))}},8678:function(e,n,t){t(7294)},1151:function(e,n,t){t.d(n,{Zo:function(){return u},ah:function(){return c}});var l=t(7294);const a=l.createContext({});function c(e){const n=l.useContext(a);return l.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const r={};function u({components:e,children:n,disableParentContext:t}){let u;return u=t?"function"==typeof e?e({}):e||r:c(e),l.createElement(a.Provider,{value:u},n)}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2021-init-zola-md-496e76dd16d522ae1a5f.js.map