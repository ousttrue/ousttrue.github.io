"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8048],{6305:function(e,n,l){l.r(n);var t=l(1151),o=l(7294);function a(e){const n=Object.assign({p:"p",code:"code",h2:"h2",pre:"pre"},(0,t.ah)(),e.components);return o.createElement(o.Fragment,null,o.createElement(n.p,null,"python でちょっとしたツールを書くときに便利。\n",o.createElement(n.code,null,"make")," みたいにタスクを定義して、コマンドラインから実行する。\ntask として定義した関数の引数に応じてコマンドライン引数をさばけるので ",o.createElement(n.code,null,"argparse")," せずにすませることができる。"),"\n",o.createElement(n.h2,null,"install"),"\n",o.createElement(n.pre,null,o.createElement(n.code,null,"$ pip install invoke\n")),"\n",o.createElement(n.h2,null,"tasks.py"),"\n",o.createElement(n.pre,null,o.createElement(n.code,{className:"language-python"},"from invoke import task\n\n@task\ndef hello(c, who=\"hoge\"):\n    '''\n    hello task\n    '''\n    print(f'hello {hoge}')\n\n\n@task(hello)\ndef ver(c):\n    '''\n    version\n    '''\n    print(sys.version)\n")),"\n",o.createElement(n.p,null,"使う"),"\n",o.createElement(n.pre,null,o.createElement(n.code,null,"$ invoke -l           \nAvailable tasks:\n\n  hello   hello task\n  ver     version\n\n$ invoke hello --help\nUsage: inv[oke] [--core-opts] hello [--options] [other tasks here ...]\n\nDocstring:\n  hello task\n\nOptions:\n  -w STRING, --who=STRING\n\n$ invoke hello fuga  \nNo idea what 'fuga' is!\n$ invoke hello -w fuga\nhello fuga\n$ invoke ver\nhello hoge\n3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)]\n")),"\n",o.createElement(n.h2,null,"vscode でデバッグ"),"\n",o.createElement(n.p,null,"module に ",o.createElement(n.code,null,"invoke")," を設定してやる"),"\n",o.createElement(n.pre,null,o.createElement(n.code,{className:"language-json"},'        {\n            "name": "task",\n            "type": "python",\n            "request": "launch",\n            "module": "invoke",\n            "args": [\n                "hello"\n            ],\n            "console": "integratedTerminal"\n        }\n')))}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?o.createElement(n,e,o.createElement(a,e)):a(e)}},1151:function(e,n,l){l.d(n,{ah:function(){return a}});var t=l(7294);const o=t.createContext({});function a(e){const n=t.useContext(o);return t.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);
//# sourceMappingURL=component---content-posts-2021-invoke-md-2aee154dcce3186a349b.js.map