"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4632],{2318:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var l=n(1151),a=n(7294);function s(e){const t=Object.assign({p:"p",span:"span",h1:"h1",ul:"ul",li:"li",a:"a",h2:"h2",del:"del",h3:"h3"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(t.p,null,"PCを新調したので ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Windows11</code>'}})," にアップグレードして wslg を試してみた。"),"\n",a.createElement(t.h1,null,"その前に"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://news.mynavi.jp/article/win11tips-6/"},"Windows 10と同じコンテキストメニューを使う")),"\n"),"\n",a.createElement(t.h1,null,"WSLg"),"\n",a.createElement(t.h2,null,"WSLg とは"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://github.com/microsoft/wslg"},"https://github.com/microsoft/wslg")),"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://docs.microsoft.com/en-us/windows/wsl/tutorials/gui-apps"},"https://docs.microsoft.com/en-us/windows/wsl/tutorials/gui-apps")),"\n",a.createElement(t.li,null,"(2021.10) ",a.createElement(t.a,{href:"https://devblogs.microsoft.com/commandline/a-preview-of-wsl-in-the-microsoft-store-is-now-available/"},"https://devblogs.microsoft.com/commandline/a-preview-of-wsl-in-the-microsoft-store-is-now-available/")),"\n",a.createElement(t.li,null,"(2021.04) ",a.createElement(t.a,{href:"https://devblogs.microsoft.com/commandline/the-initial-preview-of-gui-app-support-is-now-available-for-the-windows-subsystem-for-linux-2/"},"https://devblogs.microsoft.com/commandline/the-initial-preview-of-gui-app-support-is-now-available-for-the-windows-subsystem-for-linux-2/")),"\n",a.createElement(t.li,null,"(2020) ",a.createElement(t.a,{href:"https://www.phoronix.com/scan.php?page=news_item&px=Microsoft-Writing-Wayland-Comp"},"Microsoft Is Writing Its Own Wayland Compositor As Part Of WSL2 GUI Efforts")),"\n"),"\n",a.createElement(t.p,null,"ビジュアルは ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Wayland</code>'}})," 、音声は ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">PulseAudio</code>'}})," で WSLg 仮想マシンに転送することで、\nLinux の GUI アプリを使えるようにする仕組み。"),"\n",a.createElement(t.h2,null,"Windows11 で試す"),"\n",a.createElement(t.p,null,"Windows11 では、 ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Windows Insider Program</code>'}})," にせずとも使える。"),"\n",a.createElement(t.p,null,a.createElement(t.del,null,a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Ubuntu-CommPrev</code>'}})," をインストールすると ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">wslg</code>'}})," できる。"),"\nWSLで ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/mnt/wslg</code>'}})," が存在していれば動作する状態になっている。\nDistribution による特別な設定は不要？"),"\n",a.createElement(t.p,null,a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Ubuntu-CommPrev</code>'}})," の方が ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">GPU driver</code>'}})," が新しいなど違いあり。"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"\n",a.createElement(t.p,null,"(2021)",a.createElement(t.a,{href:"https://kledgeb.blogspot.com/2021/04/wsl-222-linux-guiwslg.html"},"WSL その222 - Linux GUIアプリを動かすWSLgのアーキテクチャーと仕組み")),"\n"),"\n",a.createElement(t.li,null,"\n",a.createElement(t.p,null,a.createElement(t.a,{href:"https://github.com/microsoft/wslg/discussions/78"},"https://github.com/microsoft/wslg/discussions/78")),"\n"),"\n"),"\n",a.createElement(t.p,null,a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">glxinfo -B</code>'}})),"\n",a.createElement(t.h1,null,"X"),"\n",a.createElement(t.p,null,"特に何も設定しなくても ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">xterm</code>'}})," とか ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">gvim</code>'}})," などの X11 のアプリは動作する。"),"\n",a.createElement(t.h2,null,"101キーボード"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://www.eisbahn.jp/yoichiro/2021/06/wslg.html"},"Windows 10 HomeでWSLgをさっそく試してみた")),"\n"),"\n",a.createElement(t.p,null,a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">setxkbmap -layout us</code>'}})," でなおった。\nなおらないアプリもある。"),"\n",a.createElement(t.h1,null,"PluseAudio"),"\n",a.createElement(t.h2,null,"mpd から pluse audio に出力してみる"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://mpcbridge.fourthgate.jp/other/mpd_on_ubuntu"},"https://mpcbridge.fourthgate.jp/other/mpd_on_ubuntu")),"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://github.com/microsoft/wslg/issues/306"},"https://github.com/microsoft/wslg/issues/306")),"\n"),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">echo $PULSE_SERVER\n/mnt/wslg/PulseServer</code></pre></div>'}}),"\n",a.createElement(t.p,null,"環境変数 ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">$PULSE_SERVER</code>'}})," にファイルパスが入っているときは ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">unix socket</code>'}})," を使うという意味。"),"\n",a.createElement(t.p,null,a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/mpd.conf</code>'}})),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">audio_output {\n       type     "pulse"\n       name     "My PULSE Device"\n       server   "/mnt/wslg/PulseServer" # $PULSE_SERVER\n}</code></pre></div>'}}),"\n",a.createElement(t.p,null,"という設定になる。",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">TCP</code>'}})," 経由ではなく ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">UNIX SOCKET</code>'}})," 経由なのに注意。"),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1</code></pre></div>'}}),"\n",a.createElement(t.p,null,"は使われない。"),"\n",a.createElement(t.h3,null,"mpd client"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://www.microsoft.com/ja-jp/p/mpdctrl/9nv2bbj82brx"},"https://www.microsoft.com/ja-jp/p/mpdctrl/9nv2bbj82brx")),"\n"))}var c=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.ah)(),e.components);return t?a.createElement(t,e,a.createElement(s,e)):s(e)},r=n(8678),o=n(1883),m=n(8838);const u={code:e=>{let{children:t,className:n}=e;return n?a.createElement(m.Z,{className:n},t):a.createElement("code",null,t)}};function i(e){let{data:t,children:n}=e;const s=t.mdx.frontmatter;return a.createElement(r.Z,null,a.createElement("h1",null,s.title),a.createElement("div",{className:"tags-index"},s.tags&&s.tags.length>0&&s.tags.map((e=>a.createElement(o.rU,{to:"/tags/"+e+"/",itemProp:"url"},a.createElement("button",null,e))))),a.createElement(l.Zo,{components:u},n))}function g(e){return a.createElement(i,e,a.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2021-fall-wslg-on-windows-11-md-1939fdab2f71cd68646e.js.map