"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7349],{6608:function(e,n,l){l.r(n);var t=l(1151),c=l(7294);function m(e){const n=Object.assign({p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3"},(0,t.ah)(),e.components);return c.createElement(c.Fragment,null,c.createElement(n.p,null,"phthon2は使わないのでスルーで。"),"\n",c.createElement(n.h2,null,"vim組み込み"),"\n",c.createElement(n.pre,null,c.createElement(n.code,{className:"language-python"},"import vim\n")),"\n",c.createElement(n.h3,null,c.createElement(n.code,null,"PLUGIN_ROOT/python3")," パス"),"\n",c.createElement(n.p,null,"モジュールとして自動で ",c.createElement(n.code,null,"import")," されるぽい。\nリロードは？\n開発不便なのでは。"),"\n",c.createElement(n.h3,null,"py3file コマンド"),"\n",c.createElement(n.p,null,c.createElement(n.code,null,"so%")," などを経由してリロードできる。"),"\n",c.createElement(n.h3,null,"py3 コマンド"),"\n",c.createElement(n.p,null,"インポート済みの関数呼び出しなど短い処理にとどめた方がよいと思う。"),"\n",c.createElement(n.h2,null,"リモートプラグイン"),"\n",c.createElement(n.p,null,c.createElement(n.code,null,"nvim")," の機能で ",c.createElement(n.code,null,"msgpack-rpc")," を通した別プロセスでの実行。"),"\n",c.createElement(n.p,null,"vim8 への移植版。 https://github.com/roxma/nvim-yarp"),"\n",c.createElement(n.h3,null,c.createElement(n.code,null,"PLUGIN_ROOT/rplugin/python3")),"\n",c.createElement(n.pre,null,c.createElement(n.code,{className:"language-python"},"import neovim # msgpack-rpc で vim と通信する\n\n\n@neovim.plugin\nclass RemotePlugin:\n\n    def __init__(self, nvim):\n        self.nvim = nvim\n\n    @neovim.command('HogeCommand') # vimのコマンドとして実行可能になる\n    def hogee(self):\n        pass\n")),"\n",c.createElement(n.h2,null,"比べてみると"),"\n",c.createElement(n.p,null,c.createElement(n.code,null,"vim")," もしくは ",c.createElement(n.code,null,"neovim")," とやり取りする部分は、単体実行ができないような。\nなるほど。"),"\n",c.createElement(n.pre,null,c.createElement(n.code,null,"GUIやVIM\n+--------+     これを単体で開発する\n|vim     |     +--------------+\n|もしくは|----\x3e|使うモジュール|\n|neovim  |     +--------------+\n|をimport|\n+--------+\n")),"\n",c.createElement(n.h2,null,"リモートプラグイン(GUI)"),"\n",c.createElement(n.p,null,"これは、",c.createElement(n.code,null,"msgpack-rpc")," を使うのだけど ",c.createElement(n.code,null,"GUI")," から ",c.createElement(n.code,null,"nvim")," を特定の作法で起動して ",c.createElement(n.code,null,"GUIイベントを受け取る")," というものでちょっと違う。"))}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?c.createElement(n,e,c.createElement(m,e)):m(e)}},1151:function(e,n,l){l.d(n,{ah:function(){return m}});var t=l(7294);const c=t.createContext({});function m(e){const n=t.useContext(c);return t.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);
//# sourceMappingURL=component---content-posts-2019-vim-python-md-cab29244792cc183accd.js.map