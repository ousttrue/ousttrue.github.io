"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4632],{2318:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var l=t(1151),a=t(7294);function s(e){const n=Object.assign({p:"p",span:"span",h1:"h1",ul:"ul",li:"li",a:"a",h2:"h2",h3:"h3"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"PCを新調したので ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Windows11</code>'}})," にアップグレードして wslg を試してみた。"),"\n",a.createElement(n.h1,null,"その前に"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,a.createElement(n.a,{href:"https://news.mynavi.jp/article/win11tips-6/"},"Windows 10と同じコンテキストメニューを使う")),"\n"),"\n",a.createElement(n.h1,null,"WSLg"),"\n",a.createElement(n.h2,null,"WSLg とは"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://github.com/microsoft/wslg"),"\n",a.createElement(n.li,null,"https://docs.microsoft.com/en-us/windows/wsl/tutorials/gui-apps"),"\n",a.createElement(n.li,null,"(2021.10) https://devblogs.microsoft.com/commandline/a-preview-of-wsl-in-the-microsoft-store-is-now-available/"),"\n",a.createElement(n.li,null,"(2021.04) https://devblogs.microsoft.com/commandline/the-initial-preview-of-gui-app-support-is-now-available-for-the-windows-subsystem-for-linux-2/"),"\n",a.createElement(n.li,null,"(2020) ",a.createElement(n.a,{href:"https://www.phoronix.com/scan.php?page=news_item&px=Microsoft-Writing-Wayland-Comp"},"Microsoft Is Writing Its Own Wayland Compositor As Part Of WSL2 GUI Efforts")),"\n"),"\n",a.createElement(n.p,null,"ビジュアルは ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Wayland</code>'}})," 、音声は ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">PulseAudio</code>'}})," で WSLg 仮想マシンに転送することで、\nLinux の GUI アプリを使えるようにする仕組み。"),"\n",a.createElement(n.h2,null,"Windows11 で試す"),"\n",a.createElement(n.p,null,"Windows11 では、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Windows Insider Program</code>'}})," にせずとも使える。"),"\n",a.createElement(n.p,null,"~~",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Ubuntu-CommPrev</code>'}})," をインストールすると ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">wslg</code>'}})," できる。~~\nWSLで ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/mnt/wslg</code>'}})," が存在していれば動作する状態になっている。\nDistribution による特別な設定は不要？"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Ubuntu-CommPrev</code>'}})," の方が ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">GPU driver</code>'}})," が新しいなど違いあり。"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"\n",a.createElement(n.p,null,"(2021)",a.createElement(n.a,{href:"https://kledgeb.blogspot.com/2021/04/wsl-222-linux-guiwslg.html"},"WSL その222 - Linux GUIアプリを動かすWSLgのアーキテクチャーと仕組み")),"\n"),"\n",a.createElement(n.li,null,"\n",a.createElement(n.p,null,"https://github.com/microsoft/wslg/discussions/78"),"\n"),"\n"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">glxinfo -B</code>'}})),"\n",a.createElement(n.h1,null,"X"),"\n",a.createElement(n.p,null,"特に何も設定しなくても ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">xterm</code>'}})," とか ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">gvim</code>'}})," などの X11 のアプリは動作する。"),"\n",a.createElement(n.h2,null,"101キーボード"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,a.createElement(n.a,{href:"https://www.eisbahn.jp/yoichiro/2021/06/wslg.html"},"Windows 10 HomeでWSLgをさっそく試してみた")),"\n"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">setxkbmap -layout us</code>'}})," でなおった。\nなおらないアプリもある。"),"\n",a.createElement(n.h1,null,"PluseAudio"),"\n",a.createElement(n.h2,null,"mpd から pluse audio に出力してみる"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://mpcbridge.fourthgate.jp/other/mpd_on_ubuntu"),"\n",a.createElement(n.li,null,"https://github.com/microsoft/wslg/issues/306"),"\n"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">echo $PULSE_SERVER\n/mnt/wslg/PulseServer</code></pre></div>'}}),"\n",a.createElement(n.p,null,"環境変数 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">$PULSE_SERVER</code>'}})," にファイルパスが入っているときは ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">unix socket</code>'}})," を使うという意味。"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/mpd.conf</code>'}})),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">audio_output {\n       type     "pulse"\n       name     "My PULSE Device"\n       server   "/mnt/wslg/PulseServer" # $PULSE_SERVER\n}</code></pre></div>'}}),"\n",a.createElement(n.p,null,"という設定になる。",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">TCP</code>'}})," 経由ではなく ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">UNIX SOCKET</code>'}})," 経由なのに注意。"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1</code></pre></div>'}}),"\n",a.createElement(n.p,null,"は使われない。"),"\n",a.createElement(n.h3,null,"mpd client"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://www.microsoft.com/ja-jp/p/mpdctrl/9nv2bbj82brx"),"\n"))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(s,e)):s(e)},r=t(8678),o=t(8838);const u={code:e=>{let{children:n,className:t}=e;return t?a.createElement(o.Z,{className:t},n):a.createElement("code",null,n)}};function m(e){let{data:n,children:t}=e;return a.createElement(r.Z,null,a.createElement("h1",null,n.mdx.frontmatter.title),a.createElement(l.Zo,{components:u},t))}function g(e){return a.createElement(m,e,a.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2021-fall-wslg-on-windows-11-md-15b3a6022ee8aa5d23ed.js.map