"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9750],{4866:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var l=n(1151),a=n(7294);function s(e){const t=Object.assign({p:"p",a:"a",h1:"h1",span:"span",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",h2:"h2",ul:"ul",li:"li"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(t.p,null,a.createElement(t.a,{href:"https://www.lua.org/docs.html"},"https://www.lua.org/docs.html")),"\n",a.createElement(t.h1,null,"Interpreter"),"\n",a.createElement(t.p,null,"とりあえず ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">luajit-2.1.0-beta3</code>'}})," 推し。"),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">+---+    +---+    +---+    +---+\n|5.1| -> |5.2| -> |5.3| -> |5.4|\n+---+    +---+    +---+    +---+\n  |        |        |\n  |        |        +- ravi\n  |        |\n  |        +- moonsharp\n  |\n  +- luajit(5.1 base)\n  |   +- moonjit\n  +- luau(5.1 base)</code></pre></div>'}}),"\n",a.createElement(t.p,null,a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">lua-5.1</code>'}})," をベースに分岐したものが多い？"),"\n",a.createElement(t.p,null,a.createElement(t.a,{href:"https://www.lua.org/versions.html"},"https://www.lua.org/versions.html")),"\n",a.createElement(t.table,null,a.createElement(t.thead,null,a.createElement(t.tr,null,a.createElement(t.th),a.createElement(t.th,null,"url"),a.createElement(t.th,null,"memo"))),a.createElement(t.tbody,null,a.createElement(t.tr,null,a.createElement(t.td,null,"Lua5.1"),a.createElement(t.td),a.createElement(t.td,null,"2012。これより古いものを使う理由は無さそう。")),a.createElement(t.tr,null,a.createElement(t.td,null,"Lu15.2"),a.createElement(t.td,null,a.createElement(t.a,{href:"https://www.lua.org/manual/5.2/readme.html#changes"},"since Lua5.1")),a.createElement(t.td,null,"2015。finalizer. 関数の ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">_ENV</code>'}})," 仕様変更")),a.createElement(t.tr,null,a.createElement(t.td,null,"Lua5.3"),a.createElement(t.td,null,a.createElement(t.a,{href:"https://www.lua.org/manual/5.3/readme.html#changes"},"since Lua5.2")),a.createElement(t.td,null,"2020。integers")),a.createElement(t.tr,null,a.createElement(t.td,null,"Lua5.4"),a.createElement(t.td,null,a.createElement(t.a,{href:"https://www.lua.org/manual/5.4/readme.html#changes"},"since Lua5.3")),a.createElement(t.td,null,"2021。const, to-be-closed")),a.createElement(t.tr,null,a.createElement(t.td,null,"LuaJIT"),a.createElement(t.td,null,a.createElement(t.a,{href:"https://luajit.org/"},"https://luajit.org/")),a.createElement(t.td,null,"Lua5.1base。最終版は ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2.1.0-beta3</code>'}}),"。neovimもこれ。",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">FFI</code>'}})," も強力。")),a.createElement(t.tr,null,a.createElement(t.td,null,"Luau"),a.createElement(t.td,null,a.createElement(t.a,{href:"https://luau-lang.org/"},"https://luau-lang.org/")),a.createElement(t.td,null,"Lua5.1 の superset。Roblox専用。オープンソースではない。")),a.createElement(t.tr,null,a.createElement(t.td,null,"Ravi"),a.createElement(t.td,null,a.createElement(t.a,{href:"http://ravilang.github.io/"},"http://ravilang.github.io/")),a.createElement(t.td,null,"Lua5.3base？。limited optional static typing and MIR based JIT compiler")))),"\n",a.createElement(t.h2,null,"変わり種"),"\n",a.createElement(t.p,null,a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">headeronly</code>'}}),". include するだけで使える。"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://github.com/edubart/minilua"},"https://github.com/edubart/minilua")),"\n"),"\n",a.createElement(t.p,null,"LUA に更に埋め込む"),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://terralang.org/"},"https://terralang.org/")),"\n"),"\n",a.createElement(t.h1,null,"Translator"),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://moonscript.org/"},"MoonScript")),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://typescripttolua.github.io/"},"TypescriptToLua")),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"後で出てくる、",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">local-lua-debugger</code>'}})," はこれで実装されているぽい。"),"\n"),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://ifritjp.github.io/documents/lunescript/"},"LuneScript/")),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://github.com/teal-language/tl"},"Teal")),"\n",a.createElement(t.h1,null,"Language server"),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://github.com/EmmyLua/EmmyLua-LanguageServer"},"EmmyLua")),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"Java製"),"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"https://emmylua.github.io/annotation.html"},"EmmyLua Annotation")," に対応。これにより、組み込み型のインテリセンスを動作させることができて使い勝手が向上する"),"\n"),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://github.com/sumneko/lua-language-server"},"lua-language-server")),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"⭐ ",a.createElement(t.a,{href:"https://emmylua.github.io/annotation.html"},"EmmyLua Annotation")," に対応。これにより、組み込み型のインテリセンスを動作させることができて使い勝手が向上する"),"\n"),"\n",a.createElement(t.p,null,"設定例"),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json">    <span class="token property">"Lua.runtime.version"</span><span class="token operator">:</span> <span class="token string">"LuaJIT"</span><span class="token punctuation">,</span>\n    <span class="token property">"Lua.workspace.preloadFileSize"</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>\n    <span class="token property">"Lua.runtime.path"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">"?.lua"</span><span class="token punctuation">,</span>\n        <span class="token string">"?/init.lua"</span><span class="token punctuation">,</span>\n        <span class="token string">"?/?.lua"</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></div>'}}),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://github.com/Alloyed/lua-lsp"},"lua-lsp")),"\n",a.createElement(t.h1,null,"Debug adapter"),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://github.com/tomblind/local-lua-debugger-vscode"},"local-lua-debugger-vscode")),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"Debugされるスクリプト側に仕込み不要"),"\n",a.createElement(t.li,null,"⭐ luajit 対応"),"\n",a.createElement(t.li,null,"__tostring でエラーが発生すると固まるので、__tostring の実装で例外が起きないように注意"),"\n",a.createElement(t.li,null,"起動時の引数に ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">\\\\</code>'}})," が含まれているとエラーになる => ",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">0.2.2</code>'}})," で修正"),"\n"),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://github.com/actboy168/lua-debug"},"lua-debug")),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"Debugされるスクリプト側に仕込み不要"),"\n",a.createElement(t.li,null,"hook が拡張してある。途中で止めたりとかできるぽい"),"\n",a.createElement(t.li,null,"残念ながら luajit では動作しない"),"\n"),"\n",a.createElement(t.h1,null,"Formatter"),"\n",a.createElement(t.h2,null,a.createElement(t.a,{href:"https://github.com/johnnymorganz/stylua"},"stylua")),"\n",a.createElement(t.ul,null,"\n",a.createElement(t.li,null,"⭐ rust 製でインストールしやすい"),"\n"),"\n",a.createElement(t.p,null,"stylua.toml"),"\n",a.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="toml"><pre class="language-toml"><code class="language-toml"><span class="token key property">column_width</span> <span class="token punctuation">=</span> <span class="token number">120</span>\n<span class="token key property">line_endings</span> <span class="token punctuation">=</span> <span class="token string">"Unix"</span>\n<span class="token key property">indent_type</span> <span class="token punctuation">=</span> <span class="token string">"Spaces"</span>\n<span class="token key property">indent_width</span> <span class="token punctuation">=</span> <span class="token number">4</span>\n<span class="token key property">quote_style</span> <span class="token punctuation">=</span> <span class="token string">"AutoPreferDouble"</span>\n<span class="token key property">no_call_parentheses</span> <span class="token punctuation">=</span> <span class="token boolean">true</span></code></pre></div>'}}),"\n",a.createElement(t.h1,null,"ソース読み"),"\n",a.createElement(t.p,null,a.createElement(t.a,{href:"https://ousttrue.github.io/lua/"},"https://ousttrue.github.io/lua/")))}var r=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.ah)(),e.components);return t?a.createElement(t,e,a.createElement(s,e)):s(e)},u=n(8678),c=n(1883),o=n(8838);const m={code:e=>{let{children:t,className:n}=e;return n?a.createElement(o.Z,{className:n},t):a.createElement("code",null,t)}};function p(e){let{data:t,children:n}=e;const s=t.mdx.frontmatter;return a.createElement(u.Z,null,a.createElement("h1",null,s.title),a.createElement("div",{className:"tags-index"},s.tags&&s.tags.length>0&&s.tags.map((e=>a.createElement(c.rU,{to:"/tags/"+e+"/",itemProp:"url"},a.createElement("button",null,e))))),a.createElement(l.Zo,{components:m},n))}function h(e){return a.createElement(p,e,a.createElement(r,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2021-lua-info-md-ebddf7ab95d7802fdc68.js.map