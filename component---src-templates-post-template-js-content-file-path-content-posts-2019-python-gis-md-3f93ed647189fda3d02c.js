"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8718],{1040:function(e,l,t){t.r(l),t.d(l,{default:function(){return u}});var n=t(1151),a=t(7294);function c(e){const l=Object.assign({p:"p",h2:"h2",span:"span",code:"code",ul:"ul",li:"li",h3:"h3"},(0,n.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(l.p,null,"Windows10。"),"\n",a.createElement(l.h2,null,"vcpkgでCの関連ライブラリをインストール"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ vcpkg install --triplet x64-windows geos gdal</code></pre></div>'}}),"\n",a.createElement(l.p,null,"30分くらいかかった。"),"\n",a.createElement(l.p,null,"環境変数、 ",a.createElement(l.code,null,"GDAL_DATA")," に ",a.createElement(l.code,null,"%VCPKG_DIR%\\installed\\x64-windows\\share\\gdal")," ビルド先のフォルダを指定する。"),"\n",a.createElement(l.h2,null,"GDAL"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"https://gdal.org/"),"\n"),"\n",a.createElement(l.h3,null,"python"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"https://pypi.org/project/GDAL/"),"\n"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ pip install gdal\nfatal error C1083: Cannot open include file: \'cpl_port.h\': No such file or directory</code></pre></div>'}}),"\n",a.createElement(l.p,null,"事前にVCPKGでビルドしてある。 ",a.createElement(l.code,null,"INLUCDE")," を指し示す。"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ pip install --global-option=build_ext --global-option="-IC:\\vcpkg\\installed\\x64-windows\\include" gdal\n\'GDALGetSpatialRef\': identifier not found</code></pre></div>'}}),"\n",a.createElement(l.p,null,"バージョンをCのGDALに合わせる。vcpkg でインストールしたのは ",a.createElement(l.code,null,"2.4.1")," だった。\ngdalの ",a.createElement(l.code,null,"2.4.1")," は欠番みたいなので、 ",a.createElement(l.code,null,"2.4.2")," にしてみた。"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ pip install --global-option=build_ext --global-option="-IC:\\vcpkg\\installed\\x64-windows\\include" --global-option="-LC:\\vcpkg\\installed\\x64-windows\\lib" \'gdal==2.4.2\'\nLINK : fatal error LNK1181: cannot open input file \'gdal_i.lib\'</code></pre></div>'}}),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"gdal_i.lib")," inline の static library かな？\n探したら、 ",a.createElement(l.code,null,"vcpkg")," のビルドフォルダにあったので lib にコピーする。"),"\n",a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ copy C:\\vcpkg\\buildtrees\\gdal\\src-x64-windows-release\\gdal-2.4.1\\gdal_i.lib C:\\vcpkg\\installed\\x64-windows\\lib\\\n$ pip install --global-option=build_ext --global-option="-IC:\\vcpkg\\installed\\x64-windows\\include" --global-option="-LC:\\vcpkg\\installed\\x64-windows\\lib" \'gdal==2.4.2\'\nSuccessfully installed gdal-2.4.2</code></pre></div>'}}),"\n",a.createElement(l.p,null,"OK"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"https://www.gis-py.com/entry/py-gdal"),"\n",a.createElement(l.li,null,"https://pcjericks.github.io/py-gdalogr-cookbook/index.html"),"\n"))}var i=function(e){void 0===e&&(e={});const{wrapper:l}=Object.assign({},(0,n.ah)(),e.components);return l?a.createElement(l,e,a.createElement(c,e)):c(e)},r=t(8678),s=t(4160),o=t(8736);const g={code:e=>{let{children:l,className:t}=e;return t?a.createElement(o.Z,{className:t},l):a.createElement("code",null,l)}};function d(e){let{data:l,children:t}=e;const c=l.mdx.frontmatter;return a.createElement(r.Z,null,a.createElement("h1",null,c.title),a.createElement("div",{className:"tags-index"},c.tags&&c.tags.length>0&&c.tags.map((e=>a.createElement(s.rU,{to:"/tags/"+e+"/",itemProp:"url"},a.createElement("button",null,e))))),a.createElement(n.Zo,{components:g},t))}function u(e){return a.createElement(d,e,a.createElement(i,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-content-posts-2019-python-gis-md-3f93ed647189fda3d02c.js.map