"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4630],{100:function(n,t,o){o.r(t);var e=o(1151),s=o(7294);function a(n){const t=Object.assign({pre:"pre",code:"code"},(0,e.ah)(),n.components);return s.createElement(t.pre,null,s.createElement(t.code,null,"Windows上のCMakeでFIND_PACKAGE(Boost)する件について。\n\nBoost.Pythonのビルド\nC:/boost_1_61_0に解凍して、b2 --with-pythonしたとする。\nのようなディレクトリ構成。\nC:/boost_1_61_0\n    stage\n        lib\n            boost_python.lib\n\nFIND_PACKAGE\nBOOST.Pythonを使う場合は下記の記述をして、-DBOOST_ROOT=C:/boost_1_61_0を指定してやるとcmakeはBoost.Pythonを見つけることができる。\nただし、検索パスが${BOOST_ROOT}/stage/lib決め打ち。\nFIND_PACKAGE (Boost COMPONENTS PYTHON REQUIRED)\nMESSAGE(STATUS ${Boost_LIBRARIES})\n\n見つかった\noptimizedD:/lib/boost_1_61_0/stage/lib/boost_python-vc140-mt-1_61.libdebugD:/lib/boost_1_61_0/stage/lib/boost_python-vc140-mt-gd-1_61.lib\n\nPython3は？\nFIND_PACKAGE (Boost COMPONENTS python3 REQUIRED)\nMESSAGE(STATUS ${Boost_LIBRARIES})\n\nでいける。\nしかし、警告が出た。\nCMake Warning at D:/Program Files/CMake/share/cmake-3.9/Modules/FindBoost.cmake:1564 (message):\n  No header defined for python3; skipping header check\nCall Stack (most recent call first):\n  CMakeLists.txt:42 (FIND_PACKAGE)\n\n3がついてなくても同じだった\nstage/libに出力されているboost_python3.dllとboost_python.dllは同じバイナリぽい。\nstatic, sharedの呼び分けは？\n後で。\nFindBoost\n\nhttps://cmake.org/cmake/help/latest/module/FindBoost.html\n\nしかし\nFIND_PACKAGEした結果のBoost_LIBRARIESを使うのには注意が必要。\nネイティブモジュール開発で、デバッグ版にRelease版のPythonをリンクする場合(通常そうする)に、Boost.PytnonもRelease版にリンクするべきなのでここではまりうる(コンパイルは通るが実行時に謎エラーが出る)。LINK_DIRECTORIESを使って、リンク対象はBOOSTのautolink頼りの方が確実かもしれない。\n\nBOOST_ALL_NO_LIB を定義して Boost_LIBRARIESにリンクする\nBoost_LIBRARIESを使わずに、BoostのAutoLinkに従う\n\nのいずれかになるが、ネイティブモジュール開発では後者がおすすめか。\n"))}t.default=function(n){void 0===n&&(n={});const{wrapper:t}=Object.assign({},(0,e.ah)(),n.components);return t?s.createElement(t,n,s.createElement(a,n)):a(n)}},1151:function(n,t,o){o.d(t,{ah:function(){return a}});var e=o(7294);const s=e.createContext({});function a(n){const t=e.useContext(s);return e.useMemo((()=>"function"==typeof n?n(t):{...t,...n}),[t,n])}}}]);
//# sourceMappingURL=component---content-posts-2017-08-cmake-find-boost-python-md-d29b1d7d4fd68cad3990.js.map