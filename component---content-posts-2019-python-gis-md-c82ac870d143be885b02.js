"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4858],{7027:function(e,l,n){n.r(l);var t=n(1151),c=n(7294);function a(e){const l=Object.assign({p:"p",h2:"h2",pre:"pre",code:"code",ul:"ul",li:"li",h3:"h3"},(0,t.ah)(),e.components);return c.createElement(c.Fragment,null,c.createElement(l.p,null,"Windows10。"),"\n",c.createElement(l.h2,null,"vcpkgでCの関連ライブラリをインストール"),"\n",c.createElement(l.pre,null,c.createElement(l.code,null,"$ vcpkg install --triplet x64-windows geos gdal\n")),"\n",c.createElement(l.p,null,"30分くらいかかった。"),"\n",c.createElement(l.p,null,"環境変数、 ",c.createElement(l.code,null,"GDAL_DATA")," に ",c.createElement(l.code,null,"%VCPKG_DIR%\\installed\\x64-windows\\share\\gdal")," ビルド先のフォルダを指定する。"),"\n",c.createElement(l.h2,null,"GDAL"),"\n",c.createElement(l.ul,null,"\n",c.createElement(l.li,null,"https://gdal.org/"),"\n"),"\n",c.createElement(l.h3,null,"python"),"\n",c.createElement(l.ul,null,"\n",c.createElement(l.li,null,"https://pypi.org/project/GDAL/"),"\n"),"\n",c.createElement(l.pre,null,c.createElement(l.code,null,"$ pip install gdal\nfatal error C1083: Cannot open include file: 'cpl_port.h': No such file or directory\n")),"\n",c.createElement(l.p,null,"事前にVCPKGでビルドしてある。 ",c.createElement(l.code,null,"INLUCDE")," を指し示す。"),"\n",c.createElement(l.pre,null,c.createElement(l.code,null,"$ pip install --global-option=build_ext --global-option=\"-IC:\\vcpkg\\installed\\x64-windows\\include\" gdal\n'GDALGetSpatialRef': identifier not found\n")),"\n",c.createElement(l.p,null,"バージョンをCのGDALに合わせる。vcpkg でインストールしたのは ",c.createElement(l.code,null,"2.4.1")," だった。\ngdalの ",c.createElement(l.code,null,"2.4.1")," は欠番みたいなので、 ",c.createElement(l.code,null,"2.4.2")," にしてみた。"),"\n",c.createElement(l.pre,null,c.createElement(l.code,null,"$ pip install --global-option=build_ext --global-option=\"-IC:\\vcpkg\\installed\\x64-windows\\include\" --global-option=\"-LC:\\vcpkg\\installed\\x64-windows\\lib\" 'gdal==2.4.2'\nLINK : fatal error LNK1181: cannot open input file 'gdal_i.lib'\n")),"\n",c.createElement(l.p,null,c.createElement(l.code,null,"gdal_i.lib")," inline の static library かな？\n探したら、 ",c.createElement(l.code,null,"vcpkg")," のビルドフォルダにあったので lib にコピーする。"),"\n",c.createElement(l.pre,null,c.createElement(l.code,null,'$ copy C:\\vcpkg\\buildtrees\\gdal\\src-x64-windows-release\\gdal-2.4.1\\gdal_i.lib C:\\vcpkg\\installed\\x64-windows\\lib\\\n$ pip install --global-option=build_ext --global-option="-IC:\\vcpkg\\installed\\x64-windows\\include" --global-option="-LC:\\vcpkg\\installed\\x64-windows\\lib" \'gdal==2.4.2\'\nSuccessfully installed gdal-2.4.2\n')),"\n",c.createElement(l.p,null,"OK"),"\n",c.createElement(l.ul,null,"\n",c.createElement(l.li,null,"https://www.gis-py.com/entry/py-gdal"),"\n",c.createElement(l.li,null,"https://pcjericks.github.io/py-gdalogr-cookbook/index.html"),"\n"))}l.default=function(e){void 0===e&&(e={});const{wrapper:l}=Object.assign({},(0,t.ah)(),e.components);return l?c.createElement(l,e,c.createElement(a,e)):a(e)}},1151:function(e,l,n){n.d(l,{ah:function(){return a}});var t=n(7294);const c=t.createContext({});function a(e){const l=t.useContext(c);return t.useMemo((()=>"function"==typeof e?e(l):{...l,...e}),[l,e])}}}]);
//# sourceMappingURL=component---content-posts-2019-python-gis-md-c82ac870d143be885b02.js.map