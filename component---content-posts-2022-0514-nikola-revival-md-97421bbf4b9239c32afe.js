"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2642],{9124:function(e,n,t){t.r(n);var l=t(1151),a=t(7294);function o(e){const n=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",code:"code",pre:"pre",h3:"h3",strong:"strong"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.h1,null,"Nikola復活"),"\n",a.createElement(n.p,null,a.createElement(n.a,{href:"https://getnikola.com/"},"nikola")," 復活。"),"\n",a.createElement(n.p,null,"https://github.com/ousttrue/dotfiles/blob/master/dodo.py"),"\n",a.createElement(n.p,null,"を作りながら ",a.createElement(n.a,{href:"https://pydoit.org/"},"doit")," を学んだし、 ",a.createElement(n.a,{href:"https://jinja.palletsprojects.com/en/3.1.x/"},"jinja"),"\nも少しやったので、前よりは読めそう。\n使いながら、 nikola のコードを読んで、 doit のカスタムタスクの使い方を眺めてみたい。"),"\n",a.createElement(n.h2,null,"sphinx + ablog + myst との違い"),"\n",a.createElement(n.p,null,"nikola は ",a.createElement(n.code,null,"frontmatter")," で title を決めるが、 sphinx は 本文の先頭の見出しで決めるという違いがある。\nnikola の方も title と 先頭の見出しを同じにする運用にすれば、だいたい同じになると思う。"),"\n",a.createElement(n.pre,null,a.createElement(n.code,null,"conf.py # nikola の設定\ndocs\n  + conf.py # sphinx の設定\n  + posts # content. nikola と sphinx の ablog 両用\n    + post.md\n")),"\n",a.createElement(n.p,null,"みたいな感じにしてもだいたい動く。\n細かく違うところはあると思うが。"),"\n",a.createElement(n.h2,null,"動作"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-python"},"    site = Nikola(**config)\n    DN = DoitNikola(site, quiet)\n    if _RETURN_DOITNIKOLA:\n        return DN\n    _ = DN.run(oargs)\n")),"\n",a.createElement(n.h3,null,"DoitNikola(DoitMain)"),"\n",a.createElement(n.p,null,"https://github.com/getnikola/nikola/blob/398d5722d78a27ac5233849e3057f9d787345561/nikola/",a.createElement(n.strong,null,"main"),".py#L301"),"\n",a.createElement(n.p,null,"ここから入っていく。"),"\n",a.createElement(n.p,null,a.createElement(n.code,null,"from doit.cmd_base import TaskLoader2")),"\n",a.createElement(n.p,null,"https://pydoit.org/extending.html?highlight=taskloader#doit.cmd_base.TaskLoader2"),"\n",a.createElement(n.h3,null,"NikolaTaskLoader(TaskLoader2)"),"\n",a.createElement(n.p,null,"https://github.com/getnikola/nikola/blob/398d5722d78a27ac5233849e3057f9d787345561/nikola/",a.createElement(n.strong,null,"main"),".py#L257"))}n.default=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(o,e)):o(e)}},1151:function(e,n,t){t.d(n,{ah:function(){return o}});var l=t(7294);const a=l.createContext({});function o(e){const n=l.useContext(a);return l.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);
//# sourceMappingURL=component---content-posts-2022-0514-nikola-revival-md-97421bbf4b9239c32afe.js.map