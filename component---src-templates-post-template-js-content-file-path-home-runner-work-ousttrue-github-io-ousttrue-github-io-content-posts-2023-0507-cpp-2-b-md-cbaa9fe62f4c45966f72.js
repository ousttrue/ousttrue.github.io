"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9729],{1494:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var l=t(1151),a=t(7294);function c(e){const n=Object.assign({p:"p",span:"span",h1:"h1",h2:"h2"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"最近、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">c++2b</code>'}})," などの新しいめの機能を試している。\n機能ごとの感想など。\nコンパイラは、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">gcc12</code>'}}),", ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">clang6</code>'}}),", ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">vc2022</code>'}})," あたり。"),"\n",a.createElement(n.h1,null,"meson"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">cpp_std=c++2b</code>'}})," を指定できない w\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.local/lib/python3.10/site-packages/mesonbuild/compilers/cpp.py</code>'}})," を改造する必要があり、\n初手からつまずく。\nなお vc の場合は、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">c++latest</code>'}})," 指定が通るので使えてしまう。\n使いわける必要があって不便。\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">meson-1.1</code>'}})," でまだ対応されていなかった。"),"\n",a.createElement(n.h1,null,"std::format(時期尚早)"),"\n",a.createElement(n.p,null,"vc は使えそう。 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">clang-7?</code>'}})," に来たら使ってみよう。\n来るまでは stringstream で細々と。"),"\n",a.createElement(n.h1,null,"std::expected"),"\n",a.createElement(n.p,null,"使えなくはないが、 and_then とかが来てなかった。\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">std::optional</code>'}})," は、 and_then, or_else, transform 使えそう。"),"\n",a.createElement(n.h2,null,"std::expected と std::optional の使いわけ"),"\n",a.createElement(n.p,null,"失敗しうる処理で、失敗の種類によってエラーハンドリングを分岐させる場合、\nもしくは失敗原因のログが見たい場合に std::expected を使う。\nそれ以外は std::optional で十分。"),"\n",a.createElement(n.h1,null,"concept"),"\n",a.createElement(n.p,null,"使えそう。"),"\n",a.createElement(n.h1,null,"LanguageServer(clangd-16)"),"\n",a.createElement(n.p,null,"ヘッダーに対するフォールバックが c++11 になることがある。\n発生条件が微妙によくわからない。\nあとは concept とか使うとうまく動かなくなりがち。"),"\n",a.createElement(n.h1,null,"charconv"),"\n",a.createElement(n.p,null,"vc は使えそう。\njson のパースとかで float を使いたい。"),"\n",a.createElement(n.h1,null,"module"),"\n",a.createElement(n.p,null,"ちょっと規模が大きくなるとコンパイルを通せなかった。大変そう。"),"\n",a.createElement(n.h1,null,"coawait"),"\n",a.createElement(n.p,null,"あまり試していない。動くっぽい？"),"\n",a.createElement(n.h1,null,"range"),"\n",a.createElement(n.p,null,"あまり試していない。動くっぽい？"),"\n",a.createElement(n.h1,null,"c++20 以前の"),"\n",a.createElement(n.p,null,"std::optional, std::span,\nstd::string_view, std::filesystem, std::u8string, std::u8string_view\nは使ってもよさそう。"),"\n",a.createElement(n.h1,null,"集成型の初期化"),"\n",a.createElement(n.p,null,"win32 や d3d とか、 vulkan, openxr のような API の使い勝手がよくなる。\n自作のちょっとした型の場合でも初期値の指定との合わせ技で、\nコンストラクターよりこっちの方がよさそうと思えることがでてきた。"),"\n",a.createElement(n.h1,null,"関数テンプレートの定数にlambda由来の関数ポインタのアドレスを渡す"),"\n",a.createElement(n.p,null,"vc でできたのだが怪しかった。"))}var r=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(c,e)):c(e)},s=t(8678),m=t(1883),o=t(8838);const u={code:e=>{let{children:n,className:t}=e;return t?a.createElement(o.Z,{className:t},n):a.createElement("code",null,n)}};function d(e){let{data:n,children:t}=e;const c=n.mdx.frontmatter;return a.createElement(s.Z,null,a.createElement("h1",null,c.title),a.createElement("div",{className:"tags-index"},c.tags&&c.tags.length>0&&c.tags.map((e=>a.createElement(m.rU,{to:"/tags/"+e+"/",itemProp:"url"},a.createElement("button",null,e))))),a.createElement(l.Zo,{components:u},t))}function p(e){return a.createElement(d,e,a.createElement(r,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2023-0507-cpp-2-b-md-cbaa9fe62f4c45966f72.js.map