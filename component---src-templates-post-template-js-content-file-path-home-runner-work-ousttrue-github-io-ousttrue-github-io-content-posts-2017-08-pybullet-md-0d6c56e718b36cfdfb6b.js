"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1110],{6828:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var r=t(1151),l=t(7294);function o(e){const n=Object.assign({p:"p",pre:"pre",code:"code"},(0,r.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.p,null,"BulletPhysics の公式 Python バインディングが出てたので使ってみる。"),"\n",l.createElement(n.p,null,"Windows10(64bit) + Python3.6"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"pip\n> C:\\Python36\\Scripts\\pip.exe install pybullet\n")),"\n",l.createElement(n.p,null,"cl.exe not found 的な\nmsvc-14.0 なコンパイラがインストールされているにも関わらず出るなら\nこれ\nかもしれない\nC:\\Python36\\Lib\\distutils_msvccompiler.py を修正すればいけるかも。"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-python"},"    try:\n        out = subprocess.check_output(\n            'cmd /u /c \"{}\" {} && set'.format(vcvarsall, plat_spec),\n            stderr=subprocess.STDOUT,\n        ).decode('utf-16le', errors='replace')\n        #######################################################################\n        if out.startswith(\"Error in script usage\"):\n            out = subprocess.check_output(\n                'cmd /u /c \"{}\" {} && set'.format(\"C:\\\\Program Files (x86)\\\\Microsoft Visual C++ Build Tools\\\\vcbuildtools.bat\", plat_spec),\n                stderr=subprocess.STDOUT,\n            ).decode('utf-16le', errors='replace')\n        #######################################################################\n    except subprocess.CalledProcessError as exc:\n        log.error(exc.output)\n        raise DistutilsPlatformError(\"Error executing {}\"\n                .format(exc.cmd))\n")),"\n",l.createElement(n.p,null,"utf-8 がどうこう的な\nいい加減 Windows は CP932 を使うのやめて欲しいのだけど。"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"chcp65001\n")),"\n",l.createElement(n.p,null,"インストールできた。\n使ってみる"),"\n",l.createElement(n.p,null,"pybullet quickstart guide"),"\n",l.createElement(n.p,null,"日付が 2017 で思ったより新しい。むしろ、記述中くらいか。"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,'hello pybullet\nimport pybullet as p\nphysicsClient = p.connect(p.GUI)#or p.DIRECT for non-graphical version\np.setGravity(0,0,-10)\nplaneId = p.loadURDF("plane.urdf")\ncubeStartPos = [0,0,1]\ncubeStartOrientation = p.getQuaternionFromEuler([0,0,0])\nboxId = p.loadURDF("r2d2.urdf",cubeStartPos, cubeStartOrientation)\np.stepSimulation()\ncubePos, cubeOrn = p.getBasePositionAndOrientation(boxId)\nprint(cubePos,cubeOrn)\np.disconnect()\n')),"\n",l.createElement(n.p,null,"plane.urdf はどこにあるのか。\nbullet3 のソースの中にあった。bullet3/build/data/plane.urdf"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-xml"},'<?xml version="0.0" ?>\n<robot name="plane">\n  <link name="planeLink">\n  <contact>\n      <lateral_friction value="1"/>\n  </contact>\n    <inertial>\n      <origin rpy="0 0 0" xyz="0 0 0"/>\n       <mass value=".0"/>\n       <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>\n    </inertial>\n    <visual>\n      <origin rpy="0 0 0" xyz="0 0 0"/>\n      <geometry>\n                <mesh filename="plane.obj" scale="1 1 1"/>\n      </geometry>\n       <material name="white">\n        <color rgba="1 1 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin rpy="0 0 0" xyz="0 0 -5"/>\n      <geometry>\n        <box size="30 30 10"/>\n      </geometry>\n    </collision>\n  </link>\n</robot>\n')),"\n",l.createElement(n.p,null,"なるほどー。\nちょっと hello を改造"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-python"},'import os\nos.chdir(\'D:/dev/_python/bullet3/build/data\') # urdfのあるところに移動\n\nimport pybullet as p\nphysicsClient = p.connect(p.GUI)#or p.DIRECT for non-graphical version\np.setGravity(0,0,-10)\nplaneId = p.loadURDF("plane.urdf")\ncubeStartPos = [0,0,1]\ncubeStartOrientation = p.getQuaternionFromEuler([0,0,0])\nboxId = p.loadURDF("r2d2.urdf",cubeStartPos, cubeStartOrientation)\n\nwhile True: # とりあえずpythonを抜けないように\n    p.stepSimulation()\n    cubePos, cubeOrn = p.getBasePositionAndOrientation(boxId)\n    print(cubePos,cubeOrn)\n\np.disconnect()\n')),"\n",l.createElement(n.p,null,"面白そう。"))}var a=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?l.createElement(n,e,l.createElement(o,e)):o(e)};t(8678);function c(e){let{data:n,children:t}=e;return l.createElement(l.Fragment,null,l.createElement("h1",null,n.mdx.frontmatter.title),l.createElement(r.Zo,null,t))}function u(e){return l.createElement(c,e,l.createElement(a,e))}},8678:function(e,n,t){t(7294)},1151:function(e,n,t){t.d(n,{Zo:function(){return c},ah:function(){return o}});var r=t(7294);const l=r.createContext({});function o(e){const n=r.useContext(l);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const a={};function c({components:e,children:n,disableParentContext:t}){let c;return c=t?"function"==typeof e?e({}):e||a:o(e),r.createElement(l.Provider,{value:c},n)}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2017-08-pybullet-md-0d6c56e718b36cfdfb6b.js.map