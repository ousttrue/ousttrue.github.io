<!DOCTYPE html>
<html lang="en" class="astro-BVZIHDZO">
	<head>
		<!-- Use Google Fonts, if you don't wanna prefer a self-hosted version --><!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet"> --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>nvim-dap で coldelldb 動いた</title>
<meta name="title" content="nvim-dap で coldelldb 動いた">


<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="shortcut icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- Open Graph Tags (Facebook) -->
<meta property="og:type" content="website">
<meta property="og:title" content="nvim-dap で coldelldb 動いた">




<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:title" content="nvim-dap で coldelldb 動いた">





<script>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "dark";
    }
    return "light";
  })();

  if (theme === "light") {
    document.documentElement.classList.remove("dark");
  } else {
    document.documentElement.classList.add("dark");
  }
</script>
		
	<link rel="stylesheet" href="/_astro/about.6111bb3a.css" />
<link rel="stylesheet" href="/_astro/about.657f8f57.css" />
<link rel="stylesheet" href="/_astro/about.ee60a110.css" />
<link rel="stylesheet" href="/_astro/about.dcb84f3d.css" /><script type="module" src="/_astro/hoisted.e6960f2c.js"></script></head>

	<body class="astro-BVZIHDZO">
		<header class="header astro-3EF6KSR2">
    <div class="header__logo astro-3EF6KSR2">
        <a href="/" class="avatar astro-3EF6KSR2">
            <img class="header__logo-img astro-3EF6KSR2" src="/assets/logo.svg" alt="Astro logo">
        </a>
    </div>
    <div class="header__meta flex-1 astro-3EF6KSR2">
        <h3 class="header__title dark:text-theme-dark-secondary astro-3EF6KSR2">
            <a href="" class="astro-3EF6KSR2">三次元日誌(astro)</a>
        </h3>
        <div class="header__meta-more flex astro-3EF6KSR2">
            <p class="header__desc astro-3EF6KSR2">
                Crisp, minimal, personal blog theme for Astro
            </p>
            <nav class="header__nav flex astro-3EF6KSR2">
                <ul class="header__ref-list astro-3EF6KSR2">
                    <li class="astro-3EF6KSR2">
                        <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var r=(i,c,n)=>{let s=async()=>{await(await i())()},t=new IntersectionObserver(e=>{for(let o of e)if(o.isIntersecting){t.disconnect(),s();break}});for(let e of n.children)t.observe(e)};(self.Astro||(self.Astro={})).visible=r;window.dispatchEvent(new Event("astro:visible"));})();;(()=>{var d;{let p={0:t=>u(t),1:t=>l(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(l(t)),5:t=>new Set(l(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},h=t=>{let[e,n]=t;return e in p?p[e](n):void 0},l=t=>t.map(h),u=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,h(n)]));customElements.get("astro-island")||customElements.define("astro-island",(d=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=async()=>{var i;if(!this.hydrator||!this.isConnected)return;let e=(i=this.parentElement)==null?void 0:i.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),o={},a=this.querySelectorAll("template[data-astro-template]");for(let r of a){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(o[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of n){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(o[r.getAttribute("name")||"default"]=r.innerHTML)}let c;try{c=this.hasAttribute("props")?u(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}await this.hydrator(this)(this.Component,c,o,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((e,n)=>{n.disconnect(),setTimeout(()=>this.childrenConnectedCallback(),0)}).observe(this,{childList:!0})}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}Astro[n](async()=>{let o=this.getAttribute("renderer-url"),[a,{default:c}]=await Promise.all([import(this.getAttribute("component-url")),o?import(o):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(let r of i.split("."))this.Component=this.Component[r]}return this.hydrator=c,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},d.observedAttributes=["props"],d))}})();</script><astro-island uid="2iKzVC" component-url="/_astro/SearchBtn.984510f3.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-3EF6KSR2&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;SearchBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path fill-rule="evenodd" clip-rule="evenodd" d="M16.2071 4.89344C19.0923 7.77862 19.3131 12.3193 16.8693 15.4578C16.8846 15.4713 16.8996 15.4854 16.9143 15.5L21.1569 19.7427C21.5474 20.1332 21.5474 20.7664 21.1569 21.1569C20.7664 21.5474 20.1332 21.5474 19.7427 21.1569L15.5 16.9143C15.4854 16.8996 15.4713 16.8846 15.4578 16.8693C12.3193 19.3131 7.77862 19.0923 4.89344 16.2071C1.76924 13.083 1.76924 8.01763 4.89344 4.89344C8.01763 1.76924 13.083 1.76924 16.2071 4.89344ZM14.7929 14.7929C17.1361 12.4498 17.1361 8.6508 14.7929 6.30765C12.4498 3.96451 8.6508 3.96451 6.30765 6.30765C3.96451 8.6508 3.96451 12.4498 6.30765 14.7929C8.6508 17.1361 12.4498 17.1361 14.7929 14.7929Z" fill="currentColor"></path></svg></button></astro-island>
                    </li>
                    <li class="astro-3EF6KSR2">
                        <a href="https://github.com/one-aalam/astro-ink" title="三次元日誌(astro)'s Github URL'" class="astro-3EF6KSR2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    
                                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" class="astro-3EF6KSR2"></path>
                            
</svg>
                        </a>
                    </li>
                    <li class="astro-3EF6KSR2">
                        <a href="/rss.xml" title="RSS" class="astro-3EF6KSR2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    
                                <path d="M4 11a9 9 0 0 1 9 9" class="astro-3EF6KSR2"></path>
                                <path d="M4 4a16 16 0 0 1 16 16" class="astro-3EF6KSR2"></path>
                                <circle cx="5" cy="19" r="1" class="astro-3EF6KSR2"></circle>
                            
</svg>
                        </a>
                    </li>
                    <li class="astro-3EF6KSR2">
                        <astro-island uid="h8S6z" component-url="/_astro/ModeSwitcherBtn.0ddc5d6d.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-3EF6KSR2&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ModeSwitcherBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle> <line x1="12" y1="1" x2="12" y2="3"></line> <line x1="12" y1="21" x2="12" y2="23"></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line> <line x1="1" y1="12" x2="3" y2="12"></line> <line x1="21" y1="12" x2="23" y2="12"></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></astro-island>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>
		<main class="astro-BVZIHDZO">
			<article class="astro-BVZIHDZO">
				<div class="hero-image astro-BVZIHDZO">
					
				</div>
				<div class="prose astro-BVZIHDZO">
					<div class="title astro-BVZIHDZO">
						<div class="date astro-BVZIHDZO">
							<time datetime="2021-06-27T00:00:00.000Z">
	Jun 27, 2021
</time>
							
						</div>
						<h1 class="astro-BVZIHDZO">nvim-dap で coldelldb 動いた</h1>
						<hr class="astro-BVZIHDZO">
					</div>
					
	<p><a href="https://github.com/mfussenegger/nvim-dap">nvim-dap</a> で rust をデバッグするべく悪戦苦闘中。
nvim-dap というのは、来たる nvim-0.5 で動くようになる、 <code>vscode</code> のデバッグアダプターを動作させる機能。</p>
<p>rust(Windows) は native debugger をアタッチすればいいので、いくつか選択肢があって</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=lanza.lldb-vscode">https://marketplace.visualstudio.com/items?itemName=lanza.lldb-vscode</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb</a></li>
</ul>
<p>最後の、<code>vscode-lldb(codelldb)</code> <a href="https://github.com/vadimcn/vscode-lldb">https://github.com/vadimcn/vscode-lldb</a> が使いたい。</p>
<h2 id="codelldb-の起動">codelldb の起動</h2>
<p>nvim-dap から <code>codelldb.exe</code> プロセスは起動している様子。通信がうまくいってないように見える。</p>
<pre is:raw="" class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #e1e4e8">> .\.cache\dein\repos\github.com\puremourning\vimspector\gadgets\windows\CodeLLDB\adapter\codelldb.exe</span></span>
<span class="line"><span style="color: #e1e4e8">Listening on port 55201</span></span></code></pre>
<p>標準入出力を使うモードになっていないのでは？</p>
<p><code>adapter/src/lib.rs</code></p>
<pre is:raw="" class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">async</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">fn</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">run_debug_server</span><span style="color: #E1E4E8">(</span></span>
<span class="line"><span style="color: #E1E4E8">    addr</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">net</span><span style="color: #F97583">::</span><span style="color: #B392F0">SocketAddr</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    adapter_settings</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">debug_protocol</span><span style="color: #F97583">::</span><span style="color: #B392F0">AdapterSettings</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    multi_session</span><span style="color: #F97583">:</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">bool</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">) {</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">let</span><span style="color: #E1E4E8"> listener </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">TcpListener</span><span style="color: #F97583">::</span><span style="color: #B392F0">bind</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8">addr)</span><span style="color: #F97583">.await.</span><span style="color: #B392F0">unwrap</span><span style="color: #E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">println!</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"Listening on port {}"</span><span style="color: #E1E4E8">, listener</span><span style="color: #F97583">.</span><span style="color: #B392F0">local_addr</span><span style="color: #E1E4E8">()</span><span style="color: #F97583">.</span><span style="color: #B392F0">unwrap</span><span style="color: #E1E4E8">()</span><span style="color: #F97583">.</span><span style="color: #B392F0">port</span><span style="color: #E1E4E8">());</span></span></code></pre>
<p>遡る。 <code>main -> debug_server -> entry -> run_debug_server</code></p>
<pre is:raw="" class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">fn</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">main</span><span style="color: #E1E4E8">() </span><span style="color: #F97583">-></span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Result</span><span style="color: #E1E4E8">&#x3C;(), </span><span style="color: #B392F0">Error</span><span style="color: #E1E4E8">> {</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">env_logger</span><span style="color: #F97583">::</span><span style="color: #B392F0">Builder</span><span style="color: #F97583">::</span><span style="color: #B392F0">from_default_env</span><span style="color: #E1E4E8">()</span><span style="color: #F97583">.</span><span style="color: #B392F0">init</span><span style="color: #E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">let</span><span style="color: #E1E4E8"> matches </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">App</span><span style="color: #F97583">::</span><span style="color: #B392F0">new</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"codelldb"</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">.</span><span style="color: #B392F0">arg</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Arg</span><span style="color: #F97583">::</span><span style="color: #B392F0">with_name</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"port"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">long</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"port"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">takes_value</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">.</span><span style="color: #B392F0">arg</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Arg</span><span style="color: #F97583">::</span><span style="color: #B392F0">with_name</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"multi-session"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">long</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"multi-session"</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">.</span><span style="color: #B392F0">arg</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Arg</span><span style="color: #F97583">::</span><span style="color: #B392F0">with_name</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"preload"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">long</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"preload"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">multiple</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">takes_value</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">.</span><span style="color: #B392F0">arg</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Arg</span><span style="color: #F97583">::</span><span style="color: #B392F0">with_name</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"liblldb"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">long</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"liblldb"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">takes_value</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">.</span><span style="color: #B392F0">arg</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Arg</span><span style="color: #F97583">::</span><span style="color: #B392F0">with_name</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"params"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">long</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"params"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">takes_value</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">.</span><span style="color: #B392F0">subcommand</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">SubCommand</span><span style="color: #F97583">::</span><span style="color: #B392F0">with_name</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"terminal-agent"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">arg</span><span style="color: #E1E4E8">(</span><span style="color: #B392F0">Arg</span><span style="color: #F97583">::</span><span style="color: #B392F0">with_name</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"port"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">long</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"port"</span><span style="color: #E1E4E8">)</span><span style="color: #F97583">.</span><span style="color: #B392F0">takes_value</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">)))</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #F97583">.</span><span style="color: #B392F0">get_matches</span><span style="color: #E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">let</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Some</span><span style="color: #E1E4E8">(matches) </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> matches</span><span style="color: #F97583">.</span><span style="color: #B392F0">subcommand_matches</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">"terminal-agent"</span><span style="color: #E1E4E8">) {</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #B392F0">terminal_agent</span><span style="color: #F97583">::</span><span style="color: #B392F0">terminal_agent</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8">matches)</span></span>
<span class="line"><span style="color: #E1E4E8">    } </span><span style="color: #F97583">else</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #B392F0">debug_server</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">&#x26;</span><span style="color: #E1E4E8">matches)</span></span>
<span class="line"><span style="color: #E1E4E8">    }</span></span>
<span class="line"><span style="color: #E1E4E8">}</span></span></code></pre>
<p>どうやら、 <code>executable</code> かつ <code>stdio ではなく tcp</code> 通信というタイプで nvim-dap では未対応ということでよさそう。？</p>
<ul>
<li>起動</li>
<li><code>Listening on port XXXXX</code> メッセージから port を得る</li>
<li>そのポートに対して TCP 接続という手順が必要</li>
</ul>
<p><a href="https://code.visualstudio.com/api/extension-guides/debugger-extension#alternative-approach-to-develop-a-debugger-extension">https://code.visualstudio.com/api/extension-guides/debugger-extension#alternative-approach-to-develop-a-debugger-extension</a></p>
<p>の <code>DebugAdapterServer</code> タイプにあたる。</p>
<h2 id="nvim-dap-の改造を試みる">nvim-dap の改造を試みる</h2>
<p>adapter.type <code>executable</code>, <code>server</code> に加えて、第3の <code>executable_server</code> を作れるか。</p>
<pre is:raw="" class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #F97583">local</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">run_adapter</span><span style="color: #E1E4E8">(adapter, configuration, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> name </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> configuration.</span><span style="color: #B392F0">name</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">or</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'[no name]'</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> options </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> adapter.</span><span style="color: #B392F0">options</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">or</span><span style="color: #E1E4E8"> {}</span></span>
<span class="line"><span style="color: #E1E4E8">  opts </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> vim.</span><span style="color: #79B8FF">tbl_extend</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'keep'</span><span style="color: #E1E4E8">, opts, {</span></span>
<span class="line"><span style="color: #E1E4E8">    cwd </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> options.</span><span style="color: #B392F0">cwd</span><span style="color: #E1E4E8">,</span></span>
<span class="line"><span style="color: #E1E4E8">    env </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> options.</span><span style="color: #B392F0">env</span></span>
<span class="line"><span style="color: #E1E4E8">  })</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> adapter.</span><span style="color: #B392F0">type</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">==</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'executable' </span><span style="color: #F97583">then</span></span>
<span class="line"><span style="color: #E1E4E8">    lazy.</span><span style="color: #B392F0">progress</span><span style="color: #E1E4E8">.</span><span style="color: #79B8FF">report</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'Running: ' </span><span style="color: #F97583">..</span><span style="color: #E1E4E8"> name)</span></span>
<span class="line"><span style="color: #E1E4E8">    M.</span><span style="color: #79B8FF">launch</span><span style="color: #E1E4E8">(adapter, configuration, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">elseif</span><span style="color: #E1E4E8"> adapter.</span><span style="color: #B392F0">type</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">==</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'server' </span><span style="color: #F97583">then</span></span>
<span class="line"><span style="color: #E1E4E8">    lazy.</span><span style="color: #B392F0">progress</span><span style="color: #E1E4E8">.</span><span style="color: #79B8FF">report</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'Running: ' </span><span style="color: #F97583">..</span><span style="color: #E1E4E8"> name)</span></span>
<span class="line"><span style="color: #E1E4E8">    M.</span><span style="color: #79B8FF">attach</span><span style="color: #E1E4E8">(adapter.</span><span style="color: #B392F0">host</span><span style="color: #E1E4E8">, adapter.</span><span style="color: #B392F0">port</span><span style="color: #E1E4E8">, configuration, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">elseif</span><span style="color: #E1E4E8"> adapter.</span><span style="color: #B392F0">type</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">==</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'executable_server' </span><span style="color: #F97583">then</span><span style="color: #E1E4E8"> </span><span style="color: #6A737D">-- 👈これを追加した</span></span>
<span class="line"><span style="color: #E1E4E8">    lazy.</span><span style="color: #B392F0">progress</span><span style="color: #E1E4E8">.</span><span style="color: #79B8FF">report</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'Running: ' </span><span style="color: #F97583">..</span><span style="color: #E1E4E8"> name)</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #6A737D">-- local session = M.launch(adapter, configuration, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> stdin, stdout, stderr </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">executable_server</span><span style="color: #E1E4E8">(adapter, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #6A737D">-- `Error executing luv callback: vimL function must not be called in a lua loop callback`</span></span>
<span class="line"><span style="color: #E1E4E8">    vim.</span><span style="color: #B392F0">loop</span><span style="color: #E1E4E8">.</span><span style="color: #79B8FF">read_start</span><span style="color: #E1E4E8">(stdout, vim.</span><span style="color: #79B8FF">schedule_wrap</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">function</span><span style="color: #E1E4E8">(err, data)</span></span>
<span class="line"><span style="color: #E1E4E8">      </span><span style="color: #6A737D">-- codelldb の出力から port を得る</span></span>
<span class="line"><span style="color: #E1E4E8">      </span><span style="color: #6A737D">-- Lisening on port xxxxx</span></span>
<span class="line"><span style="color: #E1E4E8">      </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> port </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">string.match</span><span style="color: #E1E4E8">(data , </span><span style="color: #9ECBFF">"Listening on port (%d+)" </span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">      M.</span><span style="color: #79B8FF">attach</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">nil</span><span style="color: #E1E4E8">, port, configuration, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">end</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">else</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">print</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">string.format</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'Invalid adapter type %s, expected `executable` or `server`'</span><span style="color: #E1E4E8">, adapter.</span><span style="color: #B392F0">type</span><span style="color: #E1E4E8">))</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">end</span></span>
<span class="line"><span style="color: #F97583">end</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">executable_server</span><span style="color: #E1E4E8">(adapter, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> uv </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> vim.</span><span style="color: #B392F0">loop</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> stdin </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> uv.</span><span style="color: #79B8FF">new_pipe</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">false</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> stdout </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> uv.</span><span style="color: #79B8FF">new_pipe</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">false</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> stderr </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> uv.</span><span style="color: #79B8FF">new_pipe</span><span style="color: #E1E4E8">(</span><span style="color: #79B8FF">false</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> handle</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">onexit</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">stdin</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">close</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">stdout</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">close</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">stderr</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">close</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">handle</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">close</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">end</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> options </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> adapter.</span><span style="color: #B392F0">options</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">or</span><span style="color: #E1E4E8"> {}</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> pid_or_err</span></span>
<span class="line"><span style="color: #E1E4E8">  handle, pid_or_err </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> uv.</span><span style="color: #79B8FF">spawn</span><span style="color: #E1E4E8">(adapter.</span><span style="color: #B392F0">command</span><span style="color: #E1E4E8">, {</span></span>
<span class="line"><span style="color: #E1E4E8">    args </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> adapter.</span><span style="color: #B392F0">args</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">    stdio </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> {stdin, stdout, stderr};</span></span>
<span class="line"><span style="color: #E1E4E8">    cwd </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> options.</span><span style="color: #B392F0">cwd</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">    env </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> options.</span><span style="color: #B392F0">env</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">    detached </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">true</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">  }, onexit)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #79B8FF">assert</span><span style="color: #E1E4E8">(handle, </span><span style="color: #9ECBFF">'Error running ' </span><span style="color: #F97583">..</span><span style="color: #E1E4E8"> adapter.</span><span style="color: #B392F0">command</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">..</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">': ' </span><span style="color: #F97583">..</span><span style="color: #E1E4E8"> pid_or_err)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> stdin, stdout, stderr</span></span>
<span class="line"><span style="color: #F97583">end</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">M</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">attach</span><span style="color: #E1E4E8">(host, port, config, opts)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> session </span><span style="color: #F97583">then</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">session</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">close</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">end</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">not</span><span style="color: #E1E4E8"> config.</span><span style="color: #B392F0">request</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">then</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #79B8FF">print</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'config needs the `request` property which must be one of `attach` or `launch`'</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">return</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">end</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #6A737D">-- initialize が早すぎるので config を connect 引数に</span></span>
<span class="line"><span style="color: #E1E4E8">  session </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">require</span><span style="color: #E1E4E8">(</span><span style="color: #9ECBFF">'dap.session'</span><span style="color: #E1E4E8">):</span><span style="color: #79B8FF">connect</span><span style="color: #E1E4E8">(host, port, opts, config)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> session</span></span>
<span class="line"><span style="color: #F97583">end</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F97583">function</span><span style="color: #E1E4E8"> </span><span style="color: #B392F0">Session</span><span style="color: #E1E4E8">:</span><span style="color: #B392F0">connect</span><span style="color: #E1E4E8">(host, port, opts, config)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> session </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">session_defaults</span><span style="color: #E1E4E8">(opts </span><span style="color: #F97583">or</span><span style="color: #E1E4E8"> {})</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #79B8FF">setmetatable</span><span style="color: #E1E4E8">(session, </span><span style="color: #79B8FF">self</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #79B8FF">self</span><span style="color: #E1E4E8">.</span><span style="color: #B392F0">__index</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">self</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">local</span><span style="color: #E1E4E8"> client </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> uv.</span><span style="color: #79B8FF">new_tcp</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">  session.</span><span style="color: #B392F0">client</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> {</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">write</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8">(line) </span></span>
<span class="line"><span style="color: #E1E4E8">        </span><span style="color: #B392F0">client</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">write</span><span style="color: #E1E4E8">(line) </span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">end</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">close</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">=</span><span style="color: #E1E4E8"> </span><span style="color: #F97583">function</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">      </span><span style="color: #B392F0">client</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">shutdown</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">      </span><span style="color: #B392F0">client</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">close</span><span style="color: #E1E4E8">()</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">end</span><span style="color: #E1E4E8">;</span></span>
<span class="line"><span style="color: #E1E4E8">  }</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #B392F0">client</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">connect</span><span style="color: #E1E4E8">(host </span><span style="color: #F97583">or</span><span style="color: #E1E4E8"> </span><span style="color: #9ECBFF">'127.0.0.1'</span><span style="color: #E1E4E8">, </span><span style="color: #79B8FF">tonumber</span><span style="color: #E1E4E8">(port), </span><span style="color: #F97583">function</span><span style="color: #E1E4E8">(err)</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">if</span><span style="color: #E1E4E8"> (err) </span><span style="color: #F97583">then</span><span style="color: #E1E4E8"> </span><span style="color: #79B8FF">print</span><span style="color: #E1E4E8">(err) </span><span style="color: #F97583">end</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">client</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">read_start</span><span style="color: #E1E4E8">(rpc.</span><span style="color: #79B8FF">create_read_loop</span><span style="color: #E1E4E8">(</span><span style="color: #F97583">function</span><span style="color: #E1E4E8">(body)</span></span>
<span class="line"><span style="color: #E1E4E8">      </span><span style="color: #B392F0">session</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">handle_body</span><span style="color: #E1E4E8">(body)</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #F97583">end</span><span style="color: #E1E4E8">))</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #6A737D">-- connect が成立してから initialize を送る</span></span>
<span class="line"><span style="color: #E1E4E8">    </span><span style="color: #B392F0">session</span><span style="color: #E1E4E8">:</span><span style="color: #79B8FF">initialize</span><span style="color: #E1E4E8">(config)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">end</span><span style="color: #E1E4E8">)</span></span>
<span class="line"><span style="color: #E1E4E8">  </span><span style="color: #F97583">return</span><span style="color: #E1E4E8"> session</span></span>
<span class="line"><span style="color: #F97583">end</span></span></code></pre>
<p>動いた。 PR 作ろう。</p>

				</div>
			</article>
		</main>
		<footer class="footer astro-SZ7XMLTE">
    <nav class="nav astro-SZ7XMLTE">
        <div class="astro-SZ7XMLTE">2021  &copy; Copyright notice |  <a href="https://github.com/one-aalam/astro-ink" title="三次元日誌(astro)'s Github URL'" class="astro-SZ7XMLTE">三次元日誌(astro)</a>
        <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="1QEdto" component-url="/_astro/ModeLabel.e3ff75e7.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-SZ7XMLTE&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ModeLabel&quot;,&quot;value&quot;:true}" await-children=""><span slot="dark" data-svelte-h="svelte-14ov3lc">(dark)</span></astro-island> theme on <a href="https://astro.build/" class="astro-SZ7XMLTE">Astro</a></div>
        <astro-island uid="1I86to" component-url="/_astro/NetlifyIdentity.94b8edb0.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-SZ7XMLTE&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;NetlifyIdentity&quot;,&quot;value&quot;:true}"></astro-island>
    </nav>
</footer>
	</body></html>