<!DOCTYPE html>
<html lang="en" class="astro-BVZIHDZO">
	<head>
		<!-- Use Google Fonts, if you don't wanna prefer a self-hosted version --><!-- <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet"> --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>cmakeのfind_package</title>
<meta name="title" content="cmakeのfind_package">


<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="shortcut icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- Open Graph Tags (Facebook) -->
<meta property="og:type" content="website">
<meta property="og:title" content="cmakeのfind_package">




<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:title" content="cmakeのfind_package">





<script>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "dark";
    }
    return "light";
  })();

  if (theme === "light") {
    document.documentElement.classList.remove("dark");
  } else {
    document.documentElement.classList.add("dark");
  }
</script>
		
	<link rel="stylesheet" href="/_astro/about.6111bb3a.css" />
<link rel="stylesheet" href="/_astro/about.657f8f57.css" />
<link rel="stylesheet" href="/_astro/about.ee60a110.css" />
<link rel="stylesheet" href="/_astro/about.dcb84f3d.css" /><script type="module" src="/_astro/hoisted.e6960f2c.js"></script></head>

	<body class="astro-BVZIHDZO">
		<header class="header astro-3EF6KSR2">
    <div class="header__logo astro-3EF6KSR2">
        <a href="/" class="avatar astro-3EF6KSR2">
            <img class="header__logo-img astro-3EF6KSR2" src="/assets/logo.svg" alt="Astro logo">
        </a>
    </div>
    <div class="header__meta flex-1 astro-3EF6KSR2">
        <h3 class="header__title dark:text-theme-dark-secondary astro-3EF6KSR2">
            <a href="" class="astro-3EF6KSR2">三次元日誌(astro)</a>
        </h3>
        <div class="header__meta-more flex astro-3EF6KSR2">
            <p class="header__desc astro-3EF6KSR2">
                Crisp, minimal, personal blog theme for Astro
            </p>
            <nav class="header__nav flex astro-3EF6KSR2">
                <ul class="header__ref-list astro-3EF6KSR2">
                    <li class="astro-3EF6KSR2">
                        <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var r=(i,c,n)=>{let s=async()=>{await(await i())()},t=new IntersectionObserver(e=>{for(let o of e)if(o.isIntersecting){t.disconnect(),s();break}});for(let e of n.children)t.observe(e)};(self.Astro||(self.Astro={})).visible=r;window.dispatchEvent(new Event("astro:visible"));})();;(()=>{var d;{let p={0:t=>u(t),1:t=>l(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(l(t)),5:t=>new Set(l(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},h=t=>{let[e,n]=t;return e in p?p[e](n):void 0},l=t=>t.map(h),u=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,n])=>[e,h(n)]));customElements.get("astro-island")||customElements.define("astro-island",(d=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=async()=>{var i;if(!this.hydrator||!this.isConnected)return;let e=(i=this.parentElement)==null?void 0:i.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let n=this.querySelectorAll("astro-slot"),o={},a=this.querySelectorAll("template[data-astro-template]");for(let r of a){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(o[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of n){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(o[r.getAttribute("name")||"default"]=r.innerHTML)}let c;try{c=this.hasAttribute("props")?u(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}await this.hydrator(this)(this.Component,c,o,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((e,n)=>{n.disconnect(),setTimeout(()=>this.childrenConnectedCallback(),0)}).observe(this,{childList:!0})}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),n=this.getAttribute("client");if(Astro[n]===void 0){window.addEventListener(`astro:${n}`,()=>this.start(),{once:!0});return}Astro[n](async()=>{let o=this.getAttribute("renderer-url"),[a,{default:c}]=await Promise.all([import(this.getAttribute("component-url")),o?import(o):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(let r of i.split("."))this.Component=this.Component[r]}return this.hydrator=c,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},d.observedAttributes=["props"],d))}})();</script><astro-island uid="2iKzVC" component-url="/_astro/SearchBtn.984510f3.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-3EF6KSR2&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;SearchBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path fill-rule="evenodd" clip-rule="evenodd" d="M16.2071 4.89344C19.0923 7.77862 19.3131 12.3193 16.8693 15.4578C16.8846 15.4713 16.8996 15.4854 16.9143 15.5L21.1569 19.7427C21.5474 20.1332 21.5474 20.7664 21.1569 21.1569C20.7664 21.5474 20.1332 21.5474 19.7427 21.1569L15.5 16.9143C15.4854 16.8996 15.4713 16.8846 15.4578 16.8693C12.3193 19.3131 7.77862 19.0923 4.89344 16.2071C1.76924 13.083 1.76924 8.01763 4.89344 4.89344C8.01763 1.76924 13.083 1.76924 16.2071 4.89344ZM14.7929 14.7929C17.1361 12.4498 17.1361 8.6508 14.7929 6.30765C12.4498 3.96451 8.6508 3.96451 6.30765 6.30765C3.96451 8.6508 3.96451 12.4498 6.30765 14.7929C8.6508 17.1361 12.4498 17.1361 14.7929 14.7929Z" fill="currentColor"></path></svg></button></astro-island>
                    </li>
                    <li class="astro-3EF6KSR2">
                        <a href="https://github.com/one-aalam/astro-ink" title="三次元日誌(astro)'s Github URL'" class="astro-3EF6KSR2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    
                                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" class="astro-3EF6KSR2"></path>
                            
</svg>
                        </a>
                    </li>
                    <li class="astro-3EF6KSR2">
                        <a href="/rss.xml" title="RSS" class="astro-3EF6KSR2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    
                                <path d="M4 11a9 9 0 0 1 9 9" class="astro-3EF6KSR2"></path>
                                <path d="M4 4a16 16 0 0 1 16 16" class="astro-3EF6KSR2"></path>
                                <circle cx="5" cy="19" r="1" class="astro-3EF6KSR2"></circle>
                            
</svg>
                        </a>
                    </li>
                    <li class="astro-3EF6KSR2">
                        <astro-island uid="h8S6z" component-url="/_astro/ModeSwitcherBtn.0ddc5d6d.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-3EF6KSR2&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ModeSwitcherBtn&quot;,&quot;value&quot;:true}" await-children=""><button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle> <line x1="12" y1="1" x2="12" y2="3"></line> <line x1="12" y1="21" x2="12" y2="23"></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line> <line x1="1" y1="12" x2="3" y2="12"></line> <line x1="21" y1="12" x2="23" y2="12"></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></astro-island>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</header>
		<main class="astro-BVZIHDZO">
			<article class="astro-BVZIHDZO">
				<div class="hero-image astro-BVZIHDZO">
					
				</div>
				<div class="prose astro-BVZIHDZO">
					<div class="title astro-BVZIHDZO">
						<div class="date astro-BVZIHDZO">
							<time datetime="2017-07-20T00:00:00.000Z">
	Jul 20, 2017
</time>
							
						</div>
						<h1 class="astro-BVZIHDZO">cmakeのfind_package</h1>
						<hr class="astro-BVZIHDZO">
					</div>
					
	<pre is:raw="" class="astro-code github-dark" style="background-color: #24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color: #e1e4e8">cmake の FIND_PACKAGE わかりずらいよ。もやもやするものがある。</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">GLUT の例</span></span>
<span class="line"><span style="color: #e1e4e8">検証用に小さい例を作ってみた。</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">https://stackoverflow.com/questions/9460242/how-to-compile-glut-opengl-project-with-cmake-and-kdevelop-in-linux</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">これを参考にしたのだけどちょっと手直しした。</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">ADD_EXECUTABLE の前に INCLUDE_DIRECTORIES する必要がある</span></span>
<span class="line"><span style="color: #e1e4e8">OPENGL_INCLUDE_DIRS じゃなくて OPENGL_INCLUDE_DIR</span></span>
<span class="line"><span style="color: #e1e4e8">GLUT_INCLUDE_DIRS じゃなくて GLUT_INCLUDE_DIR</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">Linux とかだと distribution が cmake ファイルを管理してたりするかもしれん。</span></span>
<span class="line"><span style="color: #e1e4e8">main.cpp</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">cpp</span></span>
<span class="line"><span style="color: #e1e4e8">#include &#x3C;GL/glut.h></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">void display(void)</span></span>
<span class="line"><span style="color: #e1e4e8">{</span></span>
<span class="line"><span style="color: #e1e4e8">}</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">int main(int argc, char *argv[])</span></span>
<span class="line"><span style="color: #e1e4e8">{</span></span>
<span class="line"><span style="color: #e1e4e8">    glutInit(&#x26;argc, argv);</span></span>
<span class="line"><span style="color: #e1e4e8">    glutCreateWindow(argv[0]);</span></span>
<span class="line"><span style="color: #e1e4e8">    glutDisplayFunc(display);</span></span>
<span class="line"><span style="color: #e1e4e8">    glutMainLoop();</span></span>
<span class="line"><span style="color: #e1e4e8">    return 0;</span></span>
<span class="line"><span style="color: #e1e4e8">}</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">cmake</span></span>
<span class="line"><span style="color: #e1e4e8">CMakeLists.txt</span></span>
<span class="line"><span style="color: #e1e4e8">CMAKE_MINIMUM_REQUIRED(VERSION 2.8)</span></span>
<span class="line"><span style="color: #e1e4e8">PROJECT(hello)</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">FIND_PACKAGE(OpenGL REQUIRED)</span></span>
<span class="line"><span style="color: #e1e4e8">MESSAGE(STATUS ${OPENGL_LIBRARIES})</span></span>
<span class="line"><span style="color: #e1e4e8">MESSAGE(STATUS ${OPENGL_INCLUDE_DIR})</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">FIND_PACKAGE(GLUT REQUIRED)</span></span>
<span class="line"><span style="color: #e1e4e8">MESSAGE(STATUS ${GLUT_LIBRARY})</span></span>
<span class="line"><span style="color: #e1e4e8">MESSAGE(STATUS ${GLUT_INCLUDE_DIR})</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">INCLUDE_DIRECTORIES(</span></span>
<span class="line"><span style="color: #e1e4e8">    ${OPENGL_INCLUDE_DIR}</span></span>
<span class="line"><span style="color: #e1e4e8">    ${GLUT_INCLUDE_DIR}</span></span>
<span class="line"><span style="color: #e1e4e8">    )</span></span>
<span class="line"><span style="color: #e1e4e8">ADD_DEFINITIONS(</span></span>
<span class="line"><span style="color: #e1e4e8">    -DFREEGLUT_LIB_PRAGMAS=0 # avoid pragma</span></span>
<span class="line"><span style="color: #e1e4e8">    )</span></span>
<span class="line"><span style="color: #e1e4e8">ADD_EXECUTABLE(hello</span></span>
<span class="line"><span style="color: #e1e4e8">    main.cpp</span></span>
<span class="line"><span style="color: #e1e4e8">    )</span></span>
<span class="line"><span style="color: #e1e4e8">TARGET_LINK_LIBRARIES(hello</span></span>
<span class="line"><span style="color: #e1e4e8">    ${OPENGL_LIBRARIES}</span></span>
<span class="line"><span style="color: #e1e4e8">    ${GLUT_LIBRARY}</span></span>
<span class="line"><span style="color: #e1e4e8">    )</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">実行時のメッセージ</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">-- glu32opengl32</span></span>
<span class="line"><span style="color: #e1e4e8">--</span></span>
<span class="line"><span style="color: #e1e4e8">-- D:/vcpkg/installed/x64-windows/lib/freeglut.lib</span></span>
<span class="line"><span style="color: #e1e4e8">-- D:/vcpkg/installed/x64-windows/include</span></span>
<span class="line"><span style="color: #e1e4e8">-- Configuring done</span></span>
<span class="line"><span style="color: #e1e4e8">-- Generating done</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">なぜか vcpkg の freeglut を発見してくれた。</span></span>
<span class="line"><span style="color: #e1e4e8">vcpkg が cmake の探索パスを追加しているぽい。レジストリとかか？</span></span>
<span class="line"><span style="color: #e1e4e8">まず、第 1 に</span></span>
<span class="line"><span style="color: #e1e4e8">FIND_PACKAGE の結果として如何なる変数が増えるのかが分からん。</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">https://cmake.org/Wiki/CMake:How_To_Find_Libraries#How_package_finding_works</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">慣例では、下記のようになっている。</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">_FOUND</span></span>
<span class="line"><span style="color: #e1e4e8">_INCLUDE_DIRS or _INCLUDES</span></span>
<span class="line"><span style="color: #e1e4e8">_LIBRARIES or _LIBRARIES or _LIBS</span></span>
<span class="line"><span style="color: #e1e4e8">_DEFINITIONS</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">強制じゃなくて規約なので各種表記ブレの余地が危険を醸し出している。</span></span>
<span class="line"><span style="color: #e1e4e8">大文字小文字(find_package(glut)に対して${GLUT_FOUND})、複数単数(DIR, DIRS)、短縮(LIBRARIES, LIBS)とか一貫性が。はまりそうだー。</span></span>
<span class="line"><span style="color: #e1e4e8">とりあえあず、標準のパッケージに関してはコマンドから問い合わせることができる。</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">> cmake --help-module OpenGL</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">FindOpenGL</span></span>
<span class="line"><span style="color: #e1e4e8">----------</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">FindModule for OpenGL and GLU.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">IMPORTED Targets</span></span>
<span class="line"><span style="color: #e1e4e8">^^^^^^^^^^^^^^^^</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">This module defines the ``IMPORTED`` targets:</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">``OpenGL::GL``</span></span>
<span class="line"><span style="color: #e1e4e8"> Defined if the system has OpenGL.</span></span>
<span class="line"><span style="color: #e1e4e8">``OpenGL::GLU``</span></span>
<span class="line"><span style="color: #e1e4e8"> Defined if the system has GLU.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">Result Variables</span></span>
<span class="line"><span style="color: #e1e4e8">^^^^^^^^^^^^^^^^</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">This module sets the following variables:</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">``OPENGL_FOUND``</span></span>
<span class="line"><span style="color: #e1e4e8"> True, if the system has OpenGL.</span></span>
<span class="line"><span style="color: #e1e4e8">``OPENGL_XMESA_FOUND``</span></span>
<span class="line"><span style="color: #e1e4e8"> True, if the system has XMESA.</span></span>
<span class="line"><span style="color: #e1e4e8">``OPENGL_GLU_FOUND``</span></span>
<span class="line"><span style="color: #e1e4e8"> True, if the system has GLU.</span></span>
<span class="line"><span style="color: #e1e4e8">``OPENGL_INCLUDE_DIR``</span></span>
<span class="line"><span style="color: #e1e4e8"> Path to the OpenGL include directory.</span></span>
<span class="line"><span style="color: #e1e4e8">``OPENGL_LIBRARIES``</span></span>
<span class="line"><span style="color: #e1e4e8"> Paths to the OpenGL and GLU libraries.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">If you want to use just GL you can use these values:</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">``OPENGL_gl_LIBRARY``</span></span>
<span class="line"><span style="color: #e1e4e8"> Path to the OpenGL library.</span></span>
<span class="line"><span style="color: #e1e4e8">``OPENGL_glu_LIBRARY``</span></span>
<span class="line"><span style="color: #e1e4e8"> Path to the GLU library.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">OSX Specific</span></span>
<span class="line"><span style="color: #e1e4e8">^^^^^^^^^^^^</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">On OSX default to using the framework version of OpenGL. People will</span></span>
<span class="line"><span style="color: #e1e4e8">have to change the cache values of OPENGL_glu_LIBRARY and</span></span>
<span class="line"><span style="color: #e1e4e8">OPENGL_gl_LIBRARY to use OpenGL with X11 on OSX.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">> cmake --help-module GLUT</span></span>
<span class="line"><span style="color: #e1e4e8">FindGLUT</span></span>
<span class="line"><span style="color: #e1e4e8">--------</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">try to find glut library and include files.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">IMPORTED Targets</span></span>
<span class="line"><span style="color: #e1e4e8">^^^^^^^^^^^^^^^^</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">This module defines the ``IMPORTED`` targets:</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">``GLUT::GLUT``</span></span>
<span class="line"><span style="color: #e1e4e8"> Defined if the system has GLUT.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">Result Variables</span></span>
<span class="line"><span style="color: #e1e4e8">^^^^^^^^^^^^^^^^</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">This module sets the following variables:</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">::</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"> GLUT_INCLUDE_DIR, where to find GL/glut.h, etc.</span></span>
<span class="line"><span style="color: #e1e4e8"> GLUT_LIBRARIES, the libraries to link against</span></span>
<span class="line"><span style="color: #e1e4e8"> GLUT_FOUND, If false, do not try to use GLUT.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">Also defined, but not for general use are:</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">::</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8"> GLUT_glut_LIBRARY = the full path to the glut library.</span></span>
<span class="line"><span style="color: #e1e4e8"> GLUT_Xmu_LIBRARY  = the full path to the Xmu library.</span></span>
<span class="line"><span style="color: #e1e4e8"> GLUT_Xi_LIBRARY   = the full path to the Xi Library.</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">という感じでcmakeに最初から入っているタイプのモジュールはわかる。</span></span>
<span class="line"><span style="color: #e1e4e8">ちなみにFIND_PACKAGEの引数は大文字小文字を区別しないが、結果はただの変数なので区別することに注意。</span></span>
<span class="line"><span style="color: #e1e4e8">${OPENGL_GL_LIBRARY}とかだめですから。</span></span>
<span class="line"><span style="color: #e1e4e8">不安があるときはMESSAGEでプリントデバッグするのが手堅い。</span></span>
<span class="line"><span style="color: #e1e4e8">MESSAGE(STATUS ${OPENGL_gl_LIBRARY})</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">VisualStudioなのでリンクをDebug, Releaseで振り分けたいんだけど</span></span>
<span class="line"><span style="color: #e1e4e8">lib/freeglut.libとdebug/lib/freeglutd.libとか。</span></span>
<span class="line"><span style="color: #e1e4e8">上の例は問答無用でRelease版にリンクされる(glutの場合は、別にfreeglutのデバッグはしないのでそれはそれでよかったりもするが・・・)。プラグマでリンクすればいいやんとなるのだが、link_directoriesにはDebug, Releaseの振り分けはない。Release決め打ちの方がましである。</span></span>
<span class="line"><span style="color: #e1e4e8">TARGET_LINK_LIBRARIESには振り分け機能が実装されている。</span></span>
<span class="line"><span style="color: #e1e4e8">TARGET_LINK_LIBRARIES(hello</span></span>
<span class="line"><span style="color: #e1e4e8">    debug path_to_freeglutd.lib</span></span>
<span class="line"><span style="color: #e1e4e8">    optimized path_to_freeglut.lib</span></span>
<span class="line"><span style="color: #e1e4e8">    )</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">という風に記述できる。で、これを如何にしてFIND_PACKAGEと連携させるのか。</span></span>
<span class="line"><span style="color: #e1e4e8">例としてfreeglut.libとfreeglutd.lib。</span></span>
<span class="line"><span style="color: #e1e4e8">FIND_PACKAGE(OpenGL REQUIRED)</span></span>
<span class="line"><span style="color: #e1e4e8">MESSAGE(STATUS ${OPENGL_LIBRARIES})</span></span>
<span class="line"><span style="color: #e1e4e8">FIND_PACKAGE(GLUT)</span></span>
<span class="line"><span style="color: #e1e4e8">MESSAGE(STATUS ${GLUT_LIBRARY})</span></span>
<span class="line"><span style="color: #e1e4e8">STRING(REPLACE lib/freeglut.lib debug/lib/freeglutd.lib GLUT_LIBRARY_DEBUG ${GLUT_LIBRARY})</span></span>
<span class="line"><span style="color: #e1e4e8">SET(OPENGL_LIBS</span></span>
<span class="line"><span style="color: #e1e4e8">    general ${OPENGL_LIBRARIES}</span></span>
<span class="line"><span style="color: #e1e4e8">    optimized ${GLUT_LIBRARY}</span></span>
<span class="line"><span style="color: #e1e4e8">    debug ${GLUT_LIBRARY_DEBUG}</span></span>
<span class="line"><span style="color: #e1e4e8">    )</span></span>
<span class="line"><span style="color: #e1e4e8">TARGET_LINK_LIBRARIES(hello</span></span>
<span class="line"><span style="color: #e1e4e8">    ${OPENGL_LIBS}</span></span>
<span class="line"><span style="color: #e1e4e8">    )</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">インストールしたパッケージがFindされないんだけど</span></span>
<span class="line"><span style="color: #e1e4e8">alembicなどvcpkgでインストールしたパッケージをVCPKG_DIR/installed/x64-windowsから探索して欲しいのだが方法がよくわからない。</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">CMakeを使ってみた (7) find_packageとpkg_check_modulesによるライブラリ探索</span></span>
<span class="line"><span style="color: #e1e4e8"></span></span>
<span class="line"><span style="color: #e1e4e8">あとで</span></span></code></pre>

				</div>
			</article>
		</main>
		<footer class="footer astro-SZ7XMLTE">
    <nav class="nav astro-SZ7XMLTE">
        <div class="astro-SZ7XMLTE">2021  &copy; Copyright notice |  <a href="https://github.com/one-aalam/astro-ink" title="三次元日誌(astro)'s Github URL'" class="astro-SZ7XMLTE">三次元日誌(astro)</a>
        <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="1QEdto" component-url="/_astro/ModeLabel.e3ff75e7.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-SZ7XMLTE&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ModeLabel&quot;,&quot;value&quot;:true}" await-children=""><span slot="dark" data-svelte-h="svelte-14ov3lc">(dark)</span></astro-island> theme on <a href="https://astro.build/" class="astro-SZ7XMLTE">Astro</a></div>
        <astro-island uid="1I86to" component-url="/_astro/NetlifyIdentity.94b8edb0.js" component-export="default" renderer-url="/_astro/client.cb726945.js" props="{&quot;class&quot;:[0,&quot;astro-SZ7XMLTE&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;NetlifyIdentity&quot;,&quot;value&quot;:true}"></astro-island>
    </nav>
</footer>
	</body></html>