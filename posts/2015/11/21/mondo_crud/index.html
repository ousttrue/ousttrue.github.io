
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>gulpfile.coffeeにタスクを追加 &#8212; 三次元日誌  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/alabaster.css" />
    <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex/" />
    <link rel="search" title="Search" href="../../../../../search/" /> 
   
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
 
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../../../blog/atom.xml"
  title="三次元日誌(ablog)"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
             <p>“シングルページWebアプリケーション”に説明されている
mongodbをバックエンドに、node.js + expressをフロントエンドにする構成のおさらい。
MongoDB &lt;-&gt; node.js Express &lt;-&gt; Browser</p>
<p>グローバルなnpmパッケージ</p>
<blockquote>
<div><p>npm install -g gulp typescript tsd bower</p>
</div></blockquote>
<p>Windowsの場合、</p>
<p>にインストールされるのでパスを通しておく。
Expressの準備
app.js</p>
<blockquote>
<div><p>mkdir mongocrud
cd mongocrud
mongocrud&gt; npm init -y
mongocrud&gt; npm install express –save</p>
</div></blockquote>
<p>// app.js
var http=require(‘http’);
var express=require(‘express’);</p>
<p>var port=process.env.port || 3000;
var app=express();
var server=http.createServer(app);</p>
<p>app.get(‘/’, function(request, response){
response.send(‘Hello Express’);
});</p>
<p>server.listen(port);</p>
<p>起動</p>
<blockquote>
<div><p>node app.js</p>
</div></blockquote>
<p>http://localhost:3000
で動作を確認する。
loggerや静的ファイル提供などのミドルウェアを追加
mongocrud&gt; npm install body-parser method-override connect-logger errorhandler serve-static –save</p>
<p>// app.js
// app.getの前
var bodyparser=require(‘body-parser’);
var methodoverride = require(‘method-override’);
var logger = require(‘connect-logger’);
var errorhandler = require(‘errorhandler’);
var servestatic = require(‘serve-static’);
var serve_dir=__dirname + “/client”;
console.log(“serve %s”, serve_dir);
app
.use(bodyparser())
.use(methodoverride())
.use(logger())
.use(errorhandler({
dumpExceptioons: true,
showStack: true
}));
.use(servestatic(serve_dir))</p>
<p>gulpで静的なファイルを’./build/client’下にコピーするタスクを定義する</p>
<section class="tex2jax_ignore mathjax_ignore" id="gulpfile-coffee">
<h1>gulpfile.coffeeにタスクを追加<a class="headerlink" href="#gulpfile-coffee" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="client">
<h1>client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id2">
<h1><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h1>
<p>gulp.task ‘client’, -&gt;
gulp.src config.src_client
.pipe gulp.dest config.dst_client
.pipe browserSync.stream()</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tasks">
<h1>tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">¶</a></h1>
<p>gulp.task ‘watch’, -&gt;
gulp.watch config.src_ts, [‘ts’]
gulp.watch config.src_client, [‘client’]</p>
<p>gulpでサーバー起動とブラウザの自動オープンタスクを定義する
いろいろ入用になるのでgulpを準備する。
まずは、nodemonとbrowser-syncを導入して
app.js起動と起動したアプリをブラウザで自動で開くタスクを定義する。
mongocrud&gt; npm install gulp gulp-load-plugins gulp-nodemon browser-sync -D</p>
<p>// gulpfile.js
var gulp = require(‘gulp’);
var $ = require(“gulp-load-plugins”)();
var browserSync = require(“browser-sync”).create();
var port = 5000;</p>
<p>gulp.task(‘serve’, function () {
$.nodemon({
script: ‘app.js’,
exp: ‘js’,
ignore: [],
env: {
port: port
}
})
.on(‘restart’, function () { browserSync.reload(); });
});</p>
<p>gulp.task(‘browser-sync’, [‘serve’], function () {
browserSync.init({
proxy: “localhost:” + port
});
});</p>
<p>gulp.task(‘default’, [‘browser-sync’]);</p>
<p>BrowserSyncのReloadが動くには出力がhtmlである必要がある(bodyタグの中に細工をするため)。
// app.jsの修正
app.get(‘/’, function(request, response){
response.setHeader(‘content-type’, ‘text/html’);
response.send(’<html><head></head><body>Hello html</body></html>’);
});</p>
<p>mongocrud&gt; gulp</p>
<p>でnodemonが起動してブラウザが自動で開始される。
app.jsの内容を変えるとブラウザがリロードされる。
が、リロードが速すぎて内容が更新されないことが判明。
リロードを遅延させる策を講じる。
// app.jsの最後尾に追加
console.log(‘start %d’, port);</p>
<p>app.jsからのコンソール出力を監視する。
// gulpfile.jsの修正</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$.nodemon({
    script: config.app_entry,
    exp: &#39;js&#39;,
    ignore: [],
    env: {
        port: config.app_port
    },
    stdout: false // &lt;- 必要
})
//.on(&#39;restart&#39;, function () { browserSync.reload(); });
.on(&#39;readable&#39;, function(){
    this.stdout.on(&#39;data&#39;, function(chunk){
        if (/^start /.test(chunk)){
            console.log(&#39;reloading...&#39;);
            browserSync.reload();
        }
        process.stdout.write(chunk);
    });
});
</pre></div>
</div>
<p>gulpfile.jsをgulpfile.coffeeにする
gulpcrud&gt; npm install coffee-script -D</p>
<p>gulpfile.jsを書き換える。gulp-3.9.0では既にcoffee script対応が成されているようで、
gulpfile.jsの拡張子を変えてgulpfile.coffeeとリネームして中身を書き換えてから
mongocrud&gt; gulp</p>
<p>としたら特にオプション等を指定することなくgulpはgulpfile.coffeeを見つけてくれて動いた。</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id3">
<h1>gulpfile.coffee<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h1>
<p>gulp = require(‘gulp’);
$ = require(“gulp-load-plugins”)();
browserSync = require(“browser-sync”).create();
port = 5000;</p>
<p>gulp.task ‘serve’, -&gt;
$.nodemon({
script: ‘app.js’,
exp: ‘js’,
ignore: [],
env: {
port: port
}
})
.on ‘readable’, -&gt;
this.stdout.on ‘data’, (chunk) -&gt;
if (/^start /.test(chunk))
console.log(‘reloading…’)
browserSync.reload()
process.stdout.write(chunk);</p>
<p>gulp.task ‘browser-sync’, [‘serve’], -&gt;
browserSync.init({
proxy: “localhost:” + port
})</p>
<p>gulp.task(‘default’, [‘browser-sync’]);</p>
<p>TypeScriptにする
app.jsをsrc/app.tsに移動する。
// src/app.ts
declare function require(name: string):any;
declare var process;</p>
<p>var http=require(‘http’);
var express=require(‘express’);</p>
<p>var port=process.env.port || 3000;
var app=express();
var server=http.createServer(app);</p>
<p>app.get(‘/’, function(request, response){
response.setHeader(‘content-type’, ‘text/html’);
response.send(’<html><head></head><body>Hello</body></html>’);
});</p>
<p>server.listen(port);
console.log(‘start %d’, port);</p>
<p>コンパイルが通るようにアンビエント宣言を追加した。
gulpにコンパイルタスクを定義する。
serveタスクの前にtsタスクを実行し、
tsファイルの更新をwatchしてtsタスクを起動するように調整した。</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id4">
<h1>gulpfile.coffee<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h1>
<p>gulp = require(‘gulp’);
$ = require(“gulp-load-plugins”)();
browserSync = require(“browser-sync”).create();</p>
<p>config = {
src_ts: ‘./src/<strong>/*.ts’,<br />
dst_js_dir: ‘./build/js’,
dst_watch: ‘./build/</strong>/*.js’,
app_entry: ‘./build/js/app.js’,
app_port: 5000
}</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id5">
<h1><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="compile-typescript">
<h1>compile typescript<a class="headerlink" href="#compile-typescript" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id6">
<h1><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h1>
<p>gulp.task ‘ts’, -&gt;
gulp.src config.src_ts
.pipe $.typescript({
target: ‘ES6’
removeComments: true
}).js
.pipe gulp.dest config.dst_js_dir</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id7">
<h1><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="start-js-app">
<h1>start js app<a class="headerlink" href="#start-js-app" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id8">
<h1><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h1>
<p>gulp.task ‘serve’, [‘ts’], -&gt;
$.nodemon({
script: config.app_entry,
exp: ‘js’,
ignore: [],
env: {
port: config.app_port
},
stdout: false
})
#.on ‘restart’, -&gt;
#    browserSync.reload();
.on ‘readable’, -&gt;
this.stdout.on ‘data’, (chunk) -&gt;
if (/^start /.test(chunk))
console.log(‘reloading…’)
browserSync.reload()
process.stdout.write(chunk);</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id9">
<h1><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="start-browser-sync">
<h1>start browser-sync<a class="headerlink" href="#start-browser-sync" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id10">
<h1><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h1>
<p>gulp.task ‘browser-sync’, [‘serve’], -&gt;
browserSync.init({
proxy: “http://localhost:” + config.app_port
})</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id11">
<h1>tasks<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h1>
<p>gulp.task ‘watch’, -&gt;
gulp.watch config.src_ts, [‘ts’]</p>
<p>gulp.task(‘default’, [‘watch’, ‘browser-sync’]);</p>
<p>typescriptを型安全にする
コンパイラオプションを定義するtsconfig.jsonを生成する(要tsc-1.6以上)。
mongocrud&gt; tsc –init</p>
<p>手で作ってもよし
tsconfig.json
{
“compilerOptions”: {
“module”: “commonjs”,
“target”: “es5”,
“noImplicitAny”: true,
“outDir”: “build”,
“rootDir”: “.”,
“sourceMap”: false
},
“filesGlob”: [
“./typings/<strong>/*.d.ts”,
“./src/</strong>/*.ts”
]
}</p>
<p>VSCodeの場合、tsconfig.jsonを変えたらVSCodeを再起動するべし。
filesGlobは必要で、無いとインテリセンスが遅くなる(Loading…)。
tsタスクがtsconfig.jsonを使うようにする。</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id12">
<h1>gulpfile.coffee<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h1>
<p>gulp.task ‘ts’, -&gt;
tsconfig = require(‘tsconfig.json’)<br />
gulp.src config.src_ts
.pipe $.typescript(tsconfig.compilerOptions).js
.pipe gulp.dest config.dst_js_dir</p>
<p>tsdを初期化して、node.jsとexpressのtypescript定義を取得する。
mongocrud&gt; tsd init
mongocrud&gt; tsd query node express -rosa install</p>
<p>src/app.ts
/// <reference path="../typings/tsd.d.ts" />
import http = require(‘http’);
import express=require(‘express’);</p>
<p>var port=process.env.port || 3000;
var app=express();
var server=http.createServer(app);</p>
<p>app.get(‘/’, (request, response) =&gt; {
response.setHeader(‘content-type’, ‘text/html’);
response.send(’<html><head></head><body>Hello ts</body></html>’);
});</p>
<p>server.listen(port);
console.log(‘start %d’, port);</p>
<p>MongoDBのCRUDを定義する
mongodbをインストールする。
Windowsの場合、MongoDBがデフォルトの”Program Files”にインストールされるとパスにスペースが入って
gulpからの起動時にエスケープと戦う必要が生じるので、
C:\MongoDB</p>
<p>にインストールした。
gulpでmongodbを起動する
mongocrud&gt; npm i sprintf-js -D</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id13">
<h1>gulpfile.coffee<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h1>
<p>MONGO_EXE = ‘C:/MongoDB/bin/mongod.exe’;</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id14">
<h1><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="running-mongo">
<h1>Running mongo<a class="headerlink" href="#running-mongo" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id15">
<h1><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="http-stackoverflow-com-a-28048696-46810">
<h1>http://stackoverflow.com/a/28048696/46810<a class="headerlink" href="#http-stackoverflow-com-a-28048696-46810" title="Permalink to this headline">¶</a></h1>
<p>sprintf = require(‘sprintf-js’).sprintf;
fs = require(‘fs’);
exec = require(‘child_process’).exec;
gulp.task ‘mongodb:start’, (cb)-&gt;
command=sprintf(‘%s –dbpath %s’
, MONGO_EXE, config.mongo_data);
if(!fs.existsSync(config.mongo_data))
fs.mkdirSync(config.mongo_data);
exec command, (err, stdout, stderr) -&gt;
console.log(stdout);
console.log(stderr);
cb();</p>
<p>app.tsからmongodbにアクセスする
mongocrud&gt; npm install mongodb –save
mongocrud&gt; tsd query mongodb -rosa install</p>
<p>src/app.ts
/// <reference path="../typings/tsd.d.ts" /></p>
<p>// mongodb
import mongodb = require(‘mongodb’);
let mongoServer = new mongodb.Server(
‘localhost’, 27017
);
let dbHandle = new mongodb.Db(
‘crud’, mongoServer, {w: 1}
);
dbHandle.open(()=&gt;{
console.log(“connected to mongoDB”);
});</p>
<p>// http
import http = require(‘http’);
import express = require(‘express’);
let port = process.env.port || 3000;
let app = express();
let server = http.createServer(app);
app.get(‘/’, (request, response) =&gt; {
response.setHeader(‘content-type’, ‘text/html’);
response.send(’<html><head></head><body>Hello ts</body></html>’);
});</p>
<p>server.listen(port);
console.log(‘start %d’, port);</p>
<p>CRUDを定義する
Creating a REST API using Node.js, Express, and MongoDB
を参考に実装。
src/app.tsのデータにアクセスする部分をsrc/mongodb.tsに分離した。
src/app.ts
/// <reference path="../typings/tsd.d.ts" />
import mongocrud = require(‘./mongocrud’);</p>
<p>//
// Express
//
import http = require(‘http’);
import express = require(‘express’);</p>
<p>let port = process.env.port || 3000;
let app = express();
let server = http.createServer(app);</p>
<p>let bodyparser=require(‘body-parser’);
let methodoverride = require(‘method-override’);
let logger = require(‘connect-logger’);
let errorhandler = require(‘errorhandler’);
app
.use(bodyparser())
.use(methodoverride())
.use(logger())
.use(errorhandler({
dumpExceptioons: true,
showStack: true
}));</p>
<p>app.get(‘/’, (request, response) =&gt; {
response.setHeader(‘content-type’, ‘text/html’);
response.send(’<html><head></head><body>Hello ts</body></html>’);
});
server.listen(port);</p>
<p>// restful
app.all(‘/api/:obj_type/*’, (req, res, next)=&gt;{
res.contentType(‘json’);
next();
});
app.get(‘/api/:obj_type’, mongocrud.findAll);
app.get(‘/api/:obj_type/:id’, mongocrud.findById);
app.post(‘/api/:obj_type’, mongocrud.add);
app.put(‘/api/:obj_type/:id’, mongocrud.update);
app.delete(‘/api/:obj_type/:id’, mongocrud.del);</p>
<p>// launchded
console.log(‘start %d’, port);</p>
<p>src/mongocrud.ts
/// <reference path="../typings/tsd.d.ts" />
//
// MongoDB
//
import mongodb = require(‘mongodb’);
let mongoServer = new mongodb.Server(
‘localhost’, 27017
);
let db = new mongodb.Db(
‘crud’, mongoServer, { w: 1 }
);
db.open(() =&gt; {
console.log(“connected to mongoDB”);
populateDB();<br />
});</p>
<p>//
// CRUD
//
import express = require(‘express’);
export var findById = (req: express.Request, res: express.Response) =&gt; {
let obj_type = req.params.obj_type;
let id = req.params.id;
console.log(‘Retrieving %s: %s’, obj_type, id);
db.collection(obj_type, (err, collection) =&gt; {
collection.findOne({ ‘_id’: new mongodb.ObjectID(id) }, (err, item) =&gt; {
res.send(item);
});
});
};</p>
<p>export var findAll = (req: express.Request, res: express.Response) =&gt; {
let obj_type = req.params.obj_type;
db.collection(obj_type, (err, collection) =&gt; {
collection.find().toArray((err, items) =&gt; {
res.send(items);
});
});
};</p>
<p>export var add = (req: express.Request, res: express.Response) =&gt; {
let obj_type = req.params.obj_type;
let body = req.body;
console.log(‘Adding %s: %s’, obj_type, JSON.stringify(body));
db.collection(obj_type, (err, collection) =&gt; {
collection.insert(body, { safe: true }, (err, result) =&gt; {
if (err) {
res.send({ ‘error’: ‘An error has occurred’ });
} else {
console.log(‘Success: ‘ + JSON.stringify(result[0]));
res.send(result[0]);
}
});
});
}</p>
<p>export var update = (req: express.Request, res: express.Response) =&gt; {
let obj_type = req.params.obj_type;
let id = req.params.id;
let body = req.body;
console.log(‘Updating %s: %s’, obj_type, id);
console.log(JSON.stringify(body));
db.collection(‘wines’, (err, collection) =&gt; {
collection.update({ ‘_id’: new mongodb.ObjectID(id) },
body, { safe: true }, (err, result) =&gt; {
if (err) {
console.log(‘Error updating wine: ‘ + err);
res.send({ ‘error’: ‘An error has occurred’ });
} else {
console.log(‘%s document(s) updated’, result);
res.send(body);
}
});
});
}</p>
<p>export function del(req: express.Request, res: express.Response){
let obj_type = req.params.obj_type;
var id = req.params.id;
console.log(‘Deleting %s: %s’, obj_type, id);
db.collection(obj_type, (err, collection) =&gt; {
collection.remove({ ‘_id’: new mongodb.ObjectID(id) },
{ safe: true }, (err, result) =&gt; {
if (err) {
res.send({ ‘error’: ‘An error has occurred - ‘ + err });
} else {
console.log(‘%s document(s) deleted’, result);
res.send(req.body);
}
});
});
}</p>
<p>// Populate database with sample data – Only used once: the first time the application is started.
// You’d typically not find this code in a real-life app, since the database would already exist.
function populateDB() {
console.log(‘populateDB…’);</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>var wines = [
    {
        name: &quot;CHATEAU DE SAINT COSME&quot;,
        year: &quot;2009&quot;,
        grapes: &quot;Grenache / Syrah&quot;,
        country: &quot;France&quot;,
        region: &quot;Southern Rhone&quot;,
        description: &quot;The aromas of fruit and spice...&quot;,
        picture: &quot;saint_cosme.jpg&quot;
    },
    {
        name: &quot;LAN RIOJA CRIANZA&quot;,
        year: &quot;2006&quot;,
        grapes: &quot;Tempranillo&quot;,
        country: &quot;Spain&quot;,
        region: &quot;Rioja&quot;,
        description: &quot;A resurgence of interest in boutique vineyards...&quot;,
        picture: &quot;lan_rioja.jpg&quot;
    }];

db.collection(&#39;wines&#39;, (err, collection) =&gt; {
    collection.find().toArray((err, items) =&gt; {
        if(items.length==0){
            // if empty
            console.log(&#39;insert wines: &#39; + JSON.stringify(wines));
            db.collection(&#39;wines&#39;, function(err, collection) {
                collection.insert(wines, { safe: true }, function(err, result) { });
            });
        }
    });
});
</pre></div>
</div>
<p>};</p>
<p>ブラウザ向けのGUIを作る
ざっくりレイアウト</p>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/client.js"></script>
</head>
<body>
<div class="header">
    <form action="select">
        <span class="label">collection name</span>
        <input type="text">
        <button>Select</button>
    </form>
</div>
<div class="body">
    <div class="left">
        <div class="list">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    &lt;/div&gt;
    &lt;form action=&quot;add&quot;&gt;
        &lt;button&gt;Add&lt;/button&gt;
    &lt;/form&gt;
&lt;/div&gt;
&lt;div class=&quot;right&quot;&gt;
    &lt;form&gt;
        &lt;textarea name=&quot;detail&quot;&gt;
        &lt;/textarea&gt;
        &lt;button&gt;Load&lt;/button&gt;
        &lt;button&gt;Save&lt;/button&gt;
    &lt;/form&gt;
&lt;/div&gt;
</pre></div>
</div>
</div>
<div class="footer">
    <ul class="log">
    </ul>
</div>
</body>
</html>
<ul class="simple">
<li><p>{
margin: 0;
padding: 0;
}</p></li>
</ul>
<p>html{
font-size: 62.5%;
}</p>
<p>*, *::before, *::after {
box-sizing: border-box;
}</p>
<p>.header{
position: absolute;
top: 0;
left: 0;
right: 0;
height: 64px;
background-color: #faa;
}
.body{
position: absolute;
top: 64px;
left: 0;
right: 0;
bottom: 128px;
background-color: #afa;
}
.body .left {
position: absolute;
left: 0;
width: 200px;
top: 0;
bottom: 0;
background-color: #282;
}
.body .right {
position: absolute;
left: 200px;
right: 0;
top: 0;
bottom: 0;
background-color: #828;<br />
}
.footer{
position: absolute;
left: 0;
right: 0;
bottom: 0;
height: 128px;
background-color: #aaf;
}</p>
<p>alert(‘hello’);</p>
<p>jqueryを追加
mongocrud&gt; cd client
mongocrud/client&gt; bower init
mongocrud/client&gt; bower install jquery –save</p>
<p>まとまりが無くなってきた。
別のページに整理しなおそう。
あとから、coffee-scriptやtypescritpを導入すると手順としては冗長になりすぎるな。
最初から、NoDemon, Express, BrowserSyync, gulpfile.coffee, typescript, scssの構成にしよう。</p>
</section>

<div class="section">
     
<div class="section">
  <span style="float: left">
     Previous:
    
    <a href="../../../../2013/12/08/use_cmake/">
       cmakeを使ってみる(Windowsかつコマンドラインで)
    </a>
    
  </span>
  <span>&nbsp;</span>
  <span style="float: right">
     Next: 
    <a href="../../../12/24/heroku_sokcetio/">
      Node.jsでSocket.IOなアプリをHerokuにデプロイ 
    </a>
    
  </span>
</div>
  
</div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../">三次元日誌</a></h1>








  
<h2>
   
  21 November 2015 
</h2>

<ul>
        
</ul>
<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../pages/about/">About Me</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../pages/books/">books</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../pages/books/#memo">memo…</a></li>
</ul>


<h3>
  <a href="../../../../../blog/">Recent Posts</a>
</h3>
<ul>
   
  <li>
    <a href="../../../../2021/winter/python_imgui/"
      >20 December - imgui の python バインディングをまた作る</a
    >
  </li>
  
  <li>
    <a href="../../../../2021/winter/ablog/"
      >20 December - SSGをABlogに変更</a
    >
  </li>
  
  <li>
    <a href="../../../../2021/winter/python_typing_stub/"
      >12 December - python の型ヒント</a
    >
  </li>
  
  <li>
    <a href="../../../../2021/winter/cindex/"
      >04 December - libclang で 言語バインディングを作る</a
    >
  </li>
  
  <li>
    <a href="../../../../2021/fall/ktx2/"
      >21 November - ktx2 情報収集</a
    >
  </li>
  
</ul>

<h3><a href="../../../../../blog/tag/">Tags</a></h3>
<style type="text/css">
  ul.ablog-cloud {
    list-style: none;
    overflow: auto;
  }
  ul.ablog-cloud li {
    float: left;
    height: 20pt;
    line-height: 18pt;
    margin-right: 5px;
  }
  ul.ablog-cloud a {
    text-decoration: none;
    vertical-align: middle;
  }
  li.ablog-cloud-1 {
    font-size: 80%;
  }
  li.ablog-cloud-2 {
    font-size: 95%;
  }
  li.ablog-cloud-3 {
    font-size: 110%;
  }
  li.ablog-cloud-4 {
    font-size: 125%;
  }
  li.ablog-cloud-5 {
    font-size: 140%;
  }
</style>
<ul class="ablog-cloud">
   
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/opengl/">"OpenGL"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/asio/">"asio"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/c/">"c++"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/com/">"com"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/cpp/">"cpp"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/cpp/">"cpp"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/css/">"css"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/cython/">"cython"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/cython/">"cython"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../../../../../blog/tag/dap/">"dap"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/dlang/">"dlang"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/ffi/">"ffi"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/ffi/">"ffi"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/imgui/">"imgui"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/imgui/">"imgui"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/libclang/">"libclang"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/libclang/">"libclang"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/lsp/">"lsp"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/lsp/">"lsp"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/lua/">"lua"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/lua/">"lua"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../../../../../blog/tag/luajit/">"luajit"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/msgpack/">"msgpack"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/nvim/">"nvim"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/opengl/">"opengl"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/python/">"python"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/python/">"python"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/qt/">"qt"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/rust/">"rust"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/sphinx/">"sphinx"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/ssg/">"ssg"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/ssg/">"ssg"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/vim/">"vim"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/vscode/">"vscode"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/wsl/">"wsl"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/3d/">["3D"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/opengl/">["OpenGL"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/blender/">["blender"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/blender/">["blender"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/clang/">["clang"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/cpp/">["cpp"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/gltf/">["gltf"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/imgui/">["imgui"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../../../../../blog/tag/lua/">["lua"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/lua/">["lua"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/luajit/">["luajit"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/mdbook/">["mdbook"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/msys2/">["msys2"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../../../../../blog/tag/nvim/">["nvim"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/nvim/">["nvim"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../../../../../blog/tag/python/">["python"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-5">
    <a href="../../../../../blog/tag/python/">["python"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/rust/">["rust"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/sq/">["sq"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/ssg/">["ssg"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-2">
    <a href="../../../../../blog/tag/vim/">["vim"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-3">
    <a href="../../../../../blog/tag/vim/">["vim"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/wayland/">["wayland"</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/wsl/">["wsl"]</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../../../../../blog/tag/zola/">["zola"</a>
  </li>
   
</ul>

<h3>
  <a href="../../../../../blog/archive/">Archives</a>
</h3>
<ul>
   
  <li>
    <a href="../../../../../blog/2021/">2021 (38)</a>
  </li>
    
  <li>
    <a href="../../../../../blog/2020/">2020 (2)</a>
  </li>
    
  <li>
    <a href="../../../../../blog/2019/">2019 (24)</a>
  </li>
    
  <li>
    <a href="../../../../../blog/2017/">2017 (15)</a>
  </li>
    
  <li>
    <a href="../../../../../blog/2016/">2016 (1)</a>
  </li>
    
  <li>
    <a href="../../../../../blog/2015/">2015 (2)</a>
  </li>
    
  <li>
    <a href="../../../../../blog/2013/">2013 (12)</a>
  </li>
    
  <li>
    <a href="../../../../../blog/2012/">2012 (1)</a>
  </li>
   
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, ousttrue.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../../../_sources/posts/2015/11/21/mondo_crud.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>