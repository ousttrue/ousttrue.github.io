<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../assets/js/all-nocdn.js"></script><title>Github Pages の種類 | 三次元日誌</title>
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../" title="三次元日誌" rel="home">
            <span id="blog-title">三次元日誌</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../archive.html">Archives</a></li>
<li><a href="../../../categories/index.html">Tags</a></li>
<li><a href="../../../rss.xml">RSS feed</a></li>
<li><a href="../../../about">About</a></li>
<li><a href="../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">Github Pages の種類
    </a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2020-07-20T13:50:17+09:00" title="2020-07-20">2020-07-20</time>
</li>
</ul>
</h1>

<div>
<p>https://docs.github.com/ja/github/working-with-github-pages/about-github-pages</p>
<h3>プロジェクトサイト (gh-pages)</h3>
<p>各プロジェクトに作れる。</p>
<p>URLは、<code>http(s)://&lt;user&gt;.github.io/&lt;repository&gt;</code></p>
<p>各リポジトリの、 <code>gh-pages</code> ブランチでサイトをホストする。
hugo で運用するなら、
<code>master</code> ブランチに hugo project を commit する。
hugo のビルド結果を <code>gh-pages</code> に commit する。
手間を省くために <code>master</code> への push をトリガーに <code>travis-CI</code> 等で自動でビルドして、結果を gh-pages に push する。</p>
<pre class="code literal-block"><span></span># .travis.yml
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN  # Set in the settings page of your repository, as a secure variable
  keep_history: true
  target_branch: gh-pages # default
  local-dir: public
  on:
    branch: master # master branch が push されたのをトリガーに public フォルダを gh-pages ブランチに pushする
</pre>

<h3>ユーザーサイト</h3>
<p>ユーザー毎にひとつだけ作ることのできるリポジトリ。</p>
<p>URLは、<code>http(s)://&lt;user&gt;.github.io</code> 。</p>
<p>これ、<code>gh-pages</code> と URL が重複するときがありそうな。</p>
<p>repository <code>${user_name}.github.io</code> の場合 <code>master</code> が <code>gh-pages</code> の役割を果たす。
この名前にすると、サイトをホストする用の特殊なリポジトリになる様子。</p>
<p>hugo で運用するなら <code>gh-pages</code> ブランチ運用と逆になる。</p>
<pre class="code literal-block"><span></span><span class="n">deploy</span><span class="o">:</span>
  <span class="n">provider</span><span class="o">:</span> <span class="n">pages</span>
  <span class="n">skip_cleanup</span><span class="o">:</span> <span class="kc">true</span>
  <span class="n">github_token</span><span class="o">:</span> <span class="n">$GITHUB_TOKEN</span>  <span class="err">#</span> <span class="n">Set</span> <span class="k">in</span> <span class="n">the</span> <span class="n">settings</span> <span class="n">page</span> <span class="n">of</span> <span class="n">your</span> <span class="n">repository</span><span class="o">,</span> <span class="k">as</span> <span class="n">a</span> <span class="n">secure</span> <span class="n">variable</span>
  <span class="n">keep_history</span><span class="o">:</span> <span class="kc">true</span>
  <span class="n">target_branch</span><span class="o">:</span> <span class="n">master</span>
  <span class="n">local_dir</span><span class="o">:</span> <span class="kd">public</span>
  <span class="n">on</span><span class="o">:</span>
    <span class="n">branch</span><span class="o">:</span> <span class="n">hugo</span> <span class="err">#</span> <span class="n">hugo</span> <span class="n">branch</span> <span class="err">が</span> <span class="n">push</span> <span class="err">されたのをトリガーに</span> <span class="kd">public</span> <span class="err">フォルダを</span> <span class="n">master</span> <span class="err">ブランチに</span><span class="n">pushする</span>
</pre>

<p>default branch を hugo の方に変えてから、git clone すると作業しやすい。</p>
</div>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../../../github/w3m/" rel="prev" title="w3m">
            w3m 👈
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../../../github/ousttruegithubio/" rel="next" title="ousttrue.github.io">
            👉 ousttrue.github.io
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
