<!DOCTYPE html>
<html><body>
    <h1 id="brand">
        <a href="../../../../" title="三次元日誌" rel="home">
            <span id="blog-title">三次元日誌</span>
        </a>
    </h1>
    <hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">hugoでmapを使ってpartialに追加の変数を渡す</a>
</h1>
<div>
<p>hugoのrange内のpartialから.Siteにアクセスできなくて困ったので、代替する方法を探した。</p>
<p>こんな感じ。
config.tomlでSite.Params.tagiconsを定義。
[Params.tagicons]
python = "icon-python"
tinkerer = "icon-python"
gulp = "icon-gulp"
ruby = "icon-ruby"
heroku = "icon-heroku"</p>
<p>partial呼び出し。
{{ range .Params.tags }} 
    {{ partial "tags.html" (dict "tag" . "icons" $.Site.Params.tagicons) }}
{{ end }}</p>
<p>partialで使う。
<i class="{{ index .icons .tag }}" aria-hidden="true"></i>
{{ .tag }}</p>
<p>http://gohugo.io/templates/functions/#dict</p>
</div>
    </main>
</body></html>
