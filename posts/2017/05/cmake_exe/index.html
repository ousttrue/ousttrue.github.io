<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../../assets/js/all-nocdn.js"></script><title>msbuildã¨cmakeã®åœ¨ã‚Šã‹ | ä¸‰æ¬¡å…ƒæ—¥èªŒ</title>
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../../" title="ä¸‰æ¬¡å…ƒæ—¥èªŒ" rel="home">
            <span id="blog-title">ä¸‰æ¬¡å…ƒæ—¥èªŒ</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../../archive.html">Archives</a></li>
<li><a href="../../../../categories/index.html">Tags</a></li>
<li><a href="../../../../rss.xml">RSS feed</a></li>
<li><a href="../../../../about">About</a></li>
<li><a href="../../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">msbuildã¨cmakeã®åœ¨ã‚Šã‹
    </a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2017-05-28T00:00:00+09:00" title="2017-05-28">2017-05-28</time>
</li>
</ul>
</h1>

<div>
<p>batä½œã‚‹ã¨ãã«ãŸã¾ã«ä½¿ã†
cmake.exeã¨msbuild.exeã®åœ¨ã‚Šã‹ã«ã¤ã„ã¦</p>
<p>VisualStudio2017å†…ã®cmake.exe
VisualStudio2017ã«åŒæ¢±ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸcmakeã®ãƒ‘ã‚¹ã«ã¤ã„ã¦ã€‚
ä»¥ä¸‹ã®ãƒ‘ã‚¹ã«å­˜åœ¨ã™ã‚‹ã€‚
C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe
versionç¢ºèª
PS&gt; &amp;"C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe" --version
cmake version 3.6.20160606-g0391f-MSVC</p>
<p>CMake suite maintained and supported by Kitware (kitware.com/cmake).</p>
<p>ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰ãƒ‘ã‚¹ã‚’å¾—ã‚‹
ã‚·ã‚¹ãƒ†ãƒ ãƒ‰ãƒ©ã‚¤ãƒ–ã®å®¹é‡ç¯€ç´„ã®ãŸã‚VSã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‘ã‚¹ã‚’å¤‰æ›´ã—ã¦ã„ã‚‹å ´åˆã«å¿…è¦ã ã£ãŸã€‚
regã‚³ãƒãƒ³ãƒ‰ã§ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§å€¤ã‚’å¾—ã‚‹ã€‚</p>
<blockquote>
<p>reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VisualStudio\SxS\VS7" /v "15.0"</p>
</blockquote>
<p>HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VisualStudio\SxS\VS7
    15.0    REG_SZ    C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\</p>
<p>cmakeå‘¼ã³å‡ºã—bat
cmake_vs2017.bat
@echo off
FOR /F "TOKENS=1,2,*" %%A IN ('reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VisualStudio\SxS\VS7" /v "15.0"') DO IF "%%A"=="15.0" SET VSPATH=%%C
@echo on</p>
<p>set CMAKE="%VSPATH%\Common7\IDE\CommonExtensions\Microsoft\CMake\CMake\bin\cmake.exe"
set BUILD_DIR="build_vs2017"</p>
<p>if not exist %BUILD_DIR% mkdir %BUILD_DIR%
pushd %BUILD_DIR%
%CMAKE% -D CMAKE_INSTALL_PREFIX=%VCPKG_DIR%/installed/x64-windows -D OpenCVDir=%VCPKG_DIR%/installed/x64-windows/share/opencv .. -G "Visual Studio 15 2017 Win64"
popd</p>
<p>ä½¿ç”¨ä¾‹</p>
<p>https://github.com/ousttrue/msgpackpp/blob/master/cmake_vs2017.bat</p>
<p>VisualStudio2017å†…ã®msbuild
C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/MSBuild/15.0/Bin/msbuild.exe
ãªã®ã§</p>
<blockquote>
<p>reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VisualStudio\SxS\VS7" /v "15.0"</p>
</blockquote>
<p>HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VisualStudio\SxS\VS7
    15.0    REG_SZ    C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\</p>
<p>ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨å¾—ã‚‰ã‚Œã‚‹ã€‚
@echo off
FOR /F "TOKENS=1,2,*" %%A IN ('reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\VisualStudio\SxS\VS7" /v "15.0"') DO IF "%%A"=="15.0" SET VSPATH=%%C
@echo on</p>
<p>set MSBUILD="%VSPATH%\MSBuild\15.0\Bin\msbuild.exe"</p>
<p>VisualStudio2015å†…ã®msbuild</p>
<p>https://github.com/Microsoft/HoloToolkit-Unity/blob/master/Assets/HoloToolkit/Build/Editor/BuildDeployTools.cs#L72</p>
<p>ãƒ¬ã‚¸ã‚¹ãƒˆãƒª
HKLM\Software\Microsoft\MSBuild\ToolsVersions\14.0
ã‹ã‚‰å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
@echo off
FOR /F "TOKENS=1,2,*" %%A IN ('reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSBuild\ToolsVersions" /v "14.0"') DO IF "%%A"=="14.0" SET MSBUILDPATH=%%C
@echo on</p>
<p>set MSBUILD="%MSBUILDPATH%\msbuild.exe"</p>
</div>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../headeronly_msgpack/" rel="prev" title="Header-Onlyã®MessagePackå®Ÿè£…ã¨msgpack-rpc-asioã®æ›´æ–°">
            Header-Onlyã®MessagePackå®Ÿè£…ã¨msgpack-rpc-asioã®æ›´æ–° ğŸ‘ˆ
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../cmake_compileoptions/" rel="next" title="cmakeãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ">
            ğŸ‘‰ cmakeãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
