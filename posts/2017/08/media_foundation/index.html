<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../../assets/js/all-nocdn.js"></script><title>MeidaFoundationæƒ…å ±åé›† | ä¸‰æ¬¡å…ƒæ—¥èªŒ</title>
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../../" title="ä¸‰æ¬¡å…ƒæ—¥èªŒ" rel="home">
            <span id="blog-title">ä¸‰æ¬¡å…ƒæ—¥èªŒ</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../../archive.html">Archives</a></li>
<li><a href="../../../../categories/index.html">Tags</a></li>
<li><a href="../../../../rss.xml">RSS feed</a></li>
<li><a href="../../../../about">About</a></li>
<li><a href="../../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">MeidaFoundationæƒ…å ±åé›†
    </a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2017-08-25T00:00:00+09:00" title="2017-08-25">2017-08-25</time>
</li>
</ul>
</h1>

<div>
<p>DirectShowå¾Œç¶™ã®å‹•ç”»ãƒ»éŸ³å£°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚</p>
<p>sampleã®ã‚ã‚Šã‹</p>
<p>https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/mediafoundation</p>
<p>Win7Samplesã«æ°—ä»˜ã‹ãšãƒ»ãƒ»ãƒ»
ã¯ã˜ã‚ã®ä¸€æ­©
ã“ã“ã‹ã‚‰å§‹ã‚ã‚‹ã®ãŒã‚ˆã„ã€‚</p>
<p>Audio/Video Playback</p>
<p>How to Play Media Files with Media Foundation</p>
<p>Media Session Playback Exampleã€‚ã‚½ãƒ¼ã‚¹ã‚ã‚Š</p>
<p>MediaSessionPlaybackExampleã§å‹•ç”»ã‚’é–‹ãã¨ã“ã‚“ãªæ„Ÿã˜ã®Topologyã«ãªã‚‹ã€‚
å‹•ç”»(MediaSource)---&gt;video-&gt; EVR(MediaSink)
                 |
                 +-&gt;audio-&gt; SAR(MediaSink)</p>
<p>MediaSourceã¨MediaSinkã‚’ä½œã£ã¦ã¤ãªãã®ãŒMediaFoundationã®åŸºæœ¬æ¦‚å¿µã€‚
CMakeã§ãƒ“ãƒ«ãƒ‰ã§ãã‚‹ã‚ˆã†ã«å–ã‚Šã¾ã¨ã‚ãŸã€‚</p>
<p>https://github.com/ousttrue/MediaFoundationSample/tree/master/MediaSessionPlaybackExample</p>
<p>æ§‹æˆ
DirectShowã¨ã¯é•ã†æ„Ÿã˜ã®ã¨ã“ã‚ãŒã‚ã‚‹ã€‚</p>
<p>IMFMediaSourceãŒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨Demuxerã‚’å†…åŒ…ã—ã¦ã„ã‚‹
ãªã®ã§é€”ä¸­ã§æåˆ†ã‹ã‚Œã™ã‚‹ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€IMFMediaStream -&gt; IMFTransform -&gt; IMFStreamSinkã¨ã„ã†ãƒ©ã‚¤ãƒ³ãŒè¤‡æ•°ã‚ã‚‹æ„Ÿã˜ã«ãªã‚‹ã€‚</p>
<p>+---------------+
|IMFMediaSource |
+---------------+
|+-------------+|
||IMFByteStream||
|+-------------+|                                          VideoRenderer
|  |  |Read     |                                          +------------+
|  |  v         |     (compressed) decoder (uncompressed)  |IMFMediaSink|
|  | +--------------+ IMFSample +------------+ IMFSample +-------------+|
|  | |IMFMediaStream|----------&gt;|IMFTransform|----------&gt;|IMFStreamSink|+
|  v +--------------+           +------------+           +-------------+
| +--------------+              +------------+           +-------------+
| |IMFMediaStream|-------------&gt;|IMFTransform|----------&gt;|IMFStreamSink|+
| +--------------+  IMFSample   +------------+ IMFSample +-------------+|
+---------------+   (compressed)           (uncompressed)  |IMFMediaSink|
                                                           +------------+
                                                           AudioRendrer</p>
<p>TopoEdit</p>
<p>https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/mediafoundation/topoedit
http://blogs.microsoft.co.il/pavely/2011/03/11/introduction-to-topoedit/</p>
<p>ã„ã‚ã‚“ãªAPI
MediaSource(å…¥åŠ›)ã¨MediaSink(å‡ºåŠ›)ã‚’é§†å‹•ã™ã‚‹é«˜ãƒ¬ãƒ™ãƒ«ã®APIãŒè¤‡æ•°ã‚ã‚‹ã€‚
[Obsolete]å¤ã®Player</p>
<p>IMFPMediaPlayer</p>
<p>Important  Deprecated. This API may be removed from future releases of Windows. Applications should use the Media Session for playback.</p>
<p>https://github.com/Microsoft/Windows-classic-samples/blob/master/Samples/Win7Samples/multimedia/mediafoundation/SimplePlay
https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/mediafoundation/MFPlayer2</p>
<p>[Desktop]å†ç”Ÿå‘ã‘ã®Session
Playerå‘ã‘ã®APIã€‚UWPã«ã¯ç„¡ã„ã€‚</p>
<p>Media Session
http://blog.firefly-vj.net/2009/06/01/mediafoundation-play-with-mediasession.html
Media Foundationã®å†ç”Ÿã‚µãƒ³ãƒ—ãƒ«ã®çŠ¶æ…‹ç®¡ç†ã‚’MSMã§è¡Œã†</p>
<p>Topology</p>
<p>Topologies</p>
<p>å¤‰æ›å‘ã‘ã®Reader
ClockãŒå¿…è¦ãªã„ç”¨é€”ã«å‘ã„ã¦ã„ã‚‹ã€‚
å„ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’æœ€é€Ÿã§å‡¦ç†ã—ãŸã„å ´åˆã‚„ã€MediaSourceãŒWebCamã§ã‚ã‚‹å ´åˆãªã©ã€‚</p>
<p>Source Reader
Using the Source Reader to Process Media Data
The Source Reader does not support reverse playback, even if the media source does.
MediaFoundationã§ID3D11Texture2Dã«å‹•ç”»ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’èª­ã¿è¾¼ã‚€ è¦šæ›¸Î²
MediaFoundation â€” å‹•ç”»ã®èª­ã¿è¾¼ã¿</p>
<p>[Desktop][UWP]WinRTã®Engine
Windows.Mediaã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼Ÿã€‚UWPã¨Desktopã®ä¸¡æ–¹ã§ä½¿ãˆã‚‹ã€‚</p>
<p>Supported Microsoft Media Foundation APIs for Windows Phone 8
Walkthrough: Using Microsoft Media Foundation for Windows Phone 8</p>
<p>using a MediaElement control is a much quicker and easier way
You also must use MF if you want to use video as a texture on 3-D geometry</p>
<p>DXVAãŒç°¡å˜ã«ã§ãã‚‹ã€‚ã‚€ã—ã‚UWPã§ã¯DXVAã—ã‹ãªã„æ§˜å­ã€‚æƒ…å ±å°‘ãªã„ã‘ã©ã€‚</p>
<p>Media engine native C++ video playback sample</p>
<p>MediaSource</p>
<p>Media Sources</p>
<p>Writing a Custom Media Source
Case Study: MPEG-1 Media Source</p>
<p>https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/mediafoundation/mpeg1source
https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/mediafoundation/wavsource</p>
<p>Source Resolver</p>
<p>Using the Source Resolver</p>
<p>URL</p>
<p>IMFSourceResolver::CreateObjectFromURL</p>
<p>ByteStream</p>
<p>IMFSourceResolver::CreateObjectFromByteStream</p>
<p>ByteStreamã‚’è‡ªä½œã™ã‚‹
MP3 File Source</p>
<p>https://msdn.microsoft.com/en-us/library/windows/desktop/ff685299(v=vs.85).aspx</p>
<p>MPEG-4 File Source</p>
<p>https://msdn.microsoft.com/en-us/library/windows/desktop/dd757766(v=vs.85).aspx</p>
<p>MediaSink</p>
<p>Media Sinks</p>
<p>EVR</p>
<p>Enhanced Video Renderer
MediaSink
HWNDã‚’æ¸¡ã—ã¦Windowã«æç”»ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã€‚
Presenterã‚’è‡ªä½œã—ã¦æç”»ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹ã€‚
D3D9 ?
EVR ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ¬ã‚¼ãƒ³ã‚¿ã‚’å®Ÿè£…ã™ã‚‹</p>
<p>SAR</p>
<p>Streaming Audio Renderer</p>
<p>AudioSinkè‡ªä½œ</p>
<p>https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/multimedia/mediafoundation/wavsink</p>
<p>VideoSinkè‡ªä½œ</p>
<p>https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DX11VideoRenderer</p>
<p>Playbackã«å¯¾å¿œã—ãŸè‡ªå‰æç”»ã‚’ä½œã‚‹ã«ã¯ã€‚</p>
<p>MediaSinkã‚’è‡ªä½œã™ã‚‹
MediaSinkã§DXVAã‚’ä½¿ã†</p>
<p>SampleGrabberSink</p>
<p>MFCreateSampleGrabberSinkActivate</p>
<p>MediaTransform</p>
<p>Media Foundation Transforms</p>
<p>About MFTs</p>
<p>Comparison of MFTs and DMOs</p>
<p>H.264</p>
<p>H.264 Video Decoder</p>
<p>DXVA
DirectX Video Accelerationã€‚</p>
<p>About DXVA 2.0
Adding a Decoder to a Topology</p>
<p>MR_VIDEO_ACCELERATION_SERVICE
D3d9</p>
<p>Supporting DXVA 2.0 in Media Foundation
DXVA Video Processing
IDirect3DDeviceManager9</p>
<p>D3D11</p>
<p>https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DX11VideoRenderer
Supporting Direct3D 11 Video Decoding in Media Foundation
IMFDXGIDeviceManager</p>
<p>Sample &amp; Buffer
Sampleã®ä¸­ã«BufferãŒå…¥ã£ã¦ã„ã‚‹ã€‚</p>
<p>Media Samples</p>
<p>Video Samples</p>
<p>Media Buffers
https://github.com/loskutov/VideoCapture/blob/master/src/DesktopDuplicationSampleProvider.cpp</p>
<p>MediaType</p>
<p>Media Types</p>
<p>Presentation Clock</p>
<p>Presentation Clock</p>
<p>Media Event</p>
<p>Media Event Generators</p>
<p>linkã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
é–¢æ•°ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚ã‹ã‚‹ãŒå®šæ•°ã¯ã©ã‚Œã«å…¥ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªã„ã€‚
ã‚ã‚Šã¨ç·å½“ãŸã‚Šã§è©¦ã™ã¯ã‚ã«ãªã‚‹ã€‚</p>
<p>mf.lib
mfplat.lib
mfuuid.lib
strmiids.lib
wmcodecdspuuid.lib</p>
<p>å‚è€ƒ</p>
<p>Media Foundation Programming Guide</p>
</div>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../pybullet/" rel="prev" title="PyBulletã‚’ä½¿ã£ã¦ã¿ã‚‹">
            PyBulletã‚’ä½¿ã£ã¦ã¿ã‚‹ ğŸ‘ˆ
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../../../../github/mediafoundationsample/" rel="next" title="MediaFoundationSample">
            ğŸ‘‰ MediaFoundationSample
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
