<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../assets/js/all-nocdn.js"></script><title>hugoã§ä½œã£ãŸã‚µã‚¤ãƒˆã«Sphinxã‚’åŸ‹ã‚ã“ã‚€ | ä¸‰æ¬¡å…ƒæ—¥èªŒ</title>
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../" title="ä¸‰æ¬¡å…ƒæ—¥èªŒ" rel="home">
            <span id="blog-title">ä¸‰æ¬¡å…ƒæ—¥èªŒ</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../archive.html">Archives</a></li>
<li><a href="../../../categories/index.html">Tags</a></li>
<li><a href="../../../rss.xml">RSS feed</a></li>
<li><a href="../../../about">About</a></li>
<li><a href="../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">hugoã§ä½œã£ãŸã‚µã‚¤ãƒˆã«Sphinxã‚’åŸ‹ã‚ã“ã‚€
    </a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2017-09-16T00:00:00+09:00" title="2017-09-16">2017-09-16</time>
</li>
</ul>
</h1>

<p>Markdownã§ãã‚‹ã‚‰ã—ã„ã®ã§Sphinxã‚’å…¥ã‚Œã¦ã¿ã‚‹ã€‚</p>
<p>ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</p>
<p>Sphinx install
pyenvã§python-3.6.2ã‚’å°å…¥ã—ãŸã€‚
$ pyenv global 3.6.2
$ python -V
Python 3.6.2
$ pip install sphinx</p>
<p>http://www.sphinx-doc.org/en/stable/markdown.html</p>
<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œã£ã¦ã¿ã‚‹</p>
<p>project_name
author_name
version</p>
<p>ã¯å¿…é ˆã§ä½œã‚‹æ™‚ã«æ±ºã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
$ sphinx-quickstart</p>
<p>ã„ã‚ã„ã‚è³ªå•ãŒå‡ºã¦ãã‚‹ãŒé¢å€’ãªã®ã§ãƒªã‚¿ãƒ¼ãƒ³é€£æ‰“ã€‚
ã‚¦ã‚¤ã‚¶ãƒ¼ãƒ‰æ–¹å¼ã§ã¯ãªãã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ä¸€æ¯ã«å…¥åŠ›ã™ã‚‹æ–¹å¼ã ã¨ã“ã‚“ãªæ„Ÿã˜ã‹ã€‚
$ sphinx-quickstart -q -p project_name -a author_name -v 1.0 --sep directory_name
Creating file directory_nameâ†²/source/conf.py.
Creating file directory_nameâ†²/source/index.rst.
Creating file directory_nameâ†²/Makefile.
Creating file directory_nameâ†²/make.bat.</p>
<p>Finished: An initial directory structure has been created.</p>
<p>You should now populate your master file directory_nameâ†²/source/index.rst and create other documentation
source files. Use the Makefile to build the docs, like so:
   make builder
   where "builder" is one of the supported builders, e.g. html, latex or linkcheck.</p>
<p>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¯ã“ã‚“ãªæ„Ÿã˜ã«ã€‚
directory_name
    + souce
        + conf.py
        + index.rst
    + Makefile
    + build
        + html # make htmlã®å‡ºåŠ›</p>
<p>hugoã®ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ“ãƒ«ãƒ‰çµæœã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹
hugoroot
    + sphinxroot
        + build
            +html
    + public
        sphinx # ../sphinxroot/build/html/*ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹</p>
<p>hugosite$ sphinx-quickstart -q -p project_name -a author_name -v 1.0 --sep sphinxroot
hugosite$ hugo
hugosite$ pushd shphinxroot
hugosite/sphinxroot$ make html
hugosite/sphinxroot$ rsync -av build/html ../public/sphinx
sending incremental file list
created directory ../public/sphinx
html/
html/.buildinfo
html/genindex.html
html/index.html
html/objects.inv
html/search.html
html/searchindex.js
html/_sources/
html/_sources/index.rst.txt
html/_static/
html/_static/ajax-loader.gif
html/_static/alabaster.css
html/_static/basic.css
html/_static/comment-bright.png
html/_static/comment-close.png
html/_static/comment.png
html/_static/custom.css
html/_static/doctools.js
html/_static/down-pressed.png
html/_static/down.png
html/_static/file.png
html/_static/jquery-3.1.0.js
html/_static/jquery.js
html/_static/minus.png
html/_static/plus.png
html/_static/pygments.css
html/_static/searchtools.js
html/_static/underscore-1.3.1.js
html/_static/underscore.js
html/_static/up-pressed.png
html/_static/up.png
html/_static/websupport.js
hugosite/sphinxroot$ popd</p>
<p>rsyncã®å‘¼ã³æ–¹å¤‰æ›´ã€‚ã‚½ãƒ¼ã‚¹ã®æŒ‡å®šã®æœ€å¾Œã‚’/ã«ã™ã‚‹ã“ã¨ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãã®ã‚‚ã®ã§ã¯ãªãä¸­èº«ã‚’é€ã‚‹æ„å‘³ã«ãªã‚‹ã€‚
$ rsync -av build/html/ ../public/sphinx
sending incremental file list
created directory ../public/sphinx
./
.buildinfo
genindex.html
index.html
objects.inv
search.html
searchindex.js
_sources/
_sources/index.rst.txt
_static/
_static/ajax-loader.gif
_static/alabaster.css
_static/basic.css
_static/comment-bright.png
_static/comment-close.png
_static/comment.png
_static/custom.css
_static/doctools.js
_static/down-pressed.png
_static/down.png
_static/file.png
_static/jquery-3.1.0.js
_static/jquery.js
_static/minus.png
_static/plus.png
_static/pygments.css
_static/searchtools.js
_static/underscore-1.3.1.js
_static/underscore.js
_static/up-pressed.png
_static/up.png
_static/websupport.js</p>
<p>hugosite/public$ python -m http.server</p>
<p>http://localhost:8000/sphinx/
ã§ç”Ÿæˆã—ãŸã‚µã‚¤ãƒˆãŒè¡¨ç¤ºã§ããŸã€‚
livereloadã§è‡ªå‹•æ›´æ–°ã‚µãƒ¼ãƒãƒ¼</p>
<p>Python Livereload ã‚’ä½¿ã£ã¦ Sphinx ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã
https://pypi.python.org/pypi/livereload</p>
<h2>!/usr/bin/env python</h2>
<p>import os</p>
<p>os.system('make html')</p>
<p>from livereload import Server, shell</p>
<p>server = Server()
server.watch('source/<strong>/*.rst', shell('make html'))
server.watch('source/</strong>/*.md', shell('make html'))
server.serve(
        open_url=False,
        root='build/html',
        port=8080,
        host='0.0.0.0'
        )</p>
<p>markdownã‚’ä½¿ã†</p>
<p>Markdownã‚’ä½¿ã†
http://www.sphinx-doc.org/en/stable/markdown.html</p>
<p>ImportError: cannot import name DocParser</p>
<p>Sphinxã§Markdownã‚’ä½¿ã†ã¨ãã«æ³¨æ„ã™ã‚‹ã“ã¨</p>
<p>ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š
ã„ã‚ã„ã‚ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã€‚
TypeError: 'NoneType' object is not callable</p>
<p>documented that 1.6 breaks recommonmark
Sphinx 1.5.x was the last working version for recommonmark 0.4.0</p>
<p>$ pip install recommonmark==0.4.0
$ pip install sphix==1.5</p>
<p>1.5ã«ã™ã‚‹ã¨ãƒ»ãƒ»ãƒ»
AttributeError: module 'locale' has no attribute 'normalize'</p>
<p>localeãŒsphinx.localeã§ç½®ãæ›ãˆã‚‰ã‚Œã¨ã‚‹ã€‚
ä»•æ–¹ãªã„ã®ã§
å¼·åˆ¶çš„ã«å†ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å…¥ã‚ŒãŸã€‚
site-packages/sphinx/<strong>init</strong>.py
def main(argv=sys.argv):
    # reimport locale
    if 'locale' in sys.modules:
        del sys.modules['locale']
    if sys.path[0].find('sphinx')!=-1:â†²
        head=sys.path.pop(0)â†²
    import localeâ†²</p>
<pre class="code literal-block"><span class="k">if</span> <span class="nv">sys</span>.<span class="nv">argv</span>[<span class="mi">1</span>:<span class="mi">2</span>] <span class="o">==</span> [<span class="s1">'</span><span class="s">-M</span><span class="s1">'</span>]:â†²
    <span class="nv">sys</span>.<span class="k">exit</span><span class="ss">(</span><span class="nv">make_main</span><span class="ss">(</span><span class="nv">argv</span><span class="ss">))</span>â†²
<span class="k">else</span>:â†²
    <span class="nv">sys</span>.<span class="k">exit</span><span class="ss">(</span><span class="nv">build_main</span><span class="ss">(</span><span class="nv">argv</span><span class="ss">))</span>â†²
</pre>
<p>ã¨ã‚Šã‚ãˆãšå‹•ãã‚ˆã†ã«ãªã£ãŸã€‚ãã¬ã¬ãƒ»ãƒ»ãƒ»
TOC
AutoStructifyã§ã§ãã‚‹ã¨æ›¸ã„ã¦ã‚ã‚‹ãŒãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’0.4.0ã«å›ºå®šã—ãŸã‹ã‚‰ã‹ã†ã¾ãå‹•ã‹ã¬ã€‚
eval_rstã§ã€‚
'''eval_rst
.. toctree::</p>
<p>item
'''</p>
<p>ã‚¨ãƒ©ãƒ¼
TOCãƒ„ãƒªãƒ¼ã«ã“ã®æŒ‡å®šã‚’å…¥ã‚Œã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹
.. toctree::
   :caption: Contents:â†²</p>
<p>themeã‚’å¤‰ãˆã‚‹</p>
<p>è¦‹ã‚„ã™ã„ãƒ†ãƒ¼ãƒã‚’è¨­å®šã™ã‚‹</p>
<p>æ—¥æœ¬èª</p>
<p>æ—¥æœ¬èªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚¢ãƒ³ã‚«ãƒ¼ãŒè²¼ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹</p>
<p>github
.nojekyllã§ã„ã„ã‚‰ã—ã„ãŒã†ã¾ãã„ã‹ãªã‹ã£ãŸã®ã§ã€‚</p>
<p>https://github.com/michaeljones/sphinx-to-github</p>
<p>python3ã ã¨ä¿®æ­£ãŒè¦ã‚‹ã€‚python2ã§ã¯è©¦ã—ã¦ã„ãªã„ã€‚</p>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../cppwinrt_uwp/" rel="prev" title="C++WinRTã§ã¯ã˜ã‚ã‚‹UWP">
            C++WinRTã§ã¯ã˜ã‚ã‚‹UWP ğŸ‘ˆ
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../../../github/pymsgpack/" rel="next" title="pyMsgPack">
            ğŸ‘‰ pyMsgPack
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
