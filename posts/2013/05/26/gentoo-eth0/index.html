<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../../../assets/js/all-nocdn.js"></script><title>Gentooでネットワークインターフェースがeth0にならない件 | 三次元日誌</title>
<link href="../../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../../../" title="三次元日誌" rel="home">
            <span id="blog-title">三次元日誌</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../../../archive.html">Archives</a></li>
<li><a href="../../../../../categories/index.html">Tags</a></li>
<li><a href="../../../../../rss.xml">RSS feed</a></li>
<li><a href="../../../../../about">About</a></li>
<li><a href="../../../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">Gentooでネットワークインターフェースがeth0にならない件</a>
</h1>
<div>
<p>Gentooでネットワークインターフェースがeth0にならない件
最近インストールしたAMDのオンボードEtherと、MacBookAirのUsb
Etherが共にeth0にならなかった。
AMD機では、/etc/init.d/net.eth0 startが失敗するのでなんでかと思ったら違う名前になっていた。</p>
<h2>ifconfig -a</h2>
<p>enp3s0: flags=4163<up>  mtu 1500</up></p>
<p>eth0ではないので/etc/init.d/net.eth0ではなく/etc/init.d/net.enp3s0とする必要があった。
/etc/conf.d/netも書き換え。
MacBookAirでも違う名前になっていた。</p>
<h2>ifconfig -a</h2>
<p>enp0s29f7u1u1: flags=4163<up>  mtu 1500</up></p>
<p>とりあえずシンボリックリンク/etc/init.d/net.enp0s29f7u1u1を作って接続することはできたがちょっと調べてみることにした。
udevinfo
なんかudevinfoが見つからぬ。
http://www.gossamer-threads.com/lists/gentoo/user/174113
によるとudevadmになったらしい。</p>
<h2>udevadm info -a /sys/class/net/enp3s0</h2>
<p>で情報をとれた。
参考:http://www.ice.is.kit.ac.jp/~umehara/misc/comp/20060408.html
gentooのudev設定
http://www.gentoo.gr.jp/transdocs/udevrules/udevrules.html#example-iface
/etc/udev/rules.d/myether
SUBSYTEM="net", ATTR{address}=="XX:XX:XX:XX:XX:XX", NAME="eth0"</p>
<p>書いてみた。最近のudevではSYSFSはATTRになったぽい。
test</p>
<h2>udevadm test /sys/class/net/enp3s0</h2>
<p>うまくいかぬ・・・</p>
<h2>cd /etc/udev/rules.d</h2>
<h2>mv myether 50-ether.rules</h2>
<p>有効なファイル名が決まっていた。
test</p>
<h2>udevadm test /sys/class/net/enp3s0</h2>
<p>unknown key 'SUBSYTEM' in /etc/udev/rules.d/50-ether.rules:1
invalid rule '/etc/udev/rules.d/50-ether.rules:1'</p>
<p>書き方がよろしくないらしい
SUBSYSTEM=="net", ATTR{address}=="XX:XX:XX:XX:XX:XX", NAME="eth0"</p>
<p>タイポを修正
changing net interface name from 'enp3s0' to 'eth0'</p>
<p>うまくいった。
反映</p>
<h2>cd /etc/int.d</h2>
<h2>rc-update delete net.enp3s0</h2>
<h2>mv net.enp3s0 net.eth0</h2>
<h2>rc-update add net.eth0 defalt</h2>
<h2>vim /etc/conf.d/net</h2>
<h2>reboot</h2>
</div>
    </main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
