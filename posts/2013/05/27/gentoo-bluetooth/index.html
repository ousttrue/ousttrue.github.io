<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>三次元日誌</title>

    

  <script src="https://ousttrue.github.io/plugins/elasticlunr.min.js" defer></script>
  <script src="https://ousttrue.github.io/search_index.en.js" defer></script>
  <script src="https://ousttrue.github.io/js/search.js" defer></script>

    

     
    <link rel="stylesheet" href="https://ousttrue.github.io/main.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
      />
    
  </head>

  <body class="container">
    <a class="site_title" href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;">
      <div>三次元日誌</div>
    </a>

    <nav class="nav">
      <a class="item" href="/tags/">tags</a>
      <a class="item" href="https://github.com/ousttrue" aria-label="github">
        <i class="fab fa-github fa-lg"></i>
      </a>
      

        
            <form class="navbar-form">
                <input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
                    aria-label="Search docs..." autocomplete="off">
                <div id="suggestions" class="shadow bg-white rounded"></div>
            </form>
        
    </nav>

    <main class="main">
<div class="page">
<div class="content">
  <div class="headline">
  
  

  
  <a class="headline_title" href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;posts&#x2F;2013&#x2F;05&#x2F;27&#x2F;gentoo-bluetooth&#x2F;"> GentooでBluetooth 
  

  
  </a>

  

  <div>
    <ul class="tags">
      <li class="headline_date">
        <div class="year">2013</div>
        <div class="md">0527</div>
      </li>
      
      


    <li class="tag"><a href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;tags&#x2F;linux&#x2F;">linux</a></li>




    </ul>
  </div>
</div>
 <p>GentooでBluetooth
Gentooでbluetoothを使う。</p>
<p>http://wiki.gentoo.org/wiki/Bluetooth</p>
<p>dmesg
[22782.149236] Bluetooth: Core ver 2.16
[22782.149244] NET: Registered protocol family 31
[22782.149245] Bluetooth: HCI device and connection manager initialized
[22782.149252] Bluetooth: HCI socket layer initialized
[22782.149254] Bluetooth: L2CAP socket layer initialized
[22782.149255] Bluetooth: SCO socket layer initialized
[22782.151467] Bluetooth: BNEP (Ethernet Emulation) ver 1.3
[22782.151469] Bluetooth: BNEP filters: protocol multicast
[22782.151475] Bluetooth: BNEP socket layer initialized</p>
<p>kernel
HCI USB driver (btusb) を有効にする。
USE設定とツール
/etc/portage/make.conf
USEにbluetoothを追加</p>
<p>/etc/portage/package.use
net-wireless/bluez test-programs # simple-agentに必要</p>
<p>インストール</p>
<h1 id="emerge-ask-changed-use-deep-world">emerge --ask --changed-use --deep @world</h1>
<h1 id="etc-init-d-bluetooth-start">/etc/init.d/bluetooth start</h1>
<h1 id="rc-update-add-bluetooth-default">rc-update add bluetooth default</h1>
<p>Pairing
$ hcitools scan
XX:XX:XX:XX:XX:XX       M-NV1BR Series</p>
<p>$ simple-agent XX:XX:XX:XX:XX:XX
Traceback (most recent call last):
File &quot;/usr/bin/simple-agent&quot;, line 115, in <module>
path = manager.FindAdapter(args[0])
File &quot;/usr/lib64/python2.7/site-packages/dbus/proxies.py&quot;, line 70, in <strong>call</strong>
return self._proxy_method(*args, **keywords)
File &quot;/usr/lib64/python2.7/site-packages/dbus/proxies.py&quot;, line 145, in <strong>call</strong>
**keywords)
File &quot;/usr/lib64/python2.7/site-packages/dbus/connection.py&quot;, line 651, in call_blocking
message, timeout)
dbus.exceptions.DBusException: org.bluez.Error.NoSuchAdapter: No such adapter</p>
<p>ここで頓挫。どうも埒が明かぬ。
と思ったらsimple-agentの引数が足りなかった。
bluetooth deviceのコネクトボタンを押す</p>
<p>$ simple-agent hci0 XX:XX:XX:XX:XX:XX
$ bluez-test-device trusted XX:XX:XX:XX:XX:XX yes
$ bluez-test-input connect XX:XX:XX:XX:XX:XX</p>
<p>とりあえず接続はできた。
複数接続登録タイプのキーボードとマウスを買ってきたのでそれを有効にしたいのだが、
今のところ切り替え時に毎回コネクトボタンを押さされている。
一瞬だけコネクトボタンなしでの切り替えができた時期があったのでなんか方法があるはずなのだが。
utility</p>
<h1 id="emerge-av-blueman">emerge -av blueman</h1>

</div>

<nav class="toc">

<div class="toc_fix">
<ul>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2013/05/27/gentoo-bluetooth/#emerge-ask-changed-use-deep-world">emerge --ask --changed-use --deep @world</a>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2013/05/27/gentoo-bluetooth/#etc-init-d-bluetooth-start">&#x2F;etc&#x2F;init.d&#x2F;bluetooth start</a>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2013/05/27/gentoo-bluetooth/#rc-update-add-bluetooth-default">rc-update add bluetooth default</a>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2013/05/27/gentoo-bluetooth/#emerge-av-blueman">emerge -av blueman</a>
            
        </li>
    
</ul>
</div>


</nav>
</div>
</main>

    <footer class="footer">Powered by <a href="https://www.getzola.org/">Zola</a> <a href="https://github.com/ousttrue/zola/tree/custom">custom</a></footer>

  </body>
</html>
