<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../../../assets/js/all-nocdn.js"></script><title>Gentooå†æ§‹ç¯‰ | ä¸‰æ¬¡å…ƒæ—¥èªŒ</title>
<link href="../../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../../../" title="ä¸‰æ¬¡å…ƒæ—¥èªŒ" rel="home">
            <span id="blog-title">ä¸‰æ¬¡å…ƒæ—¥èªŒ</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../../../archive.html">Archives</a></li>
<li><a href="../../../../../categories/index.html">Tags</a></li>
<li><a href="../../../../../rss.xml">RSS feed</a></li>
<li><a href="../../../../../about">About</a></li>
<li><a href="../../../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">Gentooå†æ§‹ç¯‰
    </a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2013-05-20T00:00:00+09:00" title="2013-05-20">2013-05-20</time>
</li>
    <li><a class="tag p-category" href="../../../../../categories/linux/" rel="tag">linux</a></li>
</ul>
</h1>

<h2>Gentooå†æ§‹ç¯‰</h2>
<p>gentooã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«10Gã‚’å‰²ã‚Šå½“ã¦ã¦ã„ãŸã®ã ãŒã„ã¤ã®ã¾ã«ã‹ãƒ‡ã‚£ã‚¹ã‚¯ãƒ•ãƒ«ã«ãªã£ã¦ã—ã¾ã£ãŸã€‚
portageã¨homeã‚’mountã—ã¦ã„ãŸã®ã§å¤§ä¸ˆå¤«ã‹ã¨æ€ã£ã¦ã„ãŸã®ã ãŒæ„å¤–ã¨å®¹é‡ã‚’ä½¿ã£ã¦ã—ã¾ã£ã¦ã„ãŸæ§˜å­ã€‚
ã„ã‚ã„ã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã™ããªã®ã‹ã‚‚ã—ã‚Œã¬ã€‚
ã¨ã‚Šã‚ãˆãš/var/logã®å¤§ãã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’xzã—ã¦æ€¥å ´ã‚’å‡Œã„ã ãŒã€
ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã®å‰²ã‚Šæ–¹ã®éƒ½åˆã§æ‹¡å¤§ã§ããªã„ã®ã§æ–°ã—ãä½œã‚Šç›´ã™ã“ã¨ã«ã—ãŸã€‚</p>
<h3>ä½œæ¥­è¨˜éŒ²ã€‚</h3>
<h4>ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ æº–å‚™</h4>
<pre class="code literal-block"># lvcreate -L 100G -n gentoo_root mygroup
# mkfs.ext4 /dev/mygroup/gentoo_root
# cd /mnt
# mkdir gentoo
# mount /dev/mygroup/gentoo_root
</pre>
<h4>Installing the Gentoo Installation Files</h4>
<p><a href="http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=5">http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=5</a></p>
<p>stage3ãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—ã¨å±•é–‹</p>
<pre class="code literal-block"># cd /mnt/gentoo
# wget http://ftp.jaist.ac.jp/pub/Linux/Gentoo/releases/amd64/current-stage3/stage3-amd64-20130516.tar.bz2
# tar xvjpf stage3-*.tar.bz2
</pre>
<p>portageã¯æ—§ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æµç”¨</p>
<pre class="code literal-block"># mkdir usr/portage
# mount /dev/mygroup/portage usr/portage

/etc/portage/make.conf
# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.
CFLAGS="-march=native -O2 -pipe"
#CFLAGS="-march=bdver2 -O2 -pipe"
CXXFLAGS="<span class="cp">${</span><span class="n">CFLAGS</span><span class="cp">}</span>"
# WARNING: Changing your CHOST is not something that should be done lightly.
# Please consult http://www.gentoo.org/doc/en/change-chost.xml before changing.
CHOST="x86_64-pc-linux-gnu"
# These are the USE flags that were used in addition to what is provided by the
# profile used for building.
USE=""
USE="<span class="nv">$USE</span> -ldap"
USE="<span class="nv">$USE</span> mmx sse sse2 sse3 ssse3"
USE="<span class="nv">$USE</span> openal alsa gstreamer phonon pulseaudio xft xnest"
USE="<span class="nv">$USE</span> gtk gnome xfce imlib gconf"
USE="<span class="nv">$USE</span> qt4 kde"
USE="<span class="nv">$USE</span> gd imlib eigen"
USE="<span class="nv">$USE</span> sqlite apache2"
USE="<span class="nv">$USE</span> ffmpeg theora lame mms"
USE="<span class="nv">$USE</span> samba fuse udisks"
USE="<span class="nv">$USE</span> icu"
USE="<span class="nv">$USE</span> consolekit dbus pam policykit udev"
USE="<span class="nv">$USE</span> c++0x"

INPUT_DEVICES="evdev"
#VIDEO_CARDS="radeon"
VIDEO_CARDS="fglrx"
LINGUAS="ja"

MAKEOPTS="-j5"
GENTOO_MIRRORS="http://ftp.iij.ad.jp/pub/linux/gentoo/ ftp://ftp.iij.ad.jp/pub/linux/gentoo/ http://ftp.jaist.ac.jp/pub/Linux/Gentoo/"
</pre>
<p>CFLAGSã«-march=nativeã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸ</p>
<h4>Installing the Gentoo Base System</h4>
<p><a href="http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=6">http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=6</a></p>
<pre class="code literal-block"><span class="c1"># cp -L /etc/resolv.conf /mnt/gentoo/etc/</span>
<span class="c1"># mount -t proc none /mnt/gentoo/proc</span>
<span class="c1"># mount --rbind /sys /mnt/gentoo/sys</span>
<span class="c1"># mount --rbind /dev /mnt/gentoo/dev</span>

<span class="c1"># chroot /mnt/gentoo /bin/bash</span>
<span class="c1"># source /etc/profile</span>
<span class="c1"># export PS1="(chroot) $PS1"</span>

<span class="c1"># emerge --sync</span>
<span class="c1"># cp /usr/share/zoneinfo/Asia/Tokyo /etc/localtime</span>
<span class="c1"># echo "Asia/Tokyo" &gt; /etc/timezone</span>
</pre>
<h4>Configuring the Kernel</h4>
<p><a href="http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=7">http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=7</a></p>
<pre class="code literal-block"># emerge gentoo-sources
</pre>
<p>LVMã‹ã‚‰ãƒ–ãƒ¼ãƒˆã™ã‚‹ã®ã§genkernelã‚’ä½¿ã†</p>
<pre class="code literal-block"># emerge genkernel
# genkernel --lvm --install all
</pre>
<h4>Configuring your System</h4>
<p><a href="http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=8">http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=8</a></p>
<h4>Installing Necessary System Tools</h4>
<p><a href="http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=9">http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=9</a></p>
<h4>Configuring the Bootloader</h4>
<p><a href="http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=10">http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;chap=10</a></p>
<p>/boot/grub/menu.lst</p>
<pre class="code literal-block">title genkernel 3.8.13
root (hd0,0)
kernel /boot/kernel-genkernel-x86_64-3.8.13-gentoo real_root=/dev/mygroup/gentoo_root rootfstype=ext4 dolvm
initrd /boot/initramfs-genkernel-x86_64-3.8.13-gentoo
</pre>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../../19/call-with-tuple/" rel="prev" title="msgpack-rpc-asioã®é–¢æ•°ç™»éŒ²ã¨å®Ÿè¡Œ">
            msgpack-rpc-asioã®é–¢æ•°ç™»éŒ²ã¨å®Ÿè¡Œ ğŸ‘ˆ
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../../21/xorg/" rel="next" title="xorgã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«">
            ğŸ‘‰ xorgã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
