<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../assets/js/all-nocdn.js"></script><title>python ã® task runner invoke | ä¸‰æ¬¡å…ƒæ—¥èªŒ</title>
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../" title="ä¸‰æ¬¡å…ƒæ—¥èªŒ" rel="home">
            <span id="blog-title">ä¸‰æ¬¡å…ƒæ—¥èªŒ</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../archive.html">Archives</a></li>
<li><a href="../../../categories/index.html">Tags</a></li>
<li><a href="../../../rss.xml">RSS feed</a></li>
<li><a href="../../../about">About</a></li>
<li><a href="../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">python ã® task runner invoke
    </a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2021-07-24T00:00:00+09:00" title="2021-07-24">2021-07-24</time>
</li>
    <li><a class="tag p-category" href="../../../categories/python/" rel="tag">python</a></li>
</ul>
</h1>

<p>python ã§ã¡ã‚‡ã£ã¨ã—ãŸãƒ„ãƒ¼ãƒ«ã‚’æ›¸ãã¨ãã«ä¾¿åˆ©ã€‚
<code>make</code> ã¿ãŸã„ã«ã‚¿ã‚¹ã‚¯ã‚’å®šç¾©ã—ã¦ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã€‚
task ã¨ã—ã¦å®šç¾©ã—ãŸé–¢æ•°ã®å¼•æ•°ã«å¿œã˜ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚’ã•ã°ã‘ã‚‹ã®ã§ <code>argparse</code> ã›ãšã«ã™ã¾ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</p>
<h3>install</h3>
<pre class="code literal-block">$ pip install invoke
</pre>
<h3>tasks.py</h3>
<pre class="code literal-block"><span class="kn">from</span> <span class="nn">invoke</span> <span class="kn">import</span> <span class="n">task</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">who</span><span class="o">=</span><span class="s2">"hoge"</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    hello task</span>
<span class="sd">    '''</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'hello </span><span class="si">{</span><span class="n">hoge</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>


<span class="nd">@task</span><span class="p">(</span><span class="n">hello</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ver</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    version</span>
<span class="sd">    '''</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
</pre>
<p>ä½¿ã†</p>
<pre class="code literal-block"><span class="err">$</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w">           </span>
<span class="n">Available</span><span class="w"> </span><span class="nl">tasks</span><span class="p">:</span><span class="w"></span>

<span class="w">  </span><span class="n">hello</span><span class="w">   </span><span class="n">hello</span><span class="w"> </span><span class="n">task</span><span class="w"></span>
<span class="w">  </span><span class="n">ver</span><span class="w">     </span><span class="n">version</span><span class="w"></span>

<span class="err">$</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w"></span>
<span class="k">Usage</span><span class="err">:</span><span class="w"> </span><span class="n">inv</span><span class="o">[</span><span class="n">oke</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">--core-opts</span><span class="o">]</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">[</span><span class="n">--options</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">other tasks here ...</span><span class="o">]</span><span class="w"></span>

<span class="nl">Docstring</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="n">hello</span><span class="w"> </span><span class="n">task</span><span class="w"></span>

<span class="nl">Options</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">w</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">who</span><span class="o">=</span><span class="n">STRING</span><span class="w"></span>

<span class="err">$</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="n">fuga</span><span class="w">  </span>
<span class="k">No</span><span class="w"> </span><span class="n">idea</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="s1">'fuga'</span><span class="w"> </span><span class="k">is</span><span class="err">!</span><span class="w"></span>
<span class="err">$</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">-</span><span class="n">w</span><span class="w"> </span><span class="n">fuga</span><span class="w"></span>
<span class="n">hello</span><span class="w"> </span><span class="n">fuga</span><span class="w"></span>
<span class="err">$</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">ver</span><span class="w"></span>
<span class="n">hello</span><span class="w"> </span><span class="n">hoge</span><span class="w"></span>
<span class="mf">3.8.6</span><span class="w"> </span><span class="p">(</span><span class="n">tags</span><span class="o">/</span><span class="n">v3</span><span class="mf">.8.6</span><span class="err">:</span><span class="n">db45529</span><span class="p">,</span><span class="w"> </span><span class="n">Sep</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="mi">2020</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="err">:</span><span class="mi">52</span><span class="err">:</span><span class="mi">53</span><span class="p">)</span><span class="w"> </span><span class="o">[</span><span class="n">MSC v.1927 64 bit (AMD64)</span><span class="o">]</span><span class="w"></span>
</pre>
<h3>vscode ã§ãƒ‡ãƒãƒƒã‚°</h3>
<p>module ã« <code>invoke</code> ã‚’è¨­å®šã—ã¦ã‚„ã‚‹</p>
<pre class="code literal-block">        <span class="p">{</span>
            <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"task"</span><span class="p">,</span>
            <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"python"</span><span class="p">,</span>
            <span class="nt">"request"</span><span class="p">:</span> <span class="s2">"launch"</span><span class="p">,</span>
            <span class="nt">"module"</span><span class="p">:</span> <span class="s2">"invoke"</span><span class="p">,</span>
            <span class="nt">"args"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"hello"</span>
            <span class="p">],</span>
            <span class="nt">"console"</span><span class="p">:</span> <span class="s2">"integratedTerminal"</span>
        <span class="p">}</span>
</pre>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../luajitffi/" rel="prev" title="libclang ã§ luajit å‘ã‘ã® FFI ã‚’ç”Ÿæˆã™ã‚‹">
            libclang ã§ luajit å‘ã‘ã® FFI ã‚’ç”Ÿæˆã™ã‚‹ ğŸ‘ˆ
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../example_glfw_openg/" rel="next" title="imgui ã® FFI ãŒ luajit ã§å‹•ãã¨ã“ã‚ã¾ã§ä½œã£ãŸ">
            ğŸ‘‰ imgui ã® FFI ãŒ luajit ã§å‹•ãã¨ã“ã‚ã¾ã§ä½œã£ãŸ
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
