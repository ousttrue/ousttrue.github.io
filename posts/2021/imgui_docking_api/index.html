<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../assets/js/all-nocdn.js"></script><title>ImGui の API | 三次元日誌</title>
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../" title="三次元日誌" rel="home">
            <span id="blog-title">三次元日誌</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../archive.html">Archives</a></li>
<li><a href="../../../categories/index.html">Tags</a></li>
<li><a href="../../../rss.xml">RSS feed</a></li>
<li><a href="../../../about">About</a></li>
<li><a href="../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">ImGui の API
    <img src="../../../images/posts/2021/dockbuilder.jpg" alt="" loading="lazy" style="max-width:200px; max-height:200px;"></a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2021-07-28T00:00:00+09:00" title="2021-07-28">2021-07-28</time>
</li>
    <li><a class="tag p-category" href="../../../categories/ffi/" rel="tag">ffi</a></li>
    <li><a class="tag p-category" href="../../../categories/imgui/" rel="tag">imgui</a></li>
    <li><a class="tag p-category" href="../../../categories/luajit/" rel="tag">luajit</a></li>
</ul>
</h1>

<p><a href="https://github.com/ousttrue/limgui">https://github.com/ousttrue/limgui</a></p>
<p>ようやく <code>FFI</code> の整備ができたので、ImGui の API 調査に進む</p>
<h2>DockingBuilder</h2>
<p><code>imgui_internal.h</code> に一連の <code>Docking</code> 向けの API がある。</p>
<ul>
<li><a href="https://github.com/ocornut/imgui/issues/2109">https://github.com/ocornut/imgui/issues/2109</a></li>
</ul>
<h3><a href="https://gist.github.com/PossiblyAShrub/0aea9511b84c34e191eaa90dd7225969">PossiblyAShrub/dock_builder_example.cpp</a></h3>
<p>変数を流用していてわかりにくいのだが、おそらく下記のような感じだと思う。</p>
<div class="code"><pre class="code literal-block">+----+----+
|    |    |
|Left|----|
|    |Down|
+----+----+
</pre></div>

<div class="code"><pre class="code literal-block"><span class="k">auto</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ImGui</span><span class="o">::</span><span class="n">DockBuilderAddNode</span><span class="p">(</span><span class="n">dockspace_id</span><span class="p">,</span><span class="w"> </span><span class="n">dockspace_flags</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ImGuiDockNodeFlags_DockSpace</span><span class="p">);</span><span class="w"></span>
<span class="w">                                                                         </span><span class="c1">// 返り値と同じ Left  // 反対側 Right</span>
<span class="n">ImGuiID</span><span class="w"> </span><span class="n">right</span><span class="p">;</span><span class="w"></span>
<span class="k">auto</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ImGui</span><span class="o">::</span><span class="n">DockBuilderSplitNode</span><span class="p">(</span><span class="n">root</span><span class="p">,</span><span class="w"> </span><span class="n">ImGuiDir_Left</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2f</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">right</span><span class="p">);</span><span class="w"></span>
<span class="w">                                                                         </span><span class="c1">// 返り値と同じ Down  // 反対側 Up</span>
<span class="n">ImGuiID</span><span class="w"> </span><span class="n">up</span><span class="p">;</span><span class="w"></span>
<span class="k">auto</span><span class="w"> </span><span class="n">down</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ImGui</span><span class="o">::</span><span class="n">DockBuilderSplitNode</span><span class="p">(</span><span class="n">right</span><span class="p">,</span><span class="w"> </span><span class="n">ImGuiDir_Down</span><span class="p">,</span><span class="w"> </span><span class="mf">0.25f</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">up</span><span class="p">);</span><span class="w"></span>
</pre></div>

<div class="code"><pre class="code literal-block"><span class="err">#</span><span class="w"> </span><span class="p">.</span><span class="n">imgui</span><span class="p">.</span><span class="n">ini</span><span class="w"> </span>
<span class="o">[</span><span class="n">Docking</span><span class="o">][</span><span class="n">Data</span><span class="o">]</span><span class="w"></span>
<span class="n">DockSpace</span><span class="w">     </span><span class="n">ID</span><span class="o">=</span><span class="mh">0x7CF2A649</span><span class="w"> </span><span class="k">Window</span><span class="o">=</span><span class="mh">0x9A404470</span><span class="w"> </span><span class="n">Pos</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="w"> </span><span class="k">Size</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span><span class="mi">870</span><span class="w"> </span><span class="n">Split</span><span class="o">=</span><span class="n">X</span><span class="w"></span>
<span class="w">  </span><span class="n">DockNode</span><span class="w">    </span><span class="n">ID</span><span class="o">=</span><span class="mh">0x00000001</span><span class="w"> </span><span class="n">Parent</span><span class="o">=</span><span class="mh">0x7CF2A649</span><span class="w"> </span><span class="n">SizeRef</span><span class="o">=</span><span class="mi">599</span><span class="p">,</span><span class="mi">900</span><span class="w"> </span><span class="n">Selected</span><span class="o">=</span><span class="mh">0xDA554856</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nf">Left</span><span class="w"></span>
<span class="w">  </span><span class="n">DockNode</span><span class="w">    </span><span class="n">ID</span><span class="o">=</span><span class="mh">0x00000002</span><span class="w"> </span><span class="n">Parent</span><span class="o">=</span><span class="mh">0x7CF2A649</span><span class="w"> </span><span class="n">SizeRef</span><span class="o">=</span><span class="mi">599</span><span class="p">,</span><span class="mi">900</span><span class="w"> </span><span class="n">Split</span><span class="o">=</span><span class="n">Y</span><span class="w"></span>
<span class="w">    </span><span class="n">DockNode</span><span class="w">  </span><span class="n">ID</span><span class="o">=</span><span class="mh">0x00000003</span><span class="w"> </span><span class="n">Parent</span><span class="o">=</span><span class="mh">0x00000002</span><span class="w"> </span><span class="n">SizeRef</span><span class="o">=</span><span class="mi">599</span><span class="p">,</span><span class="mi">673</span><span class="w"> </span><span class="n">CentralNode</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<span class="w">    </span><span class="n">DockNode</span><span class="w">  </span><span class="n">ID</span><span class="o">=</span><span class="mh">0x00000004</span><span class="w"> </span><span class="n">Parent</span><span class="o">=</span><span class="mh">0x00000002</span><span class="w"> </span><span class="n">SizeRef</span><span class="o">=</span><span class="mi">599</span><span class="p">,</span><span class="mi">225</span><span class="w"> </span><span class="n">Selected</span><span class="o">=</span><span class="mh">0xBCCD3F05</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Down</span><span class="w"></span>
</pre></div>

<ul>
<li>[ ] central node</li>
</ul>
<h2>Tree</h2>
<p>libclang のパース結果の <code>CXCursor</code> のツリー</p>
<p>{{ image(path="tree.jpg") }}</p>
<ul>
<li>[ ] selection</li>
</ul>
<h2>Table</h2>
<p>glTF を表示してみた。さくさく書けてよさそう。</p>
<p>{{ image(path="table.jpg") }}</p>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../lua_info/" rel="prev" title="luaメモ">
            luaメモ 👈
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../luv/" rel="next" title="luv">
            👉 luv
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
