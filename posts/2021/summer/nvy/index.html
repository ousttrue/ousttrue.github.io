<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../../assets/js/all-nocdn.js"></script><title>nvim frontend nvy | ä¸‰æ¬¡å…ƒæ—¥èªŒ</title>
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../../" title="ä¸‰æ¬¡å…ƒæ—¥èªŒ" rel="home">
            <span id="blog-title">ä¸‰æ¬¡å…ƒæ—¥èªŒ</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../../archive.html">Archives</a></li>
<li><a href="../../../../categories/index.html">Tags</a></li>
<li><a href="../../../../rss.xml">RSS feed</a></li>
<li><a href="../../../../about">About</a></li>
<li><a href="../../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">nvim frontend nvy</a>
    <img src="../../../../images/posts/2021/summer/nvy.jpg" alt="" loading="lazy" style="max-width:200px; max-height:200px;">
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2021-08-07T00:00:00+09:00" title="2021-08-07">2021-08-07</time>
</li>
    <li><a class="tag p-category" href="../../../../categories/msgpack/" rel="tag">msgpack</a></li>
    <li><a class="tag p-category" href="../../../../categories/nvim/" rel="tag">nvim</a></li>
</ul>
</h1>

<div>
<p>ã‚ˆã•ã’ãªãƒ¬ãƒã‚¸ãƒˆãƒªã‚’ç™ºè¦‹ã—ãŸã€‚</p>
<p><a href="https://github.com/RMichelsen/Nvy">https://github.com/RMichelsen/Nvy</a></p>
<p>ã ã„ã¶å‰ã«ä½œã‚ã†ã¨ã—ã¦é “æŒ«ã—ãŸ</p>
<p><a href="https://github.com/ousttrue/nvim-dx">https://github.com/ousttrue/nvim-dx</a></p>
<p>ã®å®Œæˆå½¢ã€‚
ã©ã“ãŒã†ã¾ãã„ã‹ãªã‹ã£ãŸã®ã‹å¿˜ã‚Œã¦ã—ã¾ã£ãŸãŒã€‚</p>
<h3>æ”¹é€ </h3>
<p><a href="https://github.com/ousttrue/Nvy">https://github.com/ousttrue/Nvy</a></p>
<ul>
<li>[ ] RenderTarget ã«å¯¾ã—ã¦ Nvim ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹</li>
<li>[x] nvim ã® IO ã‚’ <a href="https://think-async.com/Asio/#">https://think-async.com/Asio/#</a> ã«ã®ã›ã‚‹</li>
<li>[ ] imgui ã¨åˆä½“ã™ã‚‹</li>
</ul>
<h2>20210815</h2>
<p>MsgPack-RPC ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«æ˜”ä½œã£ãŸ</p>
<p><a href="https://github.com/ousttrue/msgpack-rpc-asio">https://github.com/ousttrue/msgpack-rpc-asio</a></p>
<p>ã«ãŠãã‹ãˆã‚‹ã€‚</p>
<p>ã•ã‚‰ã«ã€ã“ã‚Œã®ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ã‚’è‡ªå‰ã® <a href="https://github.com/ousttrue/msgpackpp">https://github.com/ousttrue/msgpackpp</a> ã«ãŠãã‹ãˆã‚‹ã€‚</p>
<ul>
<li>CMake åŒ–</li>
<li>RPC ã‚’ <code>c++20</code> åŒ– (co_await)</li>
</ul>
<p>ã§ã€æœ€åˆã® nvim åˆæœŸåŒ–ã‚’</p>
<pre class="code literal-block"><span></span><span class="k">auto</span> <span class="n">api_info</span> <span class="o">=</span> <span class="n">co_await</span> <span class="n">rpc</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"nvim_get_api_info"</span><span class="p">);</span>
<span class="n">rpc</span><span class="p">.</span><span class="n">notity</span><span class="p">(</span><span class="s">"nvim_set_var"</span><span class="p">,</span> <span class="s">"nvy"</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">path</span> <span class="o">=</span> <span class="n">co_await</span> <span class="n">rpc</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s">"nvim_eval"</span><span class="p">,</span><span class="s">"stdpath('config')"</span><span class="p">);</span>

<span class="c1">// initialize</span>

<span class="n">rpc</span><span class="p">.</span><span class="n">notify</span><span class="p">(</span><span class="s">"nvim_ui_attach"</span><span class="p">);</span>

<span class="n">rpc</span><span class="p">.</span><span class="n">on_message</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dispatcher</span><span class="p">);</span>
</pre>

<p>ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«ã—ã¦æ•´ç†ã™ã‚‹ã€‚</p>
<h2>20210829</h2>
<ul>
<li>[x] MsgPack-RPC ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ç½®ãã‹ãˆãŸ</li>
<li>[x] logger ã« RPC ã®å†…å®¹ã‚’ JSON åŒ–ã—ã¦è¡¨ç¤º</li>
</ul>
<p>ã ã„ãŸã„ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãŒçµ‚ã‚ã£ã¦æ”¹é€ ã—ã‚„ã™ã„çŠ¶æ…‹ã«ãªã£ãŸã€‚</p>
<ul>
<li>[x] <code>&lt;C-/&gt;</code> ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚</li>
</ul>
<p>ã‚’å®Ÿè£…ã§ããŸã€‚
ç‰¹å®šã® VK ãŒæ¥ãŸã¨ãã« nvim ã®ã‚­ãƒ¼ã«å¤‰æ›ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ãŒã‚ã‚‹ã®ã§è¿½åŠ ã—ãŸã€‚</p>
<pre class="code literal-block"><span></span>  <span class="k">case</span> <span class="nl">VK_OEM_2</span><span class="p">:</span>
    <span class="k">return</span> <span class="s">""</span><span class="p">;</span>
</pre>

<p><code>[2,"nvim_input",["&lt;C-/&gt;"]]</code> ãŒé€ä¿¡ã•ã‚Œã‚‹ã€‚</p>
<h3>ä¿®æ­£ãŒå¿…è¦</h3>
<p>écontrolæ™‚ã«</p>
<p><code>[2,"nvim_input",[""]]</code> ãŒé€ä¿¡ã•ã‚Œã‚‹ã€‚</p>
<pre class="code literal-block"><span></span>  <span class="k">case</span> <span class="nl">VK_OEM_2</span><span class="p">:</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">GetKeyState</span><span class="p">(</span><span class="n">VK_CONTROL</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// C-/</span>
      <span class="k">return</span> <span class="s">"/"</span><span class="p">;</span>
    <span class="p">}</span>
</pre>

<p>ãªã‚‹ã»ã©ã€‚</p>
<p><a href="@/posts/2021/summer/nvimtexture.md">NvimTexture</a> ã¸ç¶šã</p>
<h2>20210829  å¤ªå­—ãŒãšã‚Œã‚‹ï¼Ÿ</h2>
</div>

<ul class="pager hidden-print">
<li class="previous">
        <a href="../lua_language_server/" rel="prev" title="Lua Language Server è§£èª­">
            Lua Language Server è§£èª­ ğŸ‘ˆ
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../update_asio/" rel="next" title="Asio ã¨ Coroutine (c++20)">
            ğŸ‘‰ Asio ã¨ Coroutine (c++20)
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
