<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>三次元日誌</title>

    

  <script src="https://ousttrue.github.io/plugins/elasticlunr.min.js" defer></script>
  <script src="https://ousttrue.github.io/search_index.en.js" defer></script>
  <script src="https://ousttrue.github.io/js/search.js" defer></script>

    

     
    <link rel="stylesheet" href="https://ousttrue.github.io/main.css">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
      />
    
  </head>

  <body class="container">
    <a class="site_title" href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;">
      <div>三次元日誌</div>
    </a>

    <nav class="nav">
      <a class="item" href="/tags/">tags</a>
      <a class="item" href="https://github.com/ousttrue" aria-label="github">
        <i class="fab fa-github fa-lg"></i>
      </a>
      

        
            <form class="navbar-form">
                <input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
                    aria-label="Search docs..." autocomplete="off">
                <div id="suggestions" class="shadow bg-white rounded"></div>
            </form>
        
    </nav>

    <main class="main">
<div class="page">
<div class="content">
  <div class="headline">
  
  

  
  <a class="headline_title" href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;posts&#x2F;2021&#x2F;init-zola&#x2F;"> サイトジェネレーターを Zola に変更 
  

  
  </a>

  

  <div>
    <ul class="tags">
      <li class="headline_date">
        <div class="year">2021</div>
        <div class="md">0612</div>
      </li>
      
      


    <li class="tag"><a href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;tags&#x2F;zola&#x2F;">zola</a></li>

    <li class="tag"><a href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;tags&#x2F;rust&#x2F;">rust</a></li>

    <li class="tag"><a href="https:&#x2F;&#x2F;ousttrue.github.io&#x2F;tags&#x2F;ssg&#x2F;">ssg</a></li>




    </ul>
  </div>
</div>
 <p>最近、 rust を再開したので、
<code>Static Site Generator</code> を go 製の hugo から rust 製の zola に変更してみた。</p>
<p><a href="https://www.getzola.org/">https://www.getzola.org/</a></p>
<h1 id="hugo-nokaranoyin-tuyue-si">hugo のからの引っ越し</h1>
<h2 id="zola-insutoru">zola インストール</h2>
<h2 id="chu-qi-hua">初期化</h2>
<h2 id="config-toml-wo-hugo-ban-kara-zola-ban-nishu-kihuan-eru">config.toml を hugo 版から zola 版に書き換える。</h2>
<p>最低限 base_url。</p>
<h2 id="purebiyusitemiru">プレビューしてみる</h2>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">$ zola serve</span><span style="color:#c0c5ce;">
</span></code></pre>
<p>一部の記事でエラーが出る。</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">Reason: There is a link that is missing a URL</span><span style="color:#c0c5ce;">
</span></code></pre>
<p>どの記事がまずいかはわかるが、何行目とか場所はわからないのかしら。
適当になおす。</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">$ zola check</span><span style="color:#c0c5ce;">
</span></code></pre>
<p>の方がデバッグ向け。
いくつかなおしたら、エラーは出なくなった。</p>
<h1 id="tenpuretowoyong-yi-suru">テンプレートを用意する</h1>
<p>https://www.getzola.org/documentation/getting-started/overview/</p>
<p>に従って基本的なテンプレートを作成。
index.html, section.html, page.html の3種類のテンプレートがサーチされる。
section.html と page.html は、section のフロントマター、 <code>template</code>, <code>page_template</code> で変更できる。</p>
<h1 id="zola-no-content-gou-cheng">zola の content 構成</h1>
<p>section(フォルダ) に page が所属するという構成みたい。
section とうのは単なるフォルダではなくて、folder/index.md もしくは folder/_index.md をさす。</p>
<ul>
<li>root =&gt; index.html
<ul>
<li>section
<ul>
<li>_index.md (セクションになる) =&gt; section.html</li>
<li>page1.md =&gt; page.html</li>
<li>page2.md =&gt; page.html</li>
<li>subsection (_index.md が無いのでセクションでは無い) =&gt; レンダリングされない
<ul>
<li>page3.md (orphan page) =&gt; page.html</li>
<li>page4.md (orphan page) =&gt; page.html</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>セクションに所属しない page は orphan page となり、 <code>section.pages</code> のように列挙することができなくなる。
すべてのフォルダに <code>_index.md</code> を配置してセクション化するという設計思想のようだ。</p>
<p>セクションが木構造になっていて、page が leaf になる。</p>
<ul>
<li>section
<ul>
<li>subsections</li>
<li>pages</li>
</ul>
</li>
</ul>
<p>が再帰的に続く。</p>
<h2 id="zola-wogai-zao-sitemita">zola を改造してみた。</h2>
<p>orphan page が section.pages に入るようになる。
https://github.com/ousttrue/zola/commit/7842d0b2d05eb15400dbe20b20791b57af077de1</p>
<h1 id="zola-she-ding-config-toml">zola 設定 config.toml</h1>
<p>https://www.getzola.org/documentation/getting-started/configuration/</p>
<h1 id="tera-tenpureto">Tera テンプレート</h1>
<p>https://tera.netlify.app/docs</p>
<h2 id="extends">extends</h2>
<p>別ファイルを部分的に override する
https://tera.netlify.app/docs/#inheritance</p>
<h2 id="include">include</h2>
<p>別ファイルの部品を読み込む
https://tera.netlify.app/docs/#include</p>
<h2 id="date-format">date format</h2>
<p>https://tera.netlify.app/docs/#include</p>
<h1 id="toriaezumentenansuzhong">とりあえずメンテナンス中・・・</h1>
<p>hugo に比べて template の構成がシンプルでわかりやすいような気がする
(hugo に慣れているせいかもしれない)。
そもそも hugo の時点でちゃんと管理してなかったので、
ぼちぼち続きをやる。</p>

</div>

<nav class="toc">

<div class="toc_fix">
<ul>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2021/init-zola/#hugo-nokaranoyin-tuyue-si">hugo のからの引っ越し</a>
            
                <ul>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#zola-insutoru">zola インストール</a>
                        </li>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#chu-qi-hua">初期化</a>
                        </li>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#config-toml-wo-hugo-ban-kara-zola-ban-nishu-kihuan-eru">config.toml を hugo 版から zola 版に書き換える。</a>
                        </li>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#purebiyusitemiru">プレビューしてみる</a>
                        </li>
                    
                </ul>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2021/init-zola/#tenpuretowoyong-yi-suru">テンプレートを用意する</a>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2021/init-zola/#zola-no-content-gou-cheng">zola の content 構成</a>
            
                <ul>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#zola-wogai-zao-sitemita">zola を改造してみた。</a>
                        </li>
                    
                </ul>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2021/init-zola/#zola-she-ding-config-toml">zola 設定 config.toml</a>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2021/init-zola/#tera-tenpureto">Tera テンプレート</a>
            
                <ul>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#extends">extends</a>
                        </li>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#include">include</a>
                        </li>
                    
                        <li>
                            <a href="https://ousttrue.github.io/posts/2021/init-zola/#date-format">date format</a>
                        </li>
                    
                </ul>
            
        </li>
    
        <li>
            <a href="https://ousttrue.github.io/posts/2021/init-zola/#toriaezumentenansuzhong">とりあえずメンテナンス中・・・</a>
            
        </li>
    
</ul>
</div>


</nav>
</div>
</main>

    <footer class="footer">Powered by <a href="https://www.getzola.org/">Zola</a> <a href="https://github.com/ousttrue/zola/tree/custom">custom</a></footer>

  </body>
</html>
