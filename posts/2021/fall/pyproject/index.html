<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="generator" content="Nikola (getnikola.com)">
<meta name="viewport" content="width=device-width">
<script src="../../../../assets/js/all-nocdn.js"></script><title>æœ€è¿‘ã®pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã¨pyproject.toml | ä¸‰æ¬¡å…ƒæ—¥èªŒ</title>
<link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1 id="brand">
        <a href="../../../../" title="ä¸‰æ¬¡å…ƒæ—¥èªŒ" rel="home">
            <span id="blog-title">ä¸‰æ¬¡å…ƒæ—¥èªŒ</span>
        </a>
    </h1>

    <nav id="menu"><ul>
<li><a href="../../../../archive.html">Archives</a></li>
<li><a href="../../../../categories/index.html">Tags</a></li>
<li><a href="../../../../rss.xml">RSS feed</a></li>
<li><a href="../../../../about">About</a></li>
<li><a href="../../../../books">MemoBooks</a></li>

            
            
            
        </ul></nav><hr>
<main id="content"><h1 class="p-name entry-title" itemprop="headline name">
    <h1 class="p-name entry-title" itemprop="headline name">
    <a href="." class="u-url">æœ€è¿‘ã®pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã¨pyproject.toml
    </a>
</h1>
<ul itemprop="keywords" class="tags">
<li>
        <time datetime="2021-11-15T00:00:00+09:00" title="2021-11-15">2021-11-15</time>
</li>
    <li><a class="tag p-category" href="../../../../categories/python/" rel="tag">python</a></li>
</ul>
</h1>

<div>
<h2>æœ€è¿‘ã® python ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°æ‰‹æ³•ã‚’èª¿æŸ»</h2>
<p>æœ€è¿‘ã® python package ã®è¨˜è¿°ã®ä»•æ–¹ã§ã€ <code>pyproject.toml</code> ãªã‚‹ä½œæ³•ãŒã‚ã‚‹ã®ã§ãƒ¡ãƒ¢ã€‚</p>
<p>å…ƒã€…ã€ <code>setup.py</code> ã‚„ <code>setup.cfg</code> ã§è¨˜è¿°ã—ã¦ã„ãŸã®ã ã‘ã©ã“ã‚Œã«å¤‰ã‚ã‚‹ã‚‚ã®ã‚‰ã—ã„ã€‚
<code>setup.py</code> ã¯ã¨ã‚‚ã‹ã <code>setup.cfg</code> ãŒå¤§å¤‰åˆ†ã‹ã‚Šã«ãã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚
ã¨ã„ã†ã‹ã€ä½•ã‹èª¿ã¹ã«ãã„ã€‚
<code>setup.py</code> ã‚’å®£è¨€çš„ã«æ›¸ã‘ã‚‹ã‚ˆã€è©³ã—ãã¯ <code>setup.py</code> ã®ãƒªãƒ•ã‚¡ãƒ³ãƒ³ã‚¹ã‚’è¦‹ã¦ã€‚ã¿ãŸã„ã«ãªã£ã¦ã„ã‚‹ã®ã ã‘ã©ã€
æ›¸ãæ–¹ãŒã‚ˆãã‚ã‹ã‚‰ã‚“ã“ã¨ãŒå¤šã‹ã£ãŸã€‚</p>
<ul>
<li>(2016)<a href="https://www.yunabe.jp/docs/python_package_management.html">Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†æŠ€è¡“ã¾ã¨ã‚ (pip, setuptools, easy_install, etc)</a>
</li>
</ul>
<blockquote>
<p>2013å¹´ã« distribute ã¯ setuptools ã«ãƒãƒ¼ã‚¸ã•ã‚ŒãŸ</p>
</blockquote>
<h3>pyproject.toml</h3>
<ul>
<li>(2019)<a href="https://tech.515hikaru.net/post/2019-11-23-pyproject/">pyproject.toml ã¨ã¯ä½•ã‹</a>
</li>
</ul>
<blockquote>
<p>pyproject.toml ã¯ Node.js ã® package.json ãªã©ã®ã‚ˆã†ã«ã€ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹æ§˜ã€…ãªã“ã¨ã‚’å®šç¾©ã§ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å­˜åœ¨ã—ã¦ã„ã¾ã™</p>
</blockquote>
<p>ãªã‚‹ã»ã©ã€‚</p>
<ul>
<li>(2019)<a href="https://orolog.hatenablog.jp/entry/2019/03/24/223531">pip ãŒ 19.02 ã§ pyproject.toml ã‹ã‚‰ pip install ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸ</a>
</li>
</ul>
<h3>pyproject ã® build-system</h3>
<ul>
<li>(2019)<a href="https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-25-python-packaging-specs/">https://engineer.recruit-lifestyle.co.jp/techblog/2019-12-25-python-packaging-specs/</a>
</li>
</ul>
<h4>setuptools</h4>
<pre class="code literal-block"><span></span><span class="k">[build-system]</span>
<span class="na">requires</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">    "setuptools&gt;=42",</span>
<span class="s">    "wheel"</span>
<span class="na">]</span>
<span class="na">build-backend</span> <span class="o">=</span> <span class="s">"setuptools.build_meta"</span>
</pre>

<ul>
<li><a href="https://packaging.python.org/tutorials/packaging-projects/#creating-pyproject-toml">https://packaging.python.org/tutorials/packaging-projects/#creating-pyproject-toml</a></li>
<li>(2021)<a href="https://zenn.dev/detsu/articles/5d74bf72e96a0f">PyPIãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒªãƒªãƒ¼ã‚¹ã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã‚‚GitHubå˜ç‹¬ã§å®Œçµã•ã›ã‚‹</a>
</li>
</ul>
<pre class="code literal-block"><span></span><span class="k">[build-system]</span>
<span class="na">requires</span> <span class="o">=</span> <span class="s">["setuptools&gt;=45", "wheel", "setuptools_scm&gt;=6.2"]</span>
</pre>

<p>ãªã‚‹ã»ã©ã€‚
<code>setup.cfg</code> ã¨ <code>pyproject.toml</code> ã®å½¹å‰²ãŒè¢«ã£ã¦ã„ã‚‹ã¨æ€ã†ã®ã ãŒä¸¡æ–¹è¦ã‚‹ã®ã ã‚ã†ã‹ã€‚</p>
<ul>
<li>(2021)<a href="https://hirayarn.hatenablog.com/entry/2021/11/08/214053">PyPIã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¬é–‹ã™ã‚‹æ‰‹é †ã®æ•´ç†</a>
</li>
</ul>
<p><code>pyproject.toml</code> ã«ã¯ <code>build-backend</code> ã®æŒ‡å®šã ã‘ã‚’è¨˜è¿°ã—ã¦ã€ <code>setup.cfg</code> ã¨ä½µç”¨ã™ã‚‹ã¨ã„ã†ã“ã¨ã§ã‚ˆã•ãã†ã€‚</p>
<ul>
<li>(2018)<a href="https://astropengu.in/posts/23/">Python ã® setup.py ã®å†…å®¹ã‚’ setup.cfg ã§ç®¡ç†ã™ã‚‹</a>
</li>
</ul>
<h5>setup.py &amp; setup.cfg</h5>
<p>setup.py</p>
<pre class="code literal-block"><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span>
<span class="n">setup</span><span class="p">()</span>
</pre>

<ul>
<li><a href="https://packaging.python.org/guides/distributing-packages-using-setuptools/">https://packaging.python.org/guides/distributing-packages-using-setuptools/</a></li>
<li><a href="https://github.com/dephell/dephell/blob/master/setup.py">https://github.com/dephell/dephell/blob/master/setup.py</a></li>
</ul>
<h5>setup.cfg: metadata</h5>
<ul>
<li><a href="https://packaging.python.org/specifications/core-metadata/">https://packaging.python.org/specifications/core-metadata/</a></li>
</ul>
<h5>setup.cfg: options</h5>
<h6>setup.cfg: options.entry_points</h6>
<ul>
<li><a href="https://setuptools.pypa.io/en/latest/userguide/entry_point.html">https://setuptools.pypa.io/en/latest/userguide/entry_point.html</a></li>
</ul>
<h5>setup.cfg:</h5>
<ul>
<li><a href="https://setuptools.pypa.io/en/latest/userguide/package_discovery.html">Package Discovery and Namespace Package</a></li>
</ul>
<h4>poetry</h4>
<pre class="code literal-block"><span></span><span class="k">[build-system]</span>
<span class="na">requires</span> <span class="o">=</span> <span class="s">["poetry&gt;=0.12"]</span>
<span class="na">build-backend</span> <span class="o">=</span> <span class="s">"poetry.masonry.api"</span>
</pre>

<ul>
<li>(2019)<a href="https://rcmdnk.com/blog/2019/02/04/computer-python/">https://rcmdnk.com/blog/2019/02/04/computer-python/</a>
</li>
<li>(2018)<a href="https://kk6.hateblo.jp/entry/2018/12/20/124151">Poetryã‚’ä½¿ã£ãŸPythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–‹ç™ºã‹ã‚‰PyPIå…¬é–‹ã¾ã§</a>
</li>
</ul>
<h3>ç·´ç¿’</h3>
<p><a href="https://github.com/ousttrue/glglue">https://github.com/ousttrue/glglue</a> ã«ä½¿ã£ã¦ã¿ã‚‹ã€‚
çµå±€ã€ <code>setup.cfg</code> ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã¨ã‚ã¾ã‚Šå¤‰ã‚ã‚‰ãšã€‚
<code>setuptools_scm</code> ã«ã‚ˆã‚‹ git tag ã‚’ <code>version</code> åŒ–ã™ã‚‹æŠ€ã‚’è¦šãˆãŸã€‚
ã‚ã¨ã€<code>github actions</code>ã€‚
ãã®ã†ã¡ã€ <code>setup.cfg</code> ã®å†…å®¹ã‚’ <code>pyproject.toml</code> ã«æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šãã†ã§ã¯ã‚ã‚‹ã€‚</p>
</div>

<hr>
<ul class="pager hidden-print">
<li class="previous">
        <a href="../msys2/" rel="prev" title="msys2 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—">
            msys2 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— ğŸ‘ˆ
        </a>
    </li>
    <li style="flex-grow: 1">
    <li class="next">
        <a href="../pyside6/" rel="next" title="pyside6 ã‚„ã£ã¦ã¿ã‚‹">
            ğŸ‘‰ pyside6 ã‚„ã£ã¦ã¿ã‚‹
        </a>
    </li>
</ul></main><footer id="footer"><p>
            Powered by
            <a href="https://getnikola.com" rel="nofollow">Nikola</a>
        </p>
    </footer>
</body>
</html>
