"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5591],{8613:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var r=t(1151),a=t(7294);function l(e){const n=Object.assign({p:"p",pre:"pre",code:"code"},(0,r.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"練習用に入手してきた”HTML5/CSS3 モダンコーディング”を写経しながら jade を取り入れてみる。\nextend で layout を共有したかったので ejs から jade に取り換えてみた。\nsass も取り入れようかと思ったが思いとどまった。\nどんどん拡大・拡散していく gulp 環境なので控えめにしないと手に負えなくなりそうな感じだ。\ngulp 向けに jade 適用 plugin(ejs 版の改造)を作ってみた。\n既にそういうプラグインも存在していそうであるが、\nこのくらいなら自作した方が早かったり。\njade-applyer.js"),"\n",a.createElement(n.pre,null,a.createElement(n.code,{className:"language-javascript"},'var through = require("through2");\nvar gutil = require("gulp-util");\nvar fs = require("fs");\nvar jade = require("jade");\n\nmodule.exports = function (options, map) {\n  options = options || {};\n  if (!options.filename) {\n    throw new gutil.PluginError("jade-applyer", "`filename` required");\n  }\n  options.pretty = true;\n\n  map = map || {};\n\n  return through.obj(function (file, enc, cb) {\n    if (file.isStream()) {\n      cb(new gutil.PluginError("jade-applyer", "Streaming not supported"));\n      return;\n    }\n\n    try {\n      //console.log(file.frontMatter);\n      var template = fs.readFileSync(options.filename, "utf-8");\n      var data = JSON.parse(JSON.stringify(file.frontMatter || {}));\n      if (!file.isNull()) {\n        data.page = file.contents.toString();\n      }\n      for (var key in map) {\n        data[key] = map[key];\n      }\n      file.contents = new Buffer(jade.compile(template, options)(data));\n      file.path = gutil.replaceExtension(file.path, ".html");\n      this.push(file);\n    } catch (err) {\n      this.emit("error", new gutil.PluginError("jade-applyer", err));\n    }\n\n    cb();\n  });\n};\n')),"\n",a.createElement(n.p,null,"シンタックスハイライトも適用してある程度体裁が整ってきた。"))}var o=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?a.createElement(n,e,a.createElement(l,e)):l(e)};t(8678);function i(e){let{data:n,children:t}=e;return a.createElement(a.Fragment,null,a.createElement("h1",null,n.mdx.frontmatter.title),a.createElement(r.Zo,null,t))}function u(e){return a.createElement(i,e,a.createElement(o,e))}},8678:function(e,n,t){t(7294)},1151:function(e,n,t){t.d(n,{Zo:function(){return i},ah:function(){return l}});var r=t(7294);const a=r.createContext({});function l(e){const n=r.useContext(a);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const o={};function i({components:e,children:n,disableParentContext:t}){let i;return i=t?"function"==typeof e?e({}):e||o:l(e),r.createElement(a.Provider,{value:i},n)}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2015-11-20-starting-jade-md-7a9cbf5c76efbb090a67.js.map