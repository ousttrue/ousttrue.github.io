"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4095],{9282:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var o=n(1151),l=n(7294);function i(e){const t=Object.assign({p:"p",blockquote:"blockquote",a:"a"},(0,o.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(t.p,null,"bat作るときにたまに使う\ncmake.exeとmsbuild.exeの在りかについて"),"\n",l.createElement(t.p,null,'VisualStudio2017内のcmake.exe\nVisualStudio2017に同梱されるようになったcmakeのパスについて。\n以下のパスに存在する。\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\CommonExtensions\\Microsoft\\CMake\\CMake\\bin\\cmake.exe\nversion確認\nPS> &"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\Common7\\IDE\\CommonExtensions\\Microsoft\\CMake\\CMake\\bin\\cmake.exe" --version\ncmake version 3.6.20160606-g0391f-MSVC'),"\n",l.createElement(t.p,null,"CMake suite maintained and supported by Kitware (kitware.com/cmake)."),"\n",l.createElement(t.p,null,"レジストリからパスを得る\nシステムドライブの容量節約のためVSのインストールパスを変更している場合に必要だった。\nregコマンドでコマンドラインで値を得る。"),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,'reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\SxS\\VS7" /v "15.0"'),"\n"),"\n",l.createElement(t.p,null,"HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\SxS\\VS7\n15.0    REG_SZ    C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\"),"\n",l.createElement(t.p,null,'cmake呼び出しbat\ncmake_vs2017.bat\n@echo off\nFOR /F "TOKENS=1,2,*" %%A IN (\'reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\SxS\\VS7" /v "15.0"\') DO IF "%%A"=="15.0" SET VSPATH=%%C\n@echo on'),"\n",l.createElement(t.p,null,'set CMAKE="%VSPATH%\\Common7\\IDE\\CommonExtensions\\Microsoft\\CMake\\CMake\\bin\\cmake.exe"\nset BUILD_DIR="build_vs2017"'),"\n",l.createElement(t.p,null,'if not exist %BUILD_DIR% mkdir %BUILD_DIR%\npushd %BUILD_DIR%\n%CMAKE% -D CMAKE_INSTALL_PREFIX=%VCPKG_DIR%/installed/x64-windows -D OpenCVDir=%VCPKG_DIR%/installed/x64-windows/share/opencv .. -G "Visual Studio 15 2017 Win64"\npopd'),"\n",l.createElement(t.p,null,"使用例"),"\n",l.createElement(t.p,null,l.createElement(t.a,{href:"https://github.com/ousttrue/msgpackpp/blob/master/cmake_vs2017.bat"},"https://github.com/ousttrue/msgpackpp/blob/master/cmake_vs2017.bat")),"\n",l.createElement(t.p,null,"VisualStudio2017内のmsbuild\nC:/Program Files (x86)/Microsoft Visual Studio/2017/Community/MSBuild/15.0/Bin/msbuild.exe\nなので"),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,'reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\SxS\\VS7" /v "15.0"'),"\n"),"\n",l.createElement(t.p,null,"HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\SxS\\VS7\n15.0    REG_SZ    C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\"),"\n",l.createElement(t.p,null,'と組み合わせると得られる。\n@echo off\nFOR /F "TOKENS=1,2,*" %%A IN (\'reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\VisualStudio\\SxS\\VS7" /v "15.0"\') DO IF "%%A"=="15.0" SET VSPATH=%%C\n@echo on'),"\n",l.createElement(t.p,null,'set MSBUILD="%VSPATH%\\MSBuild\\15.0\\Bin\\msbuild.exe"'),"\n",l.createElement(t.p,null,"VisualStudio2015内のmsbuild"),"\n",l.createElement(t.p,null,l.createElement(t.a,{href:"https://github.com/Microsoft/HoloToolkit-Unity/blob/master/Assets/HoloToolkit/Build/Editor/BuildDeployTools.cs#L72"},"https://github.com/Microsoft/HoloToolkit-Unity/blob/master/Assets/HoloToolkit/Build/Editor/BuildDeployTools.cs#L72")),"\n",l.createElement(t.p,null,'レジストリ\nHKLM\\Software\\Microsoft\\MSBuild\\ToolsVersions\\14.0\nから得ることができる。\n@echo off\nFOR /F "TOKENS=1,2,*" %%A IN (\'reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\MSBuild\\ToolsVersions" /v "14.0"\') DO IF "%%A"=="14.0" SET MSBUILDPATH=%%C\n@echo on'),"\n",l.createElement(t.p,null,'set MSBUILD="%MSBUILDPATH%\\msbuild.exe"'))}var a=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,o.ah)(),e.components);return t?l.createElement(t,e,l.createElement(i,e)):i(e)},s=n(8678),r=n(1883),u=n(8838);const c={code:e=>{let{children:t,className:n}=e;return n?l.createElement(u.Z,{className:n},t):l.createElement("code",null,t)}};function m(e){let{data:t,children:n}=e;const i=t.mdx.frontmatter;return l.createElement(s.Z,null,l.createElement("h1",null,i.title),l.createElement("div",{className:"tags-index"},i.tags&&i.tags.length>0&&i.tags.map((e=>l.createElement(r.rU,{to:"/tags/"+e+"/",itemProp:"url"},l.createElement("button",null,e))))),l.createElement(o.Zo,{components:c},n))}function E(e){return l.createElement(m,e,l.createElement(a,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2017-05-cmake-exe-md-07db87e2d07f54c6d224.js.map