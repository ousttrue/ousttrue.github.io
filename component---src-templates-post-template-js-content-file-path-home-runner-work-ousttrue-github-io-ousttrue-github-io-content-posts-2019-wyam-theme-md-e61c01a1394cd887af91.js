"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6104],{2122:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var l=t(1151),a=t(7294);function s(e){const n=Object.assign({p:"p",h2:"h2",ul:"ul",li:"li",span:"span",a:"a",blockquote:"blockquote",strong:"strong",h3:"h3"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"cssとかの調整。"),"\n",a.createElement(n.h2,null,"調べる"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://wyam.io/docs/","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://wyam.io/recipes/blog/themes/"),"\n",a.createElement(n.li,null,"https://wyam.io/docs/extensibility/creating-a-theme"),"\n",a.createElement(n.li,null,"https://wyam.io/docs/extensibility/customizing-themes"),"\n"),"\n"),"\n"),"\n",a.createElement(n.p,null,"ローカルにファイルを配置することでテーマをオーバーライドできると書いてあるのだが、\nどのように配置するか正確なところがわからん。"),"\n",a.createElement(n.p,null,"試行錯誤したところ、"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">input</code>'}})," にテーマのファイルを直接コピーしたら反映された。"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">theme</code>'}})," フォルダでもよさそうなのだけど、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">input</code>'}})," しか ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">--watch</code>'}})," の対象にならないので、\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">input</code>'}})," に入れてしまうのがよさそう。"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">input\n  + assets\n  + _Layout.cshtml</code></pre></div>'}}),"\n",a.createElement(n.h2,null,"レイアウトの構成"),"\n",a.createElement(n.p,null,"ASP.Net のtemplateエンジン、 ",a.createElement(n.a,{href:"https://docs.microsoft.com/en-us/aspnet/core/mvc/views/razor?view=aspnetcore-2.2"},"Razor")," で構成されていて拡張子は、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">cshtml</code>'}})," 。"),"\n",a.createElement(n.p,null,"ファイル名は、",a.createElement(n.a,{href:"https://wyam.io/recipes/blog/overview"},"Blog Recipe"),"が規定している。"),"\n",a.createElement(n.p,null,"サイトのルート(index), 各記事(post), 記事一覧(archive, tag), タグ一覧(tags)などがある。単純な例はこれ。"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://github.com/Wyamio/Wyam/tree/develop/themes/Blog/BlogTemplate"),"\n"),"\n",a.createElement(n.h2,null,"テーマを作ってみる"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://github.com/Wyamio/Wyam.git"),"\n"),"\n",a.createElement(n.p,null,"をクローンして、",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">themes/Blog/BlogTemplate/*</code>'}})," を ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">input</code>'}})," にコピーする。\nconfig.yml も ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">#theme BlogTemplate</code>'}})," とする。"),"\n",a.createElement(n.p,null,"共通のレイアウトが ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">_Layout.cshtml</code>'}})," 。 その中の、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">@RenderBody()</code>'}})," にルート(_Index.cshtml), 記事(_PostLayout.cshtml), 記事一覧(_Archive.cshtml, _Tag.cshtml), タグ一覧(_Tags.cshtml)がはめ込まれる様子。"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">_PostIndex.cshtml</code>'}})," は廃止されたので使われない。"),"\n",a.createElement(n.blockquote,null,"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,a.createElement(n.strong,null,"[Breaking Change]"),"[Refactoring] Moved Blog recipe theme file ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/_PostIndex.cshtml</code>'}})," to ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/_Archive.cshtml</code>'}}),", no other changes should be needed to this file in themes other than to move it - sorry for the rename (again), the first name was kind of dumb, this one is better"),"\n"),"\n"),"\n",a.createElement(n.p,null,"日本語が文字化けするので、 ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">_Layout.cshtml</code>'}})," に ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">&lt;meta charset="UTF-8"></code>'}})," だけ足す。\nあとは適当にやってみる。"),"\n",a.createElement(n.h2,null,"cshtml からアクセスできる変数"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"Model"),"\n",a.createElement(n.li,null,"Context"),"\n"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="cshtml"><pre class="language-cshtml"><code class="language-cshtml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value variable"><span class="token keyword">@</span><span class="token csharp language-csharp">Context<span class="token punctuation">.</span><span class="token function">GetLink</span><span class="token punctuation">(</span>Context<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span>BlogKeys<span class="token punctuation">.</span>PostsPath<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Back To posts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",a.createElement(n.h2,null,"作業メモ"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"scss(wyamが対応している)"),"\n",a.createElement(n.li,null,"highlight.js (phantom themeからコピー)"),"\n",a.createElement(n.li,null,"旧記事を雑に復旧"),"\n",a.createElement(n.li,null,"locale https://wyam.io/docs/advanced/setting-the-culture"),"\n"),"\n",a.createElement(n.h3,null,"ToDo"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"404頁"),"\n",a.createElement(n.li,null,"一覧をpageで分割"),"\n",a.createElement(n.li,null,"記事内のTOC","\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"https://github.com/Wyamio/Wyam/issues/29"),"\n",a.createElement(n.li,null,"https://blog.kabrt.cz/posts/2018-11-wyam-blog"),"\n"),"\n"),"\n",a.createElement(n.li,null,"https://konpa.github.io/devicon/"),"\n",a.createElement(n.li,null,"http://fizzed.com/oss/font-mfizz"),"\n",a.createElement(n.li,null,"https://www.digitaltapestry.net/posts/poshwyam"),"\n"),"\n",a.createElement(n.h2,null,"動作"),"\n",a.createElement(n.p,null,"複数のパイプラインが登録してあって(Recipe)、ひとつずつ実行する"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">public IReadOnlyList&lt;IDocument> Execute(ExecutionContext context, IEnumerable&lt;IModule> modules, ImmutableArray&lt;IDocument> inputDocuments\n\nforeach(var pipeline in pipelines)\n{\n  ExecutionPipeline.Execute\n}</code></pre></div>'}}))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?a.createElement(n,e,a.createElement(s,e)):s(e)},o=(t(8678),t(8838));const r={code:e=>{let{children:n,className:t}=e;return t?a.createElement(o.Z,{className:t},n):a.createElement("code",null,n)}};function u(e){let{data:n,children:t}=e;return a.createElement(a.Fragment,null,a.createElement("h1",null,n.mdx.frontmatter.title),a.createElement(l.Zo,{components:r},t))}function m(e){return a.createElement(u,e,a.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2019-wyam-theme-md-e61c01a1394cd887af91.js.map