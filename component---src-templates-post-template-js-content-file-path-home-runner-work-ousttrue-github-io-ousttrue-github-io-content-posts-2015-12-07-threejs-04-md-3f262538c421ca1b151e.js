"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7828],{692:function(e,n,t){t.r(n),t.d(n,{default:function(){return i}});var r=t(1151),o=t(7294);function a(e){const n=Object.assign({pre:"pre",code:"code",p:"p"},(0,r.ah)(),e.components);return o.createElement(o.Fragment,null,o.createElement(n.pre,null,o.createElement(n.code,null,'source\n外部のJSONに記述されたモデルを読み込む機能がある。\nExternal models in Three.js\nを見てやってみた。\nOnLoad(geometry: THREE.Geometry, materials: THREE.Material[]) {\n    // create a mesh with models geometry and material\n    var material = new THREE.MeshPhongMaterial(materials[0]);\n    var mesh = new THREE.Mesh(\n        geometry,\n        material\n    );\n\n    mesh.rotation.y = -Math.PI / 5;\n\n    this.scene.add(mesh);\n    this.Render();\n}\n\nOnProgress(event: any) {\n    console.log(\'OnProgress: \', event);\n}\n\nOnError(event: any) {\n    console.log(\'OnError: \', event);\n}\n\nAddModelFromJson(path: string) {\n    var loader = new THREE.JSONLoader(); // init the loader util\n\n    // init loading\n    loader.load(path, this.OnLoad.bind(this)\n        , this.OnProgress.bind(this)\n        , this.OnError.bind(this));\n}\n\nJSONLoaderクラスを初期化してloadをコール、loadは非同期に完了してOnLoadコールバックでMeshを組み立ててシーンに追加するという流れ。\nOnLoadにMeshが返ってくればいいと思うのだが・・・\nモデルはサンプルファイルを探したのだが見つからなかったので、\nThree.js の JSONLoader のメモ\nを見てBlenderのThree.js exporterでお猿さんを作ってみました。\n一応、茶色いマテリアルをつけたのだけどうまくいかず。\nフォーマットはどうなっているのか？\ncubeもエクスポートしてみた。\ncube.json\n{\n    "faces": [35,2,0,1,3,0,0,1,2,3,35,3,7,6,2,0,3,4,5,0,35,7,5,4,6,0,4,6,7,5,35,0,4,5,1,0,1,7,6,2,35,0,2,6,4,0,1,0,5,7,35,5,7,3,1,0,6,4,3,2],\n    "name": "CubeGeometry.1",\n    "metadata": {\n        "generator": "io_three",\n        "vertices": 8,\n        "type": "Geometry",\n        "uvs": 0,\n        "version": 3,\n        "faces": 6,\n        "materials": 1,\n        "normals": 8\n    },\n    "vertices": [-1,-1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,-1,1,1,1,1,1,-1,-1,1,1,-1],\n    "materials": [{\n        "depthWrite": true,\n        "colorDiffuse": [0,0.64,0.040691],\n        "depthTest": true,\n        "specularCoef": 50,\n        "blending": "NormalBlending",\n        "shading": "phong",\n        "colorEmissive": [0,0,0],\n        "opacity": 1,\n        "transparent": false,\n        "DbgIndex": 0,\n        "visible": true,\n        "wireframe": false,\n        "colorSpecular": [0.5,0.5,0.5],\n        "colorAmbient": [0,0.64,0.040691],\n        "DbgName": "Material",\n        "DbgColor": 15658734\n    }],\n    "uvs": [],\n    "normals": [-0.577349,-0.577349,-0.577349,-0.577349,-0.577349,0.577349,-0.577349,0.577349,0.577349,-0.577349,0.577349,-0.577349,0.577349,0.577349,-0.577349,0.577349,-0.577349,-0.577349,0.577349,0.577349,0.577349,0.577349,-0.577349,0.577349]\n}\n')),"\n",o.createElement(n.p,null,"JSON Model format 3 (Soon to be deprecated)\nこれっぽいですな。\nなるほど。なるほど。"))}var l=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?o.createElement(n,e,o.createElement(a,e)):a(e)};t(8678);function s(e){let{data:n,children:t}=e;return o.createElement(o.Fragment,null,o.createElement("h1",null,n.mdx.frontmatter.title),o.createElement(r.Zo,null,t))}function i(e){return o.createElement(s,e,o.createElement(l,e))}},8678:function(e,n,t){t(7294)},1151:function(e,n,t){t.d(n,{Zo:function(){return s},ah:function(){return a}});var r=t(7294);const o=r.createContext({});function a(e){const n=r.useContext(o);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const l={};function s({components:e,children:n,disableParentContext:t}){let s;return s=t?"function"==typeof e?e({}):e||l:a(e),r.createElement(o.Provider,{value:s},n)}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-content-file-path-home-runner-work-ousttrue-github-io-ousttrue-github-io-content-posts-2015-12-07-threejs-04-md-3f262538c421ca1b151e.js.map